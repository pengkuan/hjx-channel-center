webpackJsonp([2],{"+/Qw":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{upList:{system:[],module:[],page:[]},getModuleData:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getPageData:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:"",pageIndex:"0",pageSize:"9999"},addData:{c_type:"1",c_system_id:"",c_module_id:"",c_page_id:"",pageIndex:"0",pageSize:"9999",c_datas:[{name:"",desc:"",access_flags:""}]},dataList:[],systemList:[],moduleList:{Search:[],Add:[],Edit:[]},addPower:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},rules:{c_system_id:[{required:!0,message:"请选择系统",trigger:"change"}],c_module_id:[{required:!0,message:"请选择模块",trigger:"change"}],c_page_id:[{required:!0,message:"请选择页面",trigger:"change"}]}}},watch:{"addData.c_system_id":function(e,t){this.addData.c_module_id="",this.getSystemModules(e)},"addData.c_module_id":function(e,t){this.addData.c_page_id="",""!=e&&this.getModulePages(e)}},mounted:function(){this.showList(),this.loadInfo()},methods:{validateName:function(e,t,s){t=r.a.Trim(t);var a=t.gblen();a<1||a>40?s(new Error("请输入40个以内字符")):r.a.checkSpecialWord(t)&&s(new Error("不能包含特殊字符")),s()},validateDesc:function(e,t,s){t=r.a.Trim(t);var a=t.gblen();(a<1||a>100)&&s(new Error("请输入100个以内字符")),s()},loadInfo:function(){var e=this,t={pageSize:"100"};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.upList.system=e.getEnableList(t.data.list)})},getSystemModules:function(e){var t=this;this.getModuleData.s_system_id=e,a.a.getModuleList(this.getModuleData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.upList.module=t.getEnableList(t.setRowspan(e.data.list)),console.log(t.upList.module)})},getModulePages:function(e){var t=this;this.getPageData.s_system_id=this.addData.s_system_id,this.getPageData.s_module_id=e,a.a.getPageList(this.getPageData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.upList.page=t.getEnableList(e.data.list)})},getEnableList:function(e){var t=[];for(var s in e)"1"!=e[s].status&&"1"!=e[s].Fstatus||t.push(e[s]);return t},setRowspan:function(e){var t=[];for(var s in e){var a=e[s].system_module_list;for(var r in a)t.push(a[r])}return t},showList:function(){var e=this,t={s_system_id:this.addPower.s_system_id,s_module_id:this.addPower.s_module_id,s_page_name:this.addPower.s_page_name,s_auth_name:this.addPower.s_auth_name,s_is_flags:this.addPower.s_is_flags,s_status:this.addPower.s_status};a.a.getActionAuthList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=t.data.list})},submitnow:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addActionAuths(t.addData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.$router.push({path:"index"})})})},handleItem:function(e,t){if("del"==t){if(0==e)return;this.addData.c_datas.splice(e,1)}else this.addData.c_datas.splice(e+1,0,{name:"",desc:"",access_flags:""})},cancelnow:function(e){this.$router.push({path:"index"})}}}},"+bRA":function(e,t,s){"use strict";function a(e){s("iMcO")}var r=s("srZO"),i=s("wVOu"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-14adf874",null);t.a=o.exports},"+rKZ":function(e,t,s){"use strict";function a(e){s("r8xx")}var r=s("RCq2"),i=s("DUNx"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-51eb2f0c",null);t.a=o.exports},0:function(e,t,s){s("j1ja"),e.exports=s("NHnr")},"0+7Z":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("BD管理 > 编辑")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("p",[e._v("1.基本信息")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[s("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号",disabled:""},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[s("el-input",{attrs:{maxlength:50,placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证正面："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证背面："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"上传头像："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("p",[e._v("2.合作状态")]),e._v(" "),s("el-form-item",{attrs:{label:"状态："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return s("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"0i3t":function(e,t){},"1L7g":function(e,t,s){"use strict";function a(e){s("cVes")}var r=s("Xci/"),i=s("PwEm"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"23Un":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 编辑")]),e._v(" "),s("div",{},[s("p",{staticClass:"hjx-black"},[e._v(e._s(e.form.strFullName))]),s("br"),e._v(" "),s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{staticClass:"channelInfo",attrs:{label:"商家信息"}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px",rules:e.rules}},[s("el-form-item",{attrs:{label:"渠道关系模型："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.strLevelId,callback:function(t){e.$set(e.form,"strLevelId",t)},expression:"form.strLevelId"}},e._l(e.channelTemplateList,function(e){return s("el-option",{key:e.strTemplateId,attrs:{label:e.strTemplateName,value:e.strTemplateId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"商户全称：",prop:"strFullName"}},[s("el-input",{attrs:{placeholder:"请输入合同乙方营业执照名称"},model:{value:e.form.strFullName,callback:function(t){e.$set(e.form,"strFullName",t)},expression:"form.strFullName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所属品牌商/合作方："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strPartner_id,callback:function(t){e.$set(e.form,"strPartner_id",t)},expression:"form.strPartner_id"}},e._l(e.partnerList,function(e){return s("el-option",{key:e.strPartnerId,attrs:{label:e.strPartnerName,value:e.strPartnerId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"营业执照地址："}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_province_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.form.strAddr_province_id,callback:function(t){e.$set(e.form,"strAddr_province_id",t)},expression:"form.strAddr_province_id"}},e._l(e.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_city_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.form.strAddr_city_id,callback:function(t){e.$set(e.form,"strAddr_city_id",t)},expression:"form.strAddr_city_id"}},e._l(e.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_area_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.form.strAddr_area_id,callback:function(t){e.$set(e.form,"strAddr_area_id",t)},expression:"form.strAddr_area_id"}},e._l(e.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strDetailAddress"}},[s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.strDetailAddress,callback:function(t){e.$set(e.form,"strDetailAddress",t)},expression:"form.strDetailAddress"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{attrs:{label:"营业执照号码：",prop:"strLicense_num"}},[s("el-input",{attrs:{placeholder:"请输入商户营业执照号码",disabled:""},model:{value:e.form.strLicense_num,callback:function(t){e.$set(e.form,"strLicense_num",t)},expression:"form.strLicense_num"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"工号前缀：",prop:"strPrefix_str"}},[s("el-input",{attrs:{placeholder:"2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)"},model:{value:e.form.strPrefix_str,callback:function(t){e.$set(e.form,"strPrefix_str",t)},expression:"form.strPrefix_str"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商户负责S4："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strConnection_info,callback:function(t){e.$set(e.form,"strConnection_info",t)},expression:"form.strConnection_info"}},e._l(e.channelUserList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"月手机销量："}},[s("el-input",{model:{value:e.form.strMonth_sales,callback:function(t){e.$set(e.form,"strMonth_sales",t)},expression:"form.strMonth_sales"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商户等级："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strChannelScore,callback:function(t){e.$set(e.form,"strChannelScore",t)},expression:"form.strChannelScore"}},[s("el-option",{attrs:{label:"S",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"A",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"B",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"C",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"D",value:"4"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"估价模型："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strValuationId,callback:function(t){e.$set(e.form,"strValuationId",t)},expression:"form.strValuationId"}},[s("el-option",{attrs:{label:"2B估价模型",value:"2"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"渠道分成："}},[s("el-form-item",{attrs:{label:"分成比例（%）：",prop:"strPercent"}},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.strPercent,callback:function(t){e.$set(e.form,"strPercent",t)},expression:"form.strPercent"}})],1)],1),e._v(" "),s("div",{staticStyle:{height:"16px"}}),e._v(" "),s("el-form-item",{attrs:{label:"苹果机型封顶（元）："}},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.strApplyMax,callback:function(t){e.$set(e.form,"strApplyMax",t)},expression:"form.strApplyMax"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"店员激励："}},[s("el-button",{attrs:{type:"primary",size:"small"},model:{value:e.form.strShopAwardId,callback:function(t){e.$set(e.form,"strShopAwardId",t)},expression:"form.strShopAwardId"}},[e._v("+设置店员激励方案")])],1),e._v(" "),s("el-form-item",{attrs:{label:"付款模式："}},[s("el-select",{attrs:{placeholder:"请选择付款模式"},model:{value:e.form.strPayMethodId,callback:function(t){e.$set(e.form,"strPayMethodId",t)},expression:"form.strPayMethodId"}},[s("el-option",{attrs:{label:"预付",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"垫付",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"店员/用户APP："}},[s("el-checkbox-group",{model:{value:e.form.selfFunction,callback:function(t){e.$set(e.form,"selfFunction",t)},expression:"form.selfFunction"}},[s("el-checkbox",{attrs:{label:"收集用户信息"}}),e._v(" "),s("el-checkbox",{attrs:{label:"环保回收"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"合作状态："}},[s("el-select",{attrs:{placeholder:"请选择合作状态"},model:{value:e.form.strStatus,callback:function(t){e.$set(e.form,"strStatus",t)},expression:"form.strStatus"}},[s("el-option",{attrs:{label:"合作中",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"停止合作",value:"2"}})],1)],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("form")}}},[e._v("立即更新")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"门店列表"}},[s("el-form",{attrs:{inline:!0,model:e.filters}},[s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店ID"},model:{value:e.filters.strStoreId,callback:function(t){e.$set(e.filters,"strStoreId",t)},expression:"filters.strStoreId"}})],1),e._v(" "),s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店名称"},model:{value:e.filters.strStoreName,callback:function(t){e.$set(e.filters,"strStoreName",t)},expression:"filters.strStoreName"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add_store"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strStoreName",label:"门店名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strProvinceName",label:"门店地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                        "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\r\n                    ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strRelationD1List",label:"D1"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.strRelationD1List.length?s("span",[e._v("\r\n                            "+e._s(t.row.strRelationD1List[0].strUserName+" / "+t.row.strRelationD1List[0].strPhoneNum)+"\r\n                        ")]):t.row.strRelationD1List.length>1?s("span",[e._v("\r\n                            "+e._s(t.row.strRelationD1List[0].strUserName+" / "+t.row.strRelationD1List[0].strPhoneNum)+"  ...\r\n                        ")]):s("span",[e._v("暂无")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                        "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n                    ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.editStore(t.row.strStoreId)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.disableStore(t.row.strStoreId)}}},[e._v("禁用")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.enableStore(t.row.strStoreId)}}},[e._v("启用")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"产品价格配置"}})],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"2mq/":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("BD tree管理")]),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"请选择BD4："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择BD4"},model:{value:e.strRelationId,callback:function(t){e.strRelationId=t},expression:"strRelationId"}},e._l(e.BD4List,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strRelationId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点搜索："}},[s("el-input",{attrs:{placeholder:"请输入姓名或手机号",icon:"search"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.handleIconClick(t)}},model:{value:e.searchNode,callback:function(t){e.searchNode=t},expression:"searchNode"}},[s("el-button",{attrs:{slot:"append",icon:"search"},on:{click:function(t){e.handleIconClick()}},slot:"append"})],1)],1),e._v(" "),e.showNext?s("el-form-item",[s("el-button",{on:{click:function(t){e.getNext()}}},[e._v("下一个")])],1):e._e()],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-tree",{staticClass:"Dtree",attrs:{data:e.treeList,props:e.defaultProps,"node-key":"strRelationId","default-expanded-keys":e.defaultExpand,"highlight-current":!0,accordion:"",indent:20,"current-node-key":e.defaultChecked},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),s("el-col",{attrs:{span:18,id:"loading-area"}},[s("div",{staticClass:"grid-content bg-purple-light"},[e.showRightInfo?s("div",{staticClass:"rightInfo"},[s("div",{staticClass:"top-title"},[e._v("节点信息")]),e._v(" "),s("div",{staticClass:"right-title"},[e._v("修改节点信息")]),e._v(" "),s("el-form",{ref:"replaceNodeForm",attrs:{model:e.replaceNodeForm,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.replaceNodeForm.strUserId,callback:function(t){e.$set(e.replaceNodeForm,"strUserId",t)},expression:"replaceNodeForm.strUserId"}},e._l(e.replaceNodeForm.replaceNodeList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                            "+e._s(e.replaceNodeForm.level)+"\r\n                        ")]),e._v(" "),s("el-form-item",{attrs:{label:"节点销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.replaceNodeForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleProvinceId",t)},expression:"replaceNodeForm.saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.replaceNodeForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleCityId",t)},expression:"replaceNodeForm.saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.replaceNodeForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleAreaId",t)},expression:"replaceNodeForm.saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.replaceNodeForm)}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.replaceNodeForm.addSaleList.length,expression:"replaceNodeForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.replaceNodeForm.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a,e.replaceNodeForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticClass:"text-right"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.replaceNodeForm,"replaceNodeForm")}}},[e._v("确认更新")])],1)],1),e._v(" "),e.delNode.showDelNodeModel?s("div",[s("div",{staticClass:"right-title"},[e._v("删除节点")]),e._v(" "),s("el-col",{attrs:{span:18}},[e._v("\r\n                            "+e._s(e.delNode.info)+" \r\n                        ")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:6}},[s("el-button",{attrs:{type:"primary",icon:"",size:"small"},on:{click:function(t){e.delThisNode(e.relationIdFn)}}},[e._v("删除此节点")])],1),e._v(" "),s("br"),s("br")],1):e._e(),e._v(" "),e.showAddNext?s("div",[s("div",{staticClass:"right-title"},[e._v("新增下级")]),e._v(" "),s("el-form",{ref:"AddNextForm",attrs:{model:e.AddNextForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.AddNextForm.strUserId,callback:function(t){e.$set(e.AddNextForm,"strUserId",t)},expression:"AddNextForm.strUserId"}},e._l(e.AddNextList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                                "+e._s(e.AddNextForm.level)+"\r\n                            ")]),e._v(" "),s("el-form-item",{attrs:{label:"节点销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.AddNextForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleProvinceId",t)},expression:"AddNextForm.saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.AddNextForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleCityId",t)},expression:"AddNextForm.saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.AddNextForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleAreaId",t)},expression:"AddNextForm.saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.AddNextForm)}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.AddNextForm.addSaleList.length,expression:"AddNextForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.AddNextForm.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a,e.AddNextForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticClass:"text-right"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.AddNextForm,"AddNextForm")}}},[e._v("确认添加")])],1)],1)],1):e._e()],1):e._e()])])],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},"2qbl":function(e,t,s){"use strict";function a(e){s("Xe9z")}var r=s("hXUq"),i=s("23Un"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"3AN7":function(e,t,s){"use strict";function a(e){s("tyID")}var r=s("O2LU"),i=s("6nt1"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"3Anq":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("BD管理 > 详情")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editBD(e.strUserId)}}},[e._v("编辑BD")])],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号详情"}},[a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"邮箱："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strEmail))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[e.ruleForm.baseinfo.strCardPicFront?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicFront}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[e.ruleForm.baseinfo.strCardPicBack?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicBack}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[e.ruleForm.baseinfo.strHeadPic?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("2.数据范围")]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.ruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strMyLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                        "+e._s(t.row.strLeadUserName+" / "+t.row.strLeadPhoneNum)+"\n                                    ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.ruleForm.saleareaList,function(t){return a("div",[e._v("\n                                "+e._s(t)+"\n                            ")])})),e._v(" "),a("p",[e._v("3.收款信息")]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[e.ruleForm.accountInfo.strWechatName?a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatName))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[e.ruleForm.accountInfo.strWechatOpenId?a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatOpenId))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"微信头像："}},[e.ruleForm.accountInfo.strWechatHeadPic?a("img",{attrs:{src:e.ruleForm.accountInfo.strWechatHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"负责门店"}},[a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"所属商户"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\n                            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):"5"==t.row.strStatus?a("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"生效时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUpdateTime",label:"截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.storeBDetail(t.row.strStoreId)}}},[e._v("详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("br"),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"3frX":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAACMCAYAAAAZfbkZAAAXCklEQVR4Xu1daWwVVfs/pza3giAUIu7/t8Y1+kape9soxfj/4vZi9INLDCVx6b1+sLh88IMCGmOMCyXRmbokVFHRoLGIGqKhUEJvDVU2oXGrFFwokkqrCBSk581vck/f0+nMnZkzc2/Pmc6T3LDcs8yc87vPeZ7nPAslCSUroOgKUEWfK3msZAVIAs4EBMquQAJOZbcmebAEnAkGlF2BBJzKbk3yYAk4EwwouwIJOJXdmuTBEnAqjoGGhoapR44cmcsYq6WU1hJCpuKRGWM9lNJmwzAWKf4K0o+XgFN66Qrbsb6+vqKkpGQBIaQu30yMsRbTNG8t7NOMzegJOCNc9xygRC6H0fsZY82mac73M5VfUNrGqjQMY4uf8XVqk4Azgt2qr6/Hkbsgd+y6jTjPMIzmfNNlMpmHCCEL+dEd4NEWGYaBfrGiBJwhthPy4ODg4FJK6Rwfw6w0DMOxHbglpRTjQKaUIdexZQZTpU8CTsmdSKfTcwAov1yOMdZmmuYo8IHrlpSUfOR3HKfHdRtb8tWU6ZaAU2Ir0un0YkppQ8Cuo47eTCYDhSeK4zjhnAE3I5bNM5kMuGVeDdrpxYeGhmY3NTWtw3cBxQE/65jInH5WKa5tcvbGxTLAZIwNmKZp2Sdz46wlhMyMcK08la0I5yraUMmx7nOp0+n0Rz4VH6cRLc6WyWQASHDeKIGJ+RJTks99jF0z2aOcL0QqlSo/cuRIBSEEHNPioFGRyJWjGlOVcRLO6bET6XS6gVKK41yWcL3YUghg4oEYY2+aphlYBpZ9mWL2S8CZZ7VzZh5wOykCV2OMzQlrKso3OWPsVtM0Af7YUQJOly3NKS47wxzD4GqU0v+EGcMDmMOKVuyQSUgSQ+S2qSEVIAzbnxs7UhlTfN44H+l4z4RzOqAzAjmzWIwsllo6X7wEnDYYRXGcFwOZcb2yFNcuAacNSel0uplSOrcYAAs5RywN7wk4XVCRc1lrDAmaYnTfZRgG7KaxpoRzEkJC+FGOFThizzXHvUKUcxKGH6VOXKg/lUqd1djYyK0BY/UDKfi845JzFsArqOAbZZsAwGyMc3DbuOScUTj3FhuJbvMhApMxNo+74qnyXFE9x7jinBE690a1/pGMwxhr9BtAF8mERRpk3IAzrGdRkfYjzDRbUqnU7DjJorEHp6xzb1lZGcHn6NGj5LfffiMlJSUWcLq6ujwBdMYZZ1j9Jk6cCK8hcsIJJ5ATTzzRs18EDSCLzo5LmHCswRkEmABUb28v2b17N9m1a1cEOBk9xCmnnELKy8vJpEmTSGlpaUHmyMXJz4uDp1JswekHmNOnTydXXXUVufLKK8mzzz5L1q2zQnyKQieddBKZNWsWOfPMM8kPP/xA+vr6op5Xe1tobMGZTqfXusWBA5Q33HADufrqqy1ALFiwgKxatSpqcHiOd+mll5I33njDagdwbt261fqBRAhUrQEaS3BmMhlcQSJ7xigCKK+77joyYcIE67uvvvqK3H///Z5AKkQDzFtfXz9q6C+//JJ89tlnUYFUW4DGDpyZTAYhCwgiG0EAY0NDA4FsKdJ9991Hvv7660Jgz3NMN3Dyjq2treTDDz/0HMdHAy0BGitw5pJgbbZ7ngOQAAKOc5Gghd90000+9rYwTRYuXEhuueWWvIP/8ssvZNmyZQR/hiTtABorcDrJmQAmOCY/xsUNXrt2LXnkkUdC7rl899dee41cfvnlngMcOnSIfPDBBwTHfUjSCqCxAaeT97rbUc43uKmpiQAgY0WbNm0KNDU4aFiA6hQQFwtwunmv4yi/5JJLXAEwluA877zzyHvvvRcInGgcAUD7h4aGKpuamnoCT17kDrEAZyaTQTIsJMUaphtvvNEyF+WjsQTnnXfeSR577DGp7Q4LUMbYOtM0Z0tNXsRO2oPTiWtCznz88ccDL+N3331H/vrrL6sf/sS/7X8PehS7PcTy5cvJ+eefH/gZ0QEyaGNjYyglSYfjXXtwOnFNKEDnnnuu1Mb76QQtH8DFB3bS77//nhw4cMBPV6uNaHz33cnWENo7AAqgyhDc7UzTPEumb7H6aA/OdDq9U/Rkx63PPffcU6z1G54HgAVQOVgB2EJwTXFMGOo//fTTMO+qtPauNTidDO5PPfXUKHtmmN2T7QuxgIMVRn6AFUrQAw88QGbPjk7ce/LJJ6VvklTnnrqDEzmCkO7ForHimrIAjqIfnEZwvIcgZbmntuDMKUL7xU1RhWuGAIpU15DcU1nNXVtw5goGING/RbBnjpUDhxSiIuwEwzzMS7I0NDR0lop2T53BOSIzB2S5iy++WHZ/tO/36KOPhtHc55umGUo2KMQC6gzOYS0d15QvvPBCIdZHmzFDGua3GIZRqdrLagvOTCbDwipCsFO++uqr5KWXXlJtXwI/D+ye8OaXJaQGVy04Tktw2jMOyx7pzz//vOXLKXPHLQuCQvYLebQrlyFZS3DaPZBeeeWVwHsOOyTu3++66y5Hb/TAAyrQAR5WCPWQJOVqGWkJTjEMA4bthx5yjMhw3SMAEx7wuNXBDcvkyZMl9zN/t2uvvdYSGfz4bEbxAGG0dhXzfWoJznQ6vY5SOgsbinig2267zffefvLJJ2Tp0qVk7969VvTj9ddfH+mNjfgg9957L6GUktdff93384VpGEbuVPG2SHtwOsmb4IjgjvD6wd/37NljOWmsWLHCikmH4wUM9uCYONpxnbhoESqyREs8eM6vx3sUsz/44IPSwxiGoRQelHoYv6sqck4nD6Q77rjDussWCdk3kHnjmWeeGXHMwgT17rvvWuEad999t99H8N1u/vz51rNA6SqU+CA+DDR22XijBJy+t9W9oeiJ5KQMib6YGAWgQLwQYsLtmjlMSfggCwe+O+200yJ4wv8NsWHDBsu39IorriiKyWrJkiWjfph+X0gsHuu3TyHback5uY0ziPEdygl8LgFAKFGcxIQKfqIh/WwGjnMA3h5yXF1dTV5++WU/Q0i3CeNGl4BTetn/15GDM4imDjkThD6QN/EnwAOtnVOY0Ak+BpwwoHRxuuyyyyyOCcDih4Dw5LfeeqtgR3wCzggAFmaIMOCsra0l+CB+CIm7RArroW4H5qmnnjpC1oRS9vDDD5M//viD1NXVkZtvvnmUGAEFLoxokYAzDLIi6CsLTjHikcua4uMgwQK4qgy988475MUXXxzRFRYAAFAkyMNQ2AYGBsjBgwctDs4VJYAXfw/j3R7GvzM51mV23tZHBpywOXKZE8NBQ7c7i3ilh8n36DBJwWQlklswHORfmMDAIXksEkAJ0xfMWmE4Zxhwqna/rqVCxE1JQWROHgYMgzhAgCPYnvIQsqIMMNwyh6xfv96yAojEfxSycetev+0w4ExMSV6r6+P7fOA8duwY+eeff6ysxHa6/fbbyU8//eQ4A5yVcXMkQ27x7zjSReM+7J2cg2OeqMKMxWeWBSfKb5umWbAisjLrqiXnzGQyVuyQU3z6zz//bBmhp02bRs455xxy3HHHDa8LlAVozlBIRMI4UFSuueaaEe39LigA5wY0aOtI1oXj++OPPx4RQqwYONtM06z1+87FaKcrOIczfNiN8H/++SfZsWOHtXYA5kUXXWTdDIEAXHCvzz//nHz77bdWvnZkNkZgHG6QKioqCDTsoJQPnBgL1gF4P0GMwLEOwjxhFB+3Z5TV1lUsj60lOEWXuaefftrikiL19PQMKyd2gOLYx//hT4D18OHDVtf9+/dbnBbpsIMSrijb2tocu0HmhOzJiStOcDpZvHhx0Kk824cAp3KhGlqCU3Q2dsvu8eOPP5J9+/Y5clDPHQ7YAMc1bpecCMe66JXEwRnVbZR9TtlwDdXMSHgvLcEphgVDyXFLUsDlT7woju18GecC4nFEc9guwQmdCFo58r6Dg/IbqUId6Zhf9m5dNU1dW3DiwTOZDFL4/csrkQKUHxzzg4ODpKqqKgwGXftCRAAHb29vdwUoHI65QlQoronJJWPYVxqGMacgixNiUC05Zw6clsaOu2o/tzpc1gyxVq5dOYd+7rnnrDpG+aiQwMS8Mv6cjDHl5E2tOaeXUlQIELqNyS0EuI5EgQGn7MM4yhGAFmWeJPvzyHrCJ0kVIkZLJpOZSQhBcQIrqxyvKRTxNIGHgyIGMxUAypN3oQiXV2GCwBM5dMBNFXLHByHG2FbTNLGWypG2x7ood6qUigbiw86dOwm4KeRcEGytxah9KRN9qeqRrvWxngPncDEsOHE4VcwYS3YAWfTvv/+2EtmKN1WFeCYkkYXYEJRUc/YQn193zhnJ0Q5TEMANh2Dxhuj000+3XN7ChvaCmwKk4KYiAbBRVRSWCQtW8VYoNuAUj/YgHkp27gL/SqekrnD8hfkH9+IoAxg0hzvACDc6+12+fX6AFN5Q9upyQbigTGCbqooQf2+tOSdeQtTaC5ULHiCF/RBKjV/FBrdTUI6CkOzdvoyWrmISBftaaQ9O3BYNDg72UEqn+LV5BgEMb4ujnwPUjzkIHkdcIfI7n+zdvsytkIrXlbEDZ+5oH/ZSCpoBxC9weDu/MT5BOSeOdNReD0oy/ps6cE3ttXW+kSL3xP+pYvcE54TMyeOFRODBGRr3/VOmTCEzZsyQ1ubjKGvGRubkLyLWI/KqeRmUO6naXtI9Trlscm7rq73MKb5YOp3eQim1il3GHaAyxzkhZFcqlZqpWpLYcQFO8UozzgANUb2t0jCMLaqeBLFUiMSXspcbjBsHxU0Q5My+vr5AGFP5mnJccE5B/hxRPAv/n88pOdAuj2FjcEzcn0sA803TNOvG8NGlpo6VzGnT3pFgdkSxdTiIQJNX7Q7ez87JHuUqex15vXcswYmXzpmXRgEUwOQJY70WR5XvZVzh8OwAZllZWa0uClDsZU7xBd0AijYweuOoL2Tp67Dgxp08AtbyVSB2m0N3YOK9tOWc2Wy2mSHwnJCWiRMntlVWVvY7bVQOoI2U0rlO38NhhMeuhwVTVP2h9IBbtra2SlVlww1QWVnZHF05Jl9HbcHZ3t6+n1Iqpk9poZRCEWqrqqpC8NsIcip/LTbAvTy86fGxx8FHBTqvccKCMjf+EsMwGrzm0uF7LcGZzWYRKfgRal3iihCuaTgCuaMFYwzGeHDWtpqammG7Xn19fUVJSQkclIfLYDttEo58cFSMX4xjHwZ1+GOihhAAKkPIdUQIqTNNEz/QWJCu4GwuLS2dizzrIsGhF5k7AFT8PUfgoi1wrOVAzSVlAHfJC1I+AIAKwML5GBwWH1nuCiCCoH3jEwaQwruvTKVSdbof4/ZflJbgxJF+8sknTz377LNdOQS4KEDKuSoaMsYgl4KztNTU1KwEJ6WUwqNpDlzugrIbDlSvfrBLBrVNeo2Ze582xtjCpqamdX7a69ZGO3C2t7fPpJRuhle6X+6FlIgAKrgqwIp/58iSU3fs2LFu06ZNsxljdbz4lsobCU2cUtpoGEazys8Z9tm0A2c2m7WC2sJk7+BAhSubXU7t6elZu2HDhksZY7WUUqQE/FfYRY6if06mhHjSHFdOqf2xns1md06bNq0iaDyPG0Agm8IxGByVy6k5hWodl1PT6XSzmykqCuDlGWMXYwxHdkucFB2/a6YV5+zo6KhgjO2ErAkH3aiJy6kAq6hQ7dmzZ1tnZ+ekgYGBy2RkU6/nzHFFWBggE2/BjwOfpqamUSYxr7Hi9L1W4Mxms9CwF0NLLy0tLeg+iHIqj56EQtXb27t+27Ztx+/btw+l3v4d4iG2GIZRGaJ/7LtqBc729vbNU6dOnXnhhRcWfWO4nIo/uULV39//+fbt2//+9ddfJx09evT/gz6U6qG5Qd8n6vbagHPz5s1TDx06tF82fDbKheNyqmj47+jo2Nfd3R00LfK8uGvcYdZdG3B2dHTUMcaWosqaU6WMMIsQpu+2bdvI6tWrrVLZEhSbq0aJd/fsog0429vbWyZNmvQfXCmOJeGGBx8Y1eEtlC+bB1LNMMaGDh48WOL0zLqE6I7VemsBTn6kI48RjvWxosbGRguYXnT88cdbFTSQDx535QDwxo0b+7u6ukbU+UnAmX8ltQCn6OjBy7Z4AaQQ33tlDQYokdQBH9HbvrOzk6xataq7r69vxH1rAs54gLO5rKxsLi9LXQjg+RnziSeecDzG4RACQCIMxB4CAq6JRGBvv/32qCkScMYAnH4cPfyAy28bGOPFMjE8IwfkTJ6xGE4f8FQCIPF3N+ru7kZqxYPr16+f6NBGyUIBftep0O2UP9Y7OjpqGWNrgzh68EVDKhhcS6LwlV8nEZiJoIGLBOsAQCiTABZH+urVq3/s7e09x2Eztcm+UWggOo2vPDjh6FFaWvqQ3Xcz32IBYEg/iAICnPzaR8Xqb+IcMhngONCXL1/++7Fjx0bdtzLGbh2Pd+Z+ga4DOHfOmDGjIp/vpviycOBFumsn8mMjRd1MewZijCWTBQ5A7+rqcqxxqWKVXr+gKVY7pcHJfTf9OHo4cUv7IuJ4BwfMR2JZwrCcEzk616xZ093T0+PkFZ0c6R4oVx2cCymlC7wcPfJxS/H9ITOi7IqXSBCFzAmlCuBcsWLF7sHBwf+zzalVQq1icUr7PKqDc/P06dNnuvluAgCo+SPKll4L6Uexwri///67VVkYypBM/kwoY9u3byctLY7xZsmdutdGqRy3zn033RQZbD5kSwAoCMnIjkHG523BfbPZbPc333yTGN5lFlBlcHLfTbsSA64GudBJafGzBihWhaJVhST8YDZu3Ihboe0DAwN2n0+t0hAWcp28xlb2WHdy9JDllkHlTq9F8/oeIgHEjffff39EU9Xr/ni9V7G/VxKc3NFDPILdTDwyCwalyI9BXSyHHUQcwHVlR0fHz52dnSMqECTOxcF2S0lwct9NuMdxRw8clQALrhAR4huG/NSidDLGi8/jNj8/0r/44ouuvXv3ii77yVVlwE1TEpxI0oWMHgCDk2NxWKB6aey8frp9Lf247AmOHn8RQiYLYyR2zZiAE+Gws/Au4Jzl5eXW3biTuxwHKmLQAQw/2nu+Izpf/SA/yhQcPbZu3bp3zZo1J9v2IgFnHMCJd4ApiRBSOzQ0hFQxVk4jcFGAFB+3EtEAKP+4AdUNnH4KW3klc4CjR2tra9fu3bvtUXjJsR4XcIrvkVOQkH0D2eXwmYLQYIAUXBWFppwUHDegOnFAv7dM+eRVmLeguLk5eqhcPjogborSXEmZ0+vNc250HKhWuhgRqE5yKgcqt49yFzj8GzKmX7tpPpEgp0QNIBuxS/KF5Gj32lzhey3BKb4fnEM4R+UFCiCbch9OJ6A6hfb6XbN8cmeuGOuby5YtQ4KwjxzG7DcMo9zvXOO9nfbgFDcwd+U5J5eEa4ScCrA6KVQyQHWSO7nvJqV0XlVVVbNTJuXECB/s5xYrcNrl1MOHD1tAdZJTnTzj/QLVyd6J2ysc6xMmTCjn+emRpBapCnMcfUkqlVoYtwSvweAWrHVswWlfhlwEJ+TU4bSGXE5FDJBdoeJJvXAVafd6cnJGgaPHgQMHVtbU1GCOhCJYgXEDTrucSilFBhFwNquQFjR+bk+1y6l2oKLdBRdcMDwk990khMyvrq5G/tCEIliBcQlOJzk1d/QPG/6h+DjJqbxAAr7jxI90SulZTpU8ItincTnEuAenk5xqN/yLXNUJJXD06Ovr21pTUwPLQUIRrUACzjwLKcipIwz/kydPtmLVIadyRw/G2KKamhoUP0goohVIwOlzIXPBdqi8C6AOG/5xUwWliTFWKdY88jls0izPCiTglICHYE9F9Q0oVLuqq6vHLsOYxDvo0CUBZ8hdAlCHhoamJlwz5EI6dE/AGf2aJiNGtAIJOCNayGSY6Ffgv/DsakGhYzIFAAAAAElFTkSuQmCC"},"4/LZ":function(e,t){},"4A0d":function(e,t){},"4WL2":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,searchkey:this.filters.searchkey};a.a.getTemplateList(t).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.dataList=t.data.channelTemplates,e.total=Number(t.data.total)})},edit:function(e){this.$router.push({name:"editTemplate",query:{id:e}})},upchnn:function(e){var t=this,s={id:e};a.a.upChannelTemplate(s).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("启用成功"),t.showList()})},delchnn:function(e){var t=this,s={id:e};a.a.delChannelTemplate(s).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("禁用成功"),t.showList()})},search:function(){this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.filters.searchkey="",this.showList()}},mounted:function(){this.showList()}}},"4ZDw":function(e,t){},"5y3/":function(e,t){},"6GxZ":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 新增模板")]),e._v(" "),s("el-form",{staticClass:"content-width",attrs:{"label-width":"180px"}},[s("el-form-item",{attrs:{label:"渠道关系模板名称：",prop:"strTemplateName"}},[s("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.dict.strTemplateName,callback:function(t){e.$set(e.dict,"strTemplateName",t)},expression:"dict.strTemplateName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"渠道关系模板描述：",prop:"strTemplateDesc"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入模板描述"},model:{value:e.dict.strTemplateDesc,callback:function(t){e.$set(e.dict,"strTemplateDesc",t)},expression:"dict.strTemplateDesc"}})],1),e._v(" "),s("el-form-item",[s("div",{staticClass:"tool"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addone}},[e._v("添加一行")])],1),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[s("el-table-column",{attrs:{label:"层级",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入层级"},model:{value:t.row.strLevel,callback:function(s){e.$set(t.row,"strLevel",s)},expression:"scope.row.strLevel"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"层级名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入层级名称"},model:{value:t.row.strLevelName,callback:function(s){e.$set(t.row,"strLevelName",s)},expression:"scope.row.strLevelName"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"层级描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.row.strLevelDesc,callback:function(s){e.$set(t.row,"strLevelDesc",s)},expression:"scope.row.strLevelDesc"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"showRoles",label:"角色",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.setindex(t.$index)}}},[e._v("选择角色")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.removeTodo(t.$index)}}},[e._v("删除此行")])]}}])})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"选择角色",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("div",{staticClass:"tool"}),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentFroles,stripe:""}},[s("el-table-column",{attrs:{label:"选择",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{model:{value:t.row.strSelect,callback:function(s){e.$set(t.row,"strSelect",s)},expression:"scope.row.strSelect"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleId",label:"角色Id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleName",label:"角色名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleDesc",label:"角色描述"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strAuthoritysName",label:"权限名称"}})],1),e._v(" "),s("div",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:e.setselect}},[e._v("确认")])],1)],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},"6P/e":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],cateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddSystem:{c_system_name:"",c_system_desc:"",c_status:"1",c_system_url:""},handelEditSystem:{e_system_name:"",e_system_desc:"",e_status:"1",e_system_url:""},rules:{c_system_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_system_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_system_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_system_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data.list;e.dataList=s,e.total=Number(t.data.nums)})},setStatus:function(e,t){var s=this,r={e_system_id:e,e_status:"1"==t?"2":"1"};a.a.changeSystemStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},addSystem:function(){this.handelAddSystem.c_system_id="",this.handelAddSystem.c_system_name="",this.handelAddSystem.c_system_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditSystem.e_system_id=t.system_id,this.handelEditSystem.e_system_name=t.name,this.handelEditSystem.e_system_desc=t.system_desc,this.editDialog=!0},search:function(){this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddSystem.c_name=r.a.Trim(this.handelAddSystem.c_name),this.handelAddSystem.c_desc=r.a.Trim(this.handelAddSystem.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addSystem(t.handelAddSystem).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditSystem.e_name=r.a.Trim(this.handelEditSystem.e_name),this.handelEditSystem.e_desc=r.a.Trim(this.handelEditSystem.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editSystem(t.handelEditSystem).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该系统中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该系统中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该系统中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1,this.addDialog=!1}}}},"6PZ3":function(e,t){},"6ZhE":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{id:"",statusList:[{statusName:"正常",statusId:"1"},{statusName:"停用",statusId:"0"}],strUserNum:"",strIdentityList:"",S4_list:"",S3_list:"",S2_list:"",relationInfo:[],ruleForm:{strUserId:"",strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strUserTel:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){this.getEmployeeId(),this.loadInfo()},methods:{getEmployeeId:function(){this.ruleForm.strUserId=this.$route.query.id},cancelnow:function(){this.$router.push({path:"/channel/employee"})},loadInfo:function(){var e=this;a.a.getEmployeeInfo({strUserId:this.ruleForm.strUserId}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data;e.strUserNum=s.strUserNum,e.strIdentityList=s.strIdentityList,e.ruleForm.strStatus=s.strStatus,e.ruleForm.strUserName=s.strUserName,e.ruleForm.strUserTel=s.strUserTel,e.ruleForm.strCardNum=s.strCardNum,e.ruleForm.strEmail=s.strEmail,e.relationInfo=s.relationInfo;for(var a in e.relationInfo)"REL002"==e.relationInfo[a].strRelationCode&&(e.S4_list+=e.relationInfo[a].strRelationNmae+"    "),"REL003"==e.relationInfo[a].strRelationCode&&(e.S3_list+=e.relationInfo[a].strRelationNmae+"    "),"REL004"==e.relationInfo[a].strRelationCode&&(e.S2_list+=e.relationInfo[a].strRelationNmae+"    ")})},submitnow:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editEmployeeLogic(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),s.$router.push({path:"/channel/employee"})})})}}}},"6nt1":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("分类管理")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"user"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回角色管理")])],1)],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addCateRole()}}},[e._v("新增分类")])],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"Fname",label:"分类名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Fdesc",label:"分类描述"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.Fstatus?s("span",[e._v("启用")]):"2"==t.row.Fstatus?s("span",[e._v("禁用")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.Fstatus?s("div",[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.Fcate_id,t.row.Fstatus)}}},[e._v("禁用")])],1):s("div",[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.Fcate_id,t.row.Fstatus)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[s("el-form",{ref:"handelAddCateRole",attrs:{model:e.handelAddCateRole,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"分类名称：",prop:"c_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入分类名称"},model:{value:e.handelAddCateRole.c_name,callback:function(t){e.$set(e.handelAddCateRole,"c_name",t)},expression:"handelAddCateRole.c_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入分类描述"},model:{value:e.handelAddCateRole.c_desc,callback:function(t){e.$set(e.handelAddCateRole,"c_desc",t)},expression:"handelAddCateRole.c_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddCateRole")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"handelEditCateRole",attrs:{model:e.handelEditCateRole,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"分类名称：",prop:"e_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入分类名称"},model:{value:e.handelEditCateRole.e_name,callback:function(t){e.$set(e.handelEditCateRole,"e_name",t)},expression:"handelEditCateRole.e_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入分类描述"},model:{value:e.handelEditCateRole.e_desc,callback:function(t){e.$set(e.handelEditCateRole,"e_desc",t)},expression:"handelEditCateRole.e_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditCateRole")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},"75c6":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("新增D下级")])},r=[],i={render:a,staticRenderFns:r};t.a=i},"7Cwc":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("模块管理")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[s("div",{staticClass:"searchItem"},[s("span",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1),e._v(" "),s("div",{staticClass:"searchItem"},[s("span",{staticClass:"searchTitle"},[e._v("模块名称：")]),e._v(" "),s("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_module_name,callback:function(t){e.$set(e.searchkeys,"s_module_name",t)},expression:"searchkeys.s_module_name"}})],1),e._v(" "),s("div",{staticClass:"goSearch"},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)]),e._v(" "),s("div",{staticClass:"tool"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.Add()}}},[e._v("新增模块")])],1),e._v(" "),s("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,a){return s("tr",[s("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),s("td",{class:{hidden:t.Fauthority_idDis},attrs:{rowspan:t.Fauthority_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[t.upStatus?s("span",[e._v("禁用"),s("br"),s("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?s("span",[e._v("启用")]):s("span",[e._v("禁用")])])]),e._v(" "),s("td",[1==t.Fstatus?s("div",{staticClass:"cell"},[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(a)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):s("div",{staticClass:"cell"},[s("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[s("el-form",{ref:"addModule",attrs:{model:e.addModule,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属系统：",prop:"c_system_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addModule.c_system_id,callback:function(t){e.$set(e.addModule,"c_system_id",t)},expression:"addModule.c_system_id"}},e._l(e.enableSystemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"模块名称：",prop:"c_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},model:{value:e.addModule.c_name,callback:function(t){e.$set(e.addModule,"c_name",t)},expression:"addModule.c_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入模块描述"},model:{value:e.addModule.c_desc,callback:function(t){e.$set(e.addModule,"c_desc",t)},expression:"addModule.c_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addModule")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"editModule",attrs:{model:e.editModule,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.editModule.e_system_id,callback:function(t){e.$set(e.editModule,"e_system_id",t)},expression:"editModule.e_system_id"}},e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"模块名称：",prop:"e_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},model:{value:e.editModule.e_name,callback:function(t){e.$set(e.editModule,"e_name",t)},expression:"editModule.e_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入模块描述"},model:{value:e.editModule.e_desc,callback:function(t){e.$set(e.editModule,"e_desc",t)},expression:"editModule.e_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editModule")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"40%"}},[s("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:a,staticRenderFns:r};t.a=i},"7rfI":function(e,t){},"8Dph":function(e,t){},"8OQP":function(e,t,s){"use strict";var a=s("p6/k"),r=s("y0ef"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},"9G+D":function(e,t){},"9ZH3":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("新增权限")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),s("div",{staticClass:"tool textRight"}),e._v(" "),s("el-form",{ref:"addData",attrs:{model:e.addData,rules:e.rules,"label-width":"0"}},[s("el-form-item",[s("el-col",{attrs:{span:5}},[s("el-col",{attrs:{span:16}},[s("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_system_id"}},[s("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_system_id,callback:function(t){e.$set(e.addData,"c_system_id",t)},expression:"addData.c_system_id"}},e._l(e.upList.system,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("router-link",{attrs:{to:"system"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理系统")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-col",{attrs:{span:16}},[s("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_module_id"}},[s("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_module_id,callback:function(t){e.$set(e.addData,"c_module_id",t)},expression:"addData.c_module_id"}},e._l(e.upList.module,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("router-link",{attrs:{to:"module"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理模块")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-col",{attrs:{span:16}},[s("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_page_id"}},[s("p",{staticClass:"searchTitle"},[e._v("所属页面：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_page_id,callback:function(t){e.$set(e.addData,"c_page_id",t)},expression:"addData.c_page_id"}},e._l(e.upList.page,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("router-link",{attrs:{to:"page"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理页面")])],1)],1)],1)],1),e._v(" "),s("br"),e._v(" "),s("el-form-item",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addData.c_datas,border:""}},[s("el-table-column",{attrs:{label:"序号",type:"index",width:"70px"}}),e._v(" "),s("el-table-column",{attrs:{label:"权限名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"c_datas."+t.$index+".name",rules:{required:!0,validator:e.validateName,trigger:"blur"}}},[s("el-input",{attrs:{value:t.row.name,maxlength:40,placeholder:"请输入权限名称"},model:{value:t.row.name,callback:function(s){e.$set(t.row,"name",s)},expression:"scope.row.name"}})],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"c_datas."+t.$index+".desc",rules:{required:!0,validator:e.validateDesc,trigger:"blur"}}},[s("el-input",{attrs:{value:t.row.desc,maxlength:100,placeholder:"请输入权限描述"},model:{value:t.row.desc,callback:function(s){e.$set(t.row,"desc",s)},expression:"scope.row.desc"}})],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"权限标识码"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{value:t.row.access_flags,maxlength:20,placeholder:"请输入权限标识码"},model:{value:t.row.access_flags,callback:function(s){e.$set(t.row,"access_flags",s)},expression:"scope.row.access_flags"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{icon:"plus",type:"text"},on:{click:function(s){e.handleItem(t.$index,"add")}}}),e._v(" "),0!=t.$index?s("el-button",{staticClass:"delete",attrs:{icon:"close",type:"text"},on:{click:function(s){e.handleItem(t.$index,"del")}}}):e._e()]}}])})],1)],1)],1),e._v(" "),s("p",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addData")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},Aawm:function(e,t,s){"use strict";function a(e){s("0i3t")}var r=s("CB6g"),i=s("T1lO"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},AtCC:function(e,t,s){"use strict";var a=s("mvHQ"),r=s.n(a),i=s("P9l9"),l=(s("s0MJ"),s("uJvA"));t.a={data:function(){return{dialogFormVisible:!1,form:{},id:"",S1Type:"1",S2Type:"2",channelorgs:[],provinces:l.a.addrList,citys:[],areas:[],ChannelManager:[],defaultDate:"",provinceChange:!1,cityChange:!1,structAChange:!1,tempList:[],modelList:{model_1:"",model_2:"",model_3:"",model_4:"",model_5:""},saleAdds:{provinces:l.a.addrList,citys:"",areas:""},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},addSaleList:[],changeList:{change_1:!1,change_2:!1,change_3:!1,change_4:!1,change_5:!1},SList:{showS1:!1,showS2:!1,showD1:!1,showBD1:!1},getGroupRelationId:"",getGroupLevelId:"",addGroupName:"",strIndex:"",D1:{defaultList:[],defaultIdList:[],chooseList:[],chooseId:""},BD1:{defaultList:[],defaultIdList:[],chooseList:[],chooseId:""},get_store_s1_list:[],get_store_s1Id_list:[],get_store_s2_list:[],get_store_s2Id_list:[],get_store_d1_list:[],get_store_d1Id_list:[],get_store_bd1_list:[],get_store_bd1Id_list:[],choose_s1_list:[],choose_s1_id:"",choose_s2_list:[],choose_s2_id:"",choose_d1_list:[],choose_d1_id:"",choose_bd1_list:[],choose_bd1_id:"",showAddS1:[],addS1Id:[],addS1List:[],showAddS2:[],addS2Id:[],addS2List:[],showAddD1:[],addD1Id:[],addD1List:[],showAddBD1:[],addBD1Id:[],addBD1List:[],setTrue:10,structAid:"",structA:l.a.channelList,ifValidateNext:!1,strAddress:"",strProvinceId:"",strCityId:"",strAreaId:"",strStoreName:"",strChannelManagerId:"",strRelationId:"",strLevelId:""}},watch:{strProvinceId:function(e,t){this.strCityId="",this.getCitys(e,this.provinceChange),this.provinceChange=!0},strCityId:function(e){this.strAreaId="",this.getAreas(e,this.cityChange),this.cityChange=!0},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],!1,"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],!1,"sale")},structAid:function(e,t){this.getNextList(e,0),this.structAChange=!0,this.ifValidateNext=!1},"modelList.model_1":function(e,t){e&&(this.getNextList(e,1),this.changeList.change_1=!0),this.ifValidateNext=!1},"modelList.model_2":function(e,t){e&&(this.getNextList(e,2),this.changeList.change_2=!0),this.ifValidateNext=!1},"modelList.model_3":function(e,t){e&&(this.getNextList(e,3),this.changeList.change_3=!0),this.ifValidateNext=!1},"modelList.model_4":function(e,t){e&&(this.getNextList(e,4),this.changeList.change_4=!0),this.ifValidateNext=!1},"modelList.model_5":function(e,t){e&&(this.getNextList(e,5),this.changeList.change_5=!0),this.ifValidateNext=!1}},mounted:function(){this.getStoreId(),this.getDefaultDate(this.id),this.getS1(),this.getS2(),this.getD1(),this.getBD1()},methods:{getStoreId:function(){this.id=this.$route.query.id},loadInfo:function(){var e=this;if(0!=l.a.channelList.length)this.structAChange||(this.structAid=this.defaultDate.relationUp[0].strRelationId+","+this.defaultDate.relationUp[0].strLevelId+",0");else{var t=this.$loading({text:"正在获取信息",target:"#Edit-store"});i.a.getAllChannels({}).then(function(s){if(t.close(),"0"!=s.ret)return void e.$message(s.retinfo);l.a.channelList=s.data.Relations,e.structA=s.data.Relations,e.structAChange||(e.structAid=e.defaultDate.relationUp[0].strRelationId+","+e.defaultDate.relationUp[0].strLevelId+",0")})}0==l.a.addrList.length?i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");l.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address,e.strProvinceId=e.defaultDate.storeInfo.strProvinceId}):this.strProvinceId=this.defaultDate.storeInfo.strProvinceId},getDefaultDate:function(e){var t=this;i.a.getStoreInfo({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.defaultDate=e.data,t.strAddress=t.defaultDate.storeInfo.strAddress,t.strStoreName=t.defaultDate.storeInfo.strStoreName,t.setTrue=e.data.relationUp.length-1;var s=t.defaultDate.storeInfo.saleAddrList;for(var a in s){s[a].strProvinceName||(s[a].strProvinceName="全部"),s[a].strCityName||(s[a].strCityName="全部"),s[a].strAreaName||(s[a].strAreaName="全部");var r=s[a].strProvinceName+" "+s[a].strCityName+" "+s[a].strAreaName,i={addr_province_id:s[a].strProvinceId,addr_city_id:s[a].strCityId,addr_area_id:s[a].strAreaId};t.addSaleList.push({saleName:r,saleId:i})}return!0}).then(function(e){e&&t.loadInfo()})},getNextList:function(e,t,s){var a=this,t=t+1,r=e.split(",");this.strRelationId=r[0],this.strLevelId=r[1],this.tempList=this.tempList.splice(0,r[2]);for(var l in this.modelList)l.split("_")[1]>r[2]&&(this.modelList[l]=""),l.split("_")[1]>this.setTrue&&(this.changeList["change_"+l.split("_")[1]]=!0);i.a.getChannelsChild({strRelationId:r[0]}).then(function(e){if("0"!=e.ret)return void a.$alert(e.retinfo,"提示");if(e.data){a.ifValidateNext=!0;var r=e.data;r.upStrRelationId=a.strRelationId,r.upStrLevelId=a.strLevelId,a.tempList.push(r),a.changeList["change_"+t]||(a.modelList["model_"+t]=a.defaultDate.relationUp[t].strRelationId+","+a.defaultDate.relationUp[t].strLevelId+","+t),s&&(a.modelList["model_"+t]=s.val)}})},addGroup:function(e,t,s){this.dialogFormVisible=!0,this.getGroupRelationId=e,this.getGroupLevelId=t,this.strIndex=s},submitAddGroup:function(){var e=this,t=this,s={strRelationId:this.getGroupRelationId,strLevelId:this.getGroupLevelId,strOrgName:this.addGroupName};i.a.addOrgLogic(s).then(function(t){return"0"!=t.ret?void e.$alert(t.retinfo,"提示"):(e.dialogFormVisible=!1,t.data)}).then(function(e){"0"==t.strIndex?t.getNextList(t.structAid,t.strIndex,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)}):t.getNextList(t.modelList["model_"+t.strIndex],t.strIndex,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)})})},getCitys:function(e,t,s){if("sale"!=s)for(var a in this.provinces)this.provinces[a].strProvinceId==e&&(this.citys=this.provinces[a].citys,t||(this.strCityId=this.defaultDate.storeInfo.strCityId));else{var r=this.saleAdds.provinces;for(var a in r)r[a].strProvinceId==e&&(this.saleAdds.citys=r[a].citys)}},getAreas:function(e,t,s){if("sale"!=s)for(var a in this.citys)this.citys[a].strCityId==e&&(this.areas=this.citys[a].areas,t||(this.strAreaId=this.defaultDate.storeInfo.strAreaId));else{var r=this.saleAdds.citys;for(var a in r)r[a].strCityId==e&&(this.saleAdds.areas=r[a].areas)}},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",a={saleName:e+"  "+t+"  "+s,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==a.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==a.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==a.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");this.addSaleList.push(a)},delSaleAddr:function(e){this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/store"})},Validate:function(e){for(var t in e)if(!e[t].val)return this.$message(e[t].msg),!1;return!0},submitnow:function(){var e=this,t=this,s=[];for(var a in this.addSaleList)s.push(this.addSaleList[a].saleId);var l={strStoreId:this.id,strAddress:this.strAddress,strProvinceId:this.strProvinceId,strCityId:this.strCityId,strAreaId:this.strAreaId,strStoreName:this.strStoreName,strChannelManagerId:this.strChannelManagerId,strRelationId:this.strRelationId,strLevelId:this.strLevelId,saleAddrList:r()(s)},n=[{val:l.strRelationId,msg:"请选择关联渠道"},{val:/^.{2,25}$/g.test(l.strStoreName),msg:"请输入2~25位门店名"},{val:this.strProvinceId,msg:"请选择省份"},{val:this.strAddress,msg:"请输入详细地址"},{val:"[]"!=l.saleAddrList,msg:"请添加销售范围"}];this.ifValidateNext&&n.splice(1,0,{val:this.structBid,msg:"请选择次级渠道"}),this.Validate(n)&&i.a.editStoreLogic(l).then(function(s){if("0"!=s.ret)return void e.$message(s.retinfo);e.$message("成功！"),t.$router.push({path:"/channel/store"})})},getS1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"S1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var s=t.data;e.get_store_s1_list=t.data,e.get_store_s1Id_list=[];for(var a in s)e.get_store_s1Id_list.push(String(s[a].strUserId))}})},del_has_s1:function(e){this.get_store_s1_list.splice(e,1),this.get_store_s1Id_list.splice(e,1),this.final_add_S1("del")},add_s1_btn:function(){var e=this;this.addS1List=[],this.SList.showS1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"S1",strLevelCode:"S1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_s1_list=t.s1list})},add_s1_list:function(){if(!this.choose_s1_id)return void this.$message("请选择要关联S1");for(var e in this.get_store_s1Id_list)if(this.choose_s1_id.split(",")[1]==this.get_store_s1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addS1List.length)this.addS1List.push(this.choose_s1_id.split(",")[0]),this.addS1Id.push(this.choose_s1_id.split(",")[1]);else{for(var e in this.addS1Id)if(this.choose_s1_id.split(",")[1]==this.addS1Id[e])return void this.$message("该项已绑定或已添加！");this.addS1List.push(this.choose_s1_id.split(",")[0]),this.addS1Id.push(this.choose_s1_id.split(",")[1])}},del_preChoose_s1:function(e){this.addS1Id.splice(e,1),this.addS1List.splice(e,1)},final_add_S1:function(e){var t=this;if("add"==e&&0==this.addS1Id.length)return void this.$message("请选择要关联S1");"del"==e&&(this.addS1Id=[]);var s=this.get_store_s1Id_list,a=0!=s.length?s.concat(this.addS1Id):this.addS1Id,r={strPeopleType:"S1",strStoreId:this.id,strPeopleIdList:a};i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addS1Id=[],!0)}).then(function(e){e&&t.getS1(),t.SList.showS1=!1})},getS2:function(){var e=this,t={strStoreId:this.id,strPeopleType:"S2"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var s=t.data;e.get_store_s2_list=t.data,e.get_store_s2Id_list=[];for(var a in s)e.get_store_s2Id_list.push(String(s[a].strUserId))}})},del_has_s2:function(e){this.get_store_s2_list.splice(e,1),this.get_store_s2Id_list.splice(e,1),this.final_add_S2("del")},add_s2_btn:function(){var e=this;this.addS2List=[],this.SList.showS2=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"S2",strLevelCode:"S2"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_s2_list=t.s2list})},add_s2_list:function(){if(!this.choose_s2_id)return void this.$message("请选择要关联S2");for(var e in this.get_store_s2Id_list)if(this.choose_s2_id.split(",")[1]==this.get_store_s2Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addS2List.length)this.addS2List.push(this.choose_s2_id.split(",")[0]),this.addS2Id.push(this.choose_s2_id.split(",")[1]);else{for(var e in this.addS2Id)if(this.choose_s2_id.split(",")[1]==this.addS2Id[e])return void this.$message("该项已绑定或已添加！");this.addS2List.push(this.choose_s2_id.split(",")[0]),this.addS2Id.push(this.choose_s2_id.split(",")[1])}},del_preChoose_s2:function(e){this.addS2Id.splice(e,1),this.addS2List.splice(e,1)},final_add_S2:function(e){var t=this;if("add"==e&&0==this.addS2Id.length)return void this.$message("请选择要关联S2");"del"==e&&(this.addS2Id=[]);var s=[];for(var a in this.get_store_s2_list)s.push(String(this.get_store_s2_list[a].strUserId));var r=0!=s.length?s.concat(this.addS2Id):this.addS2Id,l={strPeopleType:"S2",strStoreId:this.id,strPeopleIdList:r};i.a.addStoreDS(l).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addS2Id=[],!0)}).then(function(e){e&&t.getS2(),t.SList.showS2=!1})},getD1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"D1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var s=t.data;e.get_store_d1_list=t.data,e.get_store_d1Id_list=[];for(var a in s)e.get_store_d1Id_list.push(String(s[a].strUserId))}})},del_has_d1:function(e){this.get_store_d1_list.splice(e,1),this.get_store_d1Id_list.splice(e,1),this.final_add_D1("del")},add_d1_btn:function(){var e=this;this.addD1List=[],this.SList.showD1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"D1",strLevelCode:"D1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_d1_list=t.dxlist})},add_d1_list:function(){if(!this.choose_d1_id)return void this.$message("请选择要关联D1");for(var e in this.get_store_d1Id_list)if(this.choose_d1_id.split(",")[1]==this.get_store_d1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addD1List.length)this.addD1List.push(this.choose_d1_id.split(",")[0]),this.addD1Id.push(this.choose_d1_id.split(",")[1]);else{for(var e in this.addD1Id)if(this.choose_d1_id.split(",")[1]==this.addD1Id[e])return void this.$message("该项已绑定或已添加！");this.addD1List.push(this.choose_d1_id.split(",")[0]),this.addD1Id.push(this.choose_d1_id.split(",")[1])}},del_preChoose_d1:function(e){this.addD1Id.splice(e,1),this.addD1List.splice(e,1)},final_add_D1:function(e){var t=this;if("add"==e&&0==this.addD1Id.length)return void this.$message("请选择要关联D1");"del"==e&&(this.addD1Id=[]);var s=this.get_store_d1Id_list,a=0!=s.length?s.concat(this.addD1Id):this.addD1Id,r={strPeopleType:"D1",strStoreId:this.id,strPeopleIdList:a};i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addD1Id=[],!0)}).then(function(e){e&&t.getD1(),t.SList.showD1=!1})},getBD1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"BD1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var s=t.data;e.get_store_bd1_list=t.data,e.get_store_bd1Id_list=[];for(var a in s)e.get_store_bd1Id_list.push(String(s[a].strUserId))}})},del_has_bd1:function(e){this.get_store_bd1_list.splice(e,1),this.get_store_bd1Id_list.splice(e,1),this.final_add_BD1("del")},add_bd1_btn:function(){var e=this;this.addBD1List=[],this.SList.showBD1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"BD1",strLevelCode:"BD1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_bd1_list=t.bdxlist})},add_bd1_list:function(){if(!this.choose_bd1_id)return void this.$message("请选择要关联BD1");for(var e in this.get_store_bd1Id_list)if(this.choose_bd1_id.split(",")[1]==this.get_store_bd1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addBD1List.length)this.addBD1List.push(this.choose_bd1_id.split(",")[0]),this.addBD1Id.push(this.choose_bd1_id.split(",")[1]);else{for(var e in this.addBD1Id)if(this.choose_bd1_id.split(",")[1]==this.addBD1Id[e])return void this.$message("该项已绑定或已添加！");this.addBD1List.push(this.choose_bd1_id.split(",")[0]),this.addBD1Id.push(this.choose_bd1_id.split(",")[1])}},del_preChoose_bd1:function(e){this.addBD1Id.splice(e,1),this.addBD1List.splice(e,1)},final_add_BD1:function(e){var t=this;if("add"==e&&0==this.addBD1Id.length)return void this.$message("请选择要关联BD1");"del"==e&&(this.addBD1Id=[]);var s=this.get_store_bd1Id_list,a=0!=s.length?s.concat(this.addBD1Id):this.addBD1Id,r={strPeopleType:"BD1",strStoreId:this.id,strPeopleIdList:a};i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addBD1Id=[],!0)}).then(function(e){e&&t.getBD1(),t.SList.showBD1=!1})}}}},BCJo:function(e,t,s){"use strict";var a=s("YG/g"),r=s("yWF9"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},Ba5A:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},fileName:"fileName",haveD4:!1,strDUserId:"",defaultDate:"",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",dealer:{strStatusName:"",provinceChange:!1,cityChange:!1,provinces:"",citys:"",areas:""},bankAddr:{provinceChange:!1,cityChange:!1,provinces:"",citys:"",areas:""},dealerid:"",ruleForm:{dealer:{strStatus:"",strDealerName:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddress:"",strBankName:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:""}},DruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatusName:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate()},methods:{getId:function(){this.dealerid=this.$route.query.id},changeEndTime:function(e){var t=e.split(" "),s=t[0]+"T"+t[1]+".000Z";return r.a.formatDate.format(new Date(s),"yy-MM-dd")},editDealer:function(e){this.$router.push({name:"editDealer",query:{id:e}})},loadInfo:function(){var e=this;a.a.getAddress({}).then(function(t){e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address}).then(function(t){e.ruleForm.dealer.strAddrProvinceId=e.defaultDate.strAddrProvinceId,e.ruleForm.dealer.account_bank.strAddrProvinceId=e.defaultDate.account_bank.strAddrProvinceId})},getDefaultDate:function(e){var t=this;a.a.getDealerInfo({dealerid:this.dealerid}).then(function(e){if("0"!=e.ret)return t.$message(e.retinfo),!1;var s=e.data;return t.defaultDate=e.data,t.strDUserId=e.data.strDUserId,t.ruleForm.dealer.strDealerName=s.strDealerName,t.ruleForm.dealer.strLicenseNum=s.strLicenseNum,t.ruleForm.dealer.strAddress=s.strProvinceName+s.strCityName+s.strAreaName+s.strAddress,t.ruleForm.dealer.account_bank.strAddress=s.account_bank.strProvinceName+s.account_bank.strCityName+s.account_bank.strAreaName,t.ruleForm.dealer.account_bank.strAccountName=s.account_bank.strAccountName,t.ruleForm.dealer.account_bank.strBankName=s.account_bank.strBankName,t.ruleForm.dealer.account_bank.strBranchName=s.account_bank.strBranchName,t.ruleForm.dealer.account_bank.strAccountNum=s.account_bank.strAccountNum,t.ruleForm.dealer.strContractBeginTime=t.changeEndTime(s.strContractBeginTime),t.ruleForm.dealer.strContractEndTime=t.changeEndTime(s.strContractEndTime),t.ruleForm.dealer.strStatusName=s.strStatusName,t.ruleForm.dealer.strLicensePic=s.strLicensePic,t.ruleForm.dealer.strContractPic=s.strContractPic,t.imageUrl1=t.apiRoot+"/static/upload/"+s.strLicensePic,t.imageUrl2=t.apiRoot+"/static/upload/"+s.strContractPic,!0}).then(function(e){e&&(t.loadInfo(),t.getDDefaultDate())})},getDDefaultDate:function(){var e=this,t=this;if(0==this.strDUserId)return void(this.haveD4=!0);a.a.getDInfo({strUserId:this.strDUserId}).then(function(s){if("0"!=s.ret)return t.$message(s.retinfo),!1;e.DruleForm=s})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},submitnow:function(e,t){var s=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addDealerLogic(s.ruleForm).then(function(e){if("0"!=e.ret)return void s.$message("失败！");s.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/Dealer/index"})})})}}}},C9IG:function(e,t){},CB6g:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,strUserId:"",dataList:[],ruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatus:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate(),this.getDStoreList(this.strUserId)},methods:{getId:function(){this.strUserId=this.$route.query.id},addPrefix:function(e){var t=8-e.length,s="d";if(t>0){for(var a=0;a<t;a++)s+="0";return s+e}return e},editD:function(e){this.$router.push({name:"editD",query:{id:e}})},getDefaultDate:function(e){var t=this;a.a.getDInfo({strUserId:this.strUserId}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");e.baseinfo.strUserId=t.addPrefix(e.baseinfo.strUserId),t.ruleForm=e,t.ruleForm.saleareaList=r.a.unique(t.ruleForm.saleareaList.map(function(e){return e.strProvinceName+e.strCityName+e.strAreaName}))})},delReSaleAdds:function(e){},getDStoreList:function(e){var t=this;a.a.getDStoreList({strUserId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.dataList=e.list})},storeDetail:function(e){this.$router.push({name:"editStore",query:{id:e}})}}}},D6xi:function(e,t,s){"use strict";var a=s("mvHQ"),r=s.n(a),i=s("P9l9");s("s0MJ");t.a={data:function(){return{id:"",dialogTableVisible:!1,list:[],dict:{},roles:[],index:0,searchkey:"",currentFroles:[]}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.id=this.$route.query.id},loadInfo:function(){var e=this;i.a.editChannelTemplateJsInfo({id:this.id}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");var s=[];s=t.data.template,e.roles=t.data.roles;for(var a=s.length-1;a>=0;a--){for(var r="",i=s[a].strListRoles.length-1;i>=0;i--)s[a].strListRoles[i].strDisplay="","False"==s[a].strListRoles[i].strSelect?s[a].strListRoles[i].strSelect=!1:(s[a].strListRoles[i].strSelect=!0,r=r+s[a].strListRoles[i].strRoleName+" ");s[a].showRoles=r}e.list=s;for(var a=e.list.length-1;a>=0;a--){e.dict=e.list[a];break}})},removeTodo:function(e){this.list.splice(e,1)},addone:function(){var e=[];e=this.roles;var t={strTemplateName:"",strLevel:"",showRoles:"",strListRoles:e,strTemplateId:"",strPid:"",strLevelId:"",strLevelName:"",strLevelDesc:"",strUpdateTime:"",strTemplateDesc:"",strStatus:"",strCreateTime:""};this.list.push(t)},setindex:function(e){this.dialogTableVisible=!0,this.index=e,this.currentFroles=this.list[e].strListRoles},setselect:function(){this.list[this.index].strListRoles=this.currentFroles;for(var e="",t=this.list[this.index].strListRoles.length-1;t>=0;t--)this.list[this.index].strListRoles[t].strSelect&&(e=e+this.list[this.index].strListRoles[t].strRoleName+" ");this.list[this.index].showRoles=e,this.dialogTableVisible=!1},cancelnow:function(){window.history.back()},searchrole:function(){for(var e=this.currentFroles.length-1;e>=0;e--){var t=this.searchkey;if(""!=t){var s=this.currentFroles[e].strRoleName;void 0!=s&&(s.indexOf(t)>=0?this.currentFroles[e].strDisplay="":void 0!=(s=this.currentFroles[e].strRoleDesc)&&(s.indexOf(t)>=0?this.currentFroles[e].strDisplay="":this.currentFroles[e].strDisplay="none"))}else this.currentFroles[e].strDisplay=""}},submitnow:function(){var e=this;if(!this.dict.strTemplateName)return void this.$alert("请输入模板名称","提示");if(!this.dict.strTemplateDesc)return void this.$alert("请输入模板描述","提示");for(var t=this.list.length-1;t>=0;t--){if(""==this.list[t].strLevelName)return void this.$alert("请输入层级名称","提示");this.list[t].strLevelName=this.list[t].strLevelName,this.list[t].strLevel=this.list[t].strLevel,this.list[t].strLevelDesc=this.list[t].strLevelDesc,this.list[t].strTemplateDesc=this.dict.strTemplateDesc,this.list[t].strTemplateName=this.dict.strTemplateName,this.list[t].strTemplateId=this.dict.strTemplateId}var s={data:r()(this.list)};i.a.editTemplateLogic(s).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.$message("成功！"),e.$router.push({path:"/channel/template"})})}}}},DUNx:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("D管理 > 创建")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",id:"loading-area"}},[s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[s("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证正面：",prop:"strCardPicFront"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证背面：",prop:"strCardPicBack"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"上传头像：",prop:"strHeadPic"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),s("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")]),e._v(" "),s("el-checkbox",{model:{value:e.setIdentity,callback:function(t){e.setIdentity=t},expression:"setIdentity"}},[e._v("【确认创建】后，去设置该用户的组织身份")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"Du/2":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var a="SET_MENU_LIST"},Dw9O:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("系统管理")]),e._v(" "),s("div",{staticClass:"tool"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addSystem()}}},[e._v("新增系统")])],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"system_id",label:"ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"系统名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"system_desc",label:"系统描述"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.status?s("span",[e._v("启用")]):"2"==t.row.status?s("span",[e._v("禁用")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?s("div",[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.system_id,t.row.status)}}},[e._v("禁用")])],1):s("div",[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.system_id,t.row.status)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[s("el-form",{ref:"handelAddSystem",attrs:{model:e.handelAddSystem,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"系统名称：",prop:"c_system_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入系统名称"},model:{value:e.handelAddSystem.c_system_name,callback:function(t){e.$set(e.handelAddSystem,"c_system_name",t)},expression:"handelAddSystem.c_system_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"c_system_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入系统描述"},model:{value:e.handelAddSystem.c_system_desc,callback:function(t){e.$set(e.handelAddSystem,"c_system_desc",t)},expression:"handelAddSystem.c_system_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddSystem")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"handelEditSystem",attrs:{model:e.handelEditSystem,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"系统名称：",prop:"e_system_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入系统名称"},model:{value:e.handelEditSystem.e_system_name,callback:function(t){e.$set(e.handelEditSystem,"e_system_name",t)},expression:"handelEditSystem.e_system_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_system_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入系统描述"},model:{value:e.handelEditSystem.e_system_desc,callback:function(t){e.$set(e.handelEditSystem,"e_system_desc",t)},expression:"handelEditSystem.e_system_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditSystem")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},EFft:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("工号 / 新增")]),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码：",prop:"strUserTel"}},[s("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入手机号"},model:{value:e.ruleForm.strUserTel,callback:function(t){e.$set(e.ruleForm,"strUserTel",t)},expression:"ruleForm.strUserTel"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱："}},[s("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},ESCM:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("门店 / 列表")]),e._v(" "),s("el-form",{attrs:{inline:!0,model:e.filters}},[s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店ID"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strStoreId,callback:function(t){e.$set(e.filters,"strStoreId",t)},expression:"filters.strStoreId"}})],1),e._v(" "),s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strStoreName,callback:function(t){e.$set(e.filters,"strStoreName",t)},expression:"filters.strStoreName"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add_store"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strStoreName",label:"门店名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strProvinceName",label:"门店地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strChannelName",label:"渠道商"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strRelationD1List",label:"D1"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.strRelationD1List.length?s("span",[e._v("\r\n                    "+e._s(t.row.strRelationD1List[0].strUserName+" / "+t.row.strRelationD1List[0].strPhoneNum)+"\r\n                ")]):t.row.strRelationD1List.length>1?s("span",[e._v("\r\n                    "+e._s(t.row.strRelationD1List[0].strUserName+" / "+t.row.strRelationD1List[0].strPhoneNum)+"  ...\r\n                ")]):s("span",[e._v("暂无")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.editStore(t.row.strStoreId)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.disableStore(t.row.strStoreId)}}},[e._v("禁用")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.enableStore(t.row.strStoreId)}}},[e._v("启用")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},Eulr:function(e,t,s){"use strict";function a(e){s("qLAr")}var r=s("AtCC"),i=s("bTE+"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"FW/c":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{editDialog:!1,EditInfo:"",dataList:[],systemList:[],moduleList:{Search:[],Add:[],Edit:[]},editPageList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},editPower:{e_authority_id:"",e_system_id:"",e_module_id:"",e_access_flags:"",e_pid:"",e_type:"1",e_desc:"",e_name:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditPages:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:"",pageIndex:"0",pageSize:"9999"},rules:{e_system_id:[{required:!0,message:"请选择所属系统"}],e_module_id:[{required:!0,message:"请选择所属模块"}],e_pid:[{required:!0,message:"请选择所属页面"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModules(e,"Search")},"editPower.e_system_id":function(e,t){this.getEditPages.s_module_id="",this.moduleList.Edit=[],""!=e&&this.getSystemModules(e,"Edit")},"editPower.e_module_id":function(e,t){this.editPower.e_pid="",this.editPageList=[],""!=e&&this.getModulePages(e)}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){},handleCurrentChange:function(e){this.pageIndex=e-1,this.currentPage=e,this.showList()},loadInfo:function(){var e=this,t={pageSize:"100"};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list})},getSystemModules:function(e,t){var s=this;this["get"+t+"Module"].s_system_id=e,"Edit"==t&&(this.getEditPages.s_system_id=e),a.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.moduleList[t]=s.handleModuleList(e.data.list),"Edit"==t&&(s.getEditPages.s_module_id=s.EditInfo.Fmodule_id,s.editPower.e_module_id=s.EditInfo.Fmodule_id)})},getModulePages:function(e){var t=this;this.getEditPages.s_module_id=e,this.editPower.e_module_id=e,a.a.getPageList(this.getEditPages).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.editPageList=t.relateFstatus(e.data.list),t.editPower.e_pid=t.EditInfo.Fpid})},handleModuleList:function(e){var t=[];for(var s in e){var a=e[s].system_module_list;for(var r in a)t.push(a[r])}return t},relateFstatus:function(e){for(var t in e)"1"==e[t].system_status&&"1"==e[t].Fmodule_status&&"1"==e[t].Fpage_status||(e[t].Fstatus="2",e[t].upStatus=!0);return e},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_id:this.searchkeys.s_module_id,s_page_name:this.searchkeys.s_page_name,s_auth_name:this.searchkeys.s_auth_name,s_is_flags:this.searchkeys.s_is_flags,s_status:this.searchkeys.s_status,pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getActionAuthList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);console.log(t),e.dataList=r.a.combineCell(e.relateFstatus(t.data.list)),e.total=Number(t.data.nums)})},getEditData:function(e){this.EditInfo=this.dataList[e],this.editPower.e_authority_id=String(this.EditInfo.Fauthority_id),this.editPower.e_name=this.EditInfo.Fname,this.editPower.e_desc=this.EditInfo.Fdesc,this.editPower.e_access_flags=this.EditInfo.Faccess_flags,this.editPower.e_system_id=this.EditInfo.Fsystem_id,this.editDialog=!0},setStatus:function(e,t){var s=this,r={e_type:"1",e_authority_id:e,e_status:"1"==t?"2":"1"};a.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},search:function(){this.searchkeys.s_page_name=r.a.Trim(this.searchkeys.s_page_name),this.searchkeys.s_auth_name=r.a.Trim(this.searchkeys.s_auth_name),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.searchkeys.s_auth_name="",this.searchkeys.s_is_flags="",this.searchkeys.s_status="",this.showList()},submitnow:function(e){var t=this;this.editPower.e_name=r.a.Trim(this.editPower.e_name),this.editPower.e_desc=r.a.Trim(this.editPower.e_desc),this.editPower.e_access_flags=r.a.Trim(this.editPower.e_access_flags),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editAuth(t.editPower).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})})},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 将导致该权限不可用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该权限将可恢复使用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1}}}},FW2m:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("D tree管理")]),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"请选择D4："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择D4"},model:{value:e.strRelationId,callback:function(t){e.strRelationId=t},expression:"strRelationId"}},e._l(e.D4List,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strRelationId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点搜索："}},[s("el-input",{attrs:{placeholder:"请输入姓名或手机号",icon:"search"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.handleIconClick(t)}},model:{value:e.searchNode,callback:function(t){e.searchNode=t},expression:"searchNode"}},[s("el-button",{attrs:{slot:"append",icon:"search"},on:{click:function(t){e.handleIconClick()}},slot:"append"})],1)],1),e._v(" "),e.showNext?s("el-form-item",[s("el-button",{on:{click:function(t){e.getNext()}}},[e._v("下一个")])],1):e._e()],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-tree",{staticClass:"Dtree",attrs:{data:e.treeList,props:e.defaultProps,"node-key":"strRelationId","default-expanded-keys":e.defaultExpand,"highlight-current":!0,accordion:"",indent:20,"current-node-key":e.defaultChecked},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),s("el-col",{attrs:{span:18,id:"loading-area"}},[s("div",{staticClass:"grid-content bg-purple-light"},[e.showRightInfo?s("div",{staticClass:"rightInfo"},[s("div",{staticClass:"top-title"},[e._v("节点信息")]),e._v(" "),s("div",{staticClass:"right-title"},[e._v("修改节点信息")]),e._v(" "),s("el-form",{ref:"replaceNodeForm",attrs:{model:e.replaceNodeForm,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.replaceNodeForm.strUserId,callback:function(t){e.$set(e.replaceNodeForm,"strUserId",t)},expression:"replaceNodeForm.strUserId"}},e._l(e.replaceNodeForm.replaceNodeList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                            "+e._s(e.replaceNodeForm.level)+"\r\n                        ")]),e._v(" "),s("el-form-item",{attrs:{label:"节点销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.replaceNodeForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleProvinceId",t)},expression:"replaceNodeForm.saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.replaceNodeForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleCityId",t)},expression:"replaceNodeForm.saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.replaceNodeForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleAreaId",t)},expression:"replaceNodeForm.saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.replaceNodeForm)}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.replaceNodeForm.addSaleList.length,expression:"replaceNodeForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.replaceNodeForm.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a,e.replaceNodeForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.replaceNodeForm,"replaceNodeForm")}}},[e._v("确认更新")])],1)],1),e._v(" "),e.delNode.showDelNodeModel?s("div",[s("div",{staticClass:"right-title"},[e._v("删除节点")]),e._v(" "),s("el-col",{attrs:{span:18}},[e._v("\r\n                            "+e._s(e.delNode.info)+" \r\n                        ")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:6}},[s("el-button",{attrs:{type:"primary",icon:"",size:"small"},on:{click:function(t){e.delThisNode(e.relationIdFn)}}},[e._v("删除此节点")])],1),e._v(" "),s("br"),s("br")],1):e._e(),e._v(" "),e.showAddNext?s("div",[s("div",{staticClass:"right-title"},[e._v("新增下级")]),e._v(" "),s("el-form",{ref:"AddNextForm",attrs:{model:e.AddNextForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.AddNextForm.strUserId,callback:function(t){e.$set(e.AddNextForm,"strUserId",t)},expression:"AddNextForm.strUserId"}},e._l(e.AddNextList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                                "+e._s(e.AddNextForm.level)+"\r\n                            ")]),e._v(" "),s("el-form-item",{attrs:{label:"节点销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.AddNextForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleProvinceId",t)},expression:"AddNextForm.saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.AddNextForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleCityId",t)},expression:"AddNextForm.saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.AddNextForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleAreaId",t)},expression:"AddNextForm.saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.AddNextForm)}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.AddNextForm.addSaleList.length,expression:"AddNextForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.AddNextForm.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a,e.AddNextForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticClass:"text-right"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.AddNextForm,"AddNextForm")}}},[e._v("确认添加")])],1)],1)],1):e._e()],1):e._e()])])],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},Gts9:function(e,t,s){"use strict";var a=s("k0lM"),r=s("kuq+"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},HGdz:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ"),i=s("uJvA");t.a={data:function(){var e=function(e,t,s){t=r.a.Trim(t);var a=t.gblen();a<12||a>100?s(new Error("请输入12~100个字符")):r.a.checkSpecialWord(t)&&s(new Error("公司名称不能包含特殊字符")),s()},t=function(e,t,s){var a=t.gblen();(a<4||a>100)&&s(new Error("请输入4~100个字符")),s()},s=function(e,t,s){var a=t.gblen();(a<4||a>20)&&s(new Error("请输入4~20个字符")),s()},a=function(e,t,s){t[0]||s(new Error("请选择合同有效时间")),s()};return{apiRoot:r.a.api,fileName:"fileName",bankList:[],statusList:[],defaultData:"",number:"number",imageUrl1:"",imageUrl2:"",dealer:{provinceChange:!1,cityChange:!1,provinces:i.a.addrList,citys:"",areas:""},bankAddr:{provinceChange:!1,cityChange:!1,provinces:i.a.addrList,citys:[],areas:[]},ruleForm:{dateRange:[],dealer:{dealerid:"",strStatus:"",strDealerName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strBankId:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:""}},rules:{"dealer.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.strDealerName":[{required:!0,validator:e,trigger:"blur"}],"dealer.strAddress":[{required:!0,validator:r.a.validateAddr,trigger:"blur"}],"dealer.strLicenseNum":[{required:!0,validator:r.a.validateLicenseNum,trigger:"blur"}],"dealer.account_bank.strAccountNum":[{required:!0,validator:r.a.validateAccountNum,trigger:"blur"}],"dealer.account_bank.strAccountName":[{required:!0,validator:t,trigger:"blur"}],"dealer.account_bank.strBranchName":[{required:!0,validator:s,trigger:"blur"}],"dealer.account_bank.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.account_bank.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.account_bank.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.account_bank.strBankId":[{required:!0,message:"请选择开户银行",trigger:"change"}],dateRange:[{required:!0,validator:a,trigger:"blur"}]}}},watch:{"ruleForm.dealer.strAddrProvinceId":function(e,t){this.ruleForm.dealer.strAddrCityId="",this.getCitys(e,this.dealer.provinceChange),this.dealer.provinceChange=!0},"ruleForm.dealer.strAddrCityId":function(e){this.ruleForm.dealer.strAddrAreaId="",this.getAreas(e,this.dealer.cityChange),this.dealer.cityChange=!0},"ruleForm.dealer.account_bank.strAddrProvinceId":function(e,t){this.ruleForm.dealer.account_bank.strAddrCityId="",this.getCitys(e,this.bankAddr.provinceChange,"bank"),this.bankAddr.provinceChange=!0},"ruleForm.dealer.account_bank.strAddrCityId":function(e){this.ruleForm.dealer.account_bank.strAddrAreaId="",this.getAreas(e,this.bankAddr.cityChange,"bank"),this.bankAddr.cityChange=!0}},mounted:function(){this.getId(),this.getdefaultData()},methods:{getId:function(){this.ruleForm.dealer.dealerid=this.$route.query.id},loadInfo:function(){var e=this;a.a.getDStatus({who:"dealer"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}),a.a.getBank({}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.bankList=t.data.bankList}),0==i.a.addrList.length?a.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");i.a.addrList=t.data.address,e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address,e.ruleForm.dealer.strAddrProvinceId=e.defaultData.strAddrProvinceId,e.ruleForm.dealer.account_bank.strAddrProvinceId=e.defaultData.account_bank.strAddrProvinceId}):(this.ruleForm.dealer.strAddrProvinceId=this.defaultData.strAddrProvinceId,this.ruleForm.dealer.account_bank.strAddrProvinceId=this.defaultData.account_bank.strAddrProvinceId)},getdefaultData:function(e){var t=this;a.a.getDealerInfo({dealerid:this.ruleForm.dealer.dealerid}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var s=e.data;t.defaultData=e.data,t.ruleForm.dealer.strDealerName=s.strDealerName,t.ruleForm.dealer.strLicenseNum=s.strLicenseNum,t.ruleForm.dealer.strAddress=s.strAddress,t.ruleForm.dealer.account_bank.strAccountName=s.account_bank.strAccountName,t.ruleForm.dealer.account_bank.strBankId=s.account_bank.strBankId,t.ruleForm.dealer.account_bank.strBranchName=s.account_bank.strBranchName,t.ruleForm.dealer.account_bank.strAccountNum=s.account_bank.strAccountNum,t.ruleForm.dealer.strStatus=s.strStatusId,t.ruleForm.dealer.strLicensePic=s.strLicensePic,t.ruleForm.dealer.strContractPic=s.strContractPic,t.imageUrl1=s.strLicensePic?t.apiRoot+"/static/upload/"+s.strLicensePic:"",t.imageUrl2=s.strContractPic?t.apiRoot+"/static/upload/"+s.strContractPic:"";var a=s.strContractBeginTime.split(" "),r=s.strContractEndTime.split(" ");return t.ruleForm.dateRange=[a[0]+"T"+a[1]+".000Z",r[0]+"T"+r[1]+".000Z"],!0}).then(function(e){e&&t.loadInfo()})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},submitnow:function(e,t){var s=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.ruleForm.dealer.strDealerName=r.a.Trim(s.ruleForm.dealer.strDealerName),s.ruleForm.dealer.strContractBeginTime=r.a.formatDate.format(s.ruleForm.dateRange[0],"y-M-d h:m:s"),s.ruleForm.dealer.strContractEndTime=r.a.formatDate.format(s.ruleForm.dateRange[1],"y-M-d h:m:s"),a.a.editDealerLogic(s.ruleForm).then(function(e){if("0"!=e.ret)return void s.$message("失败！");s.$message("成功！"),t?i.$refs.ruleForm.resetFields():i.$router.push({path:"/Dealer/index"})})})},getCitys:function(e,t,s){if("bank"==s){var a=this.bankAddr.provinces;for(var r in a)a[r].strProvinceId==e&&(this.bankAddr.citys=a[r].citys,t||(this.ruleForm.dealer.account_bank.strAddrCityId=this.defaultData.account_bank.strAddrCityId))}else{var i=this.dealer.provinces;for(var r in i)i[r].strProvinceId==e&&(this.dealer.citys=i[r].citys,t||(this.ruleForm.dealer.strAddrCityId=this.defaultData.strAddrCityId))}},getAreas:function(e,t,s){if("bank"==s){var a=this.bankAddr.citys;for(var r in a)a[r].strCityId==e&&(this.bankAddr.areas=a[r].areas,t||(this.ruleForm.dealer.account_bank.strAddrAreaId=this.defaultData.account_bank.strAddrAreaId))}else{var i=this.dealer.citys;for(var r in i)i[r].strCityId==e&&(this.dealer.areas=i[r].areas,t||(this.ruleForm.dealer.strAddrAreaId=this.defaultData.strAddrAreaId))}},handleAvatarSuccess1:function(e,t){this.ruleForm.dealer.strLicensePic=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.dealer.strContractPic=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},HWTd:function(e,t,s){"use strict";var a=s("bN1W"),r=s("Yzag"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},"Hd+M":function(e,t){},HuWt:function(e,t,s){"use strict";var a=s("75c6"),r=s("/Xao"),i=r(null,a.a,!1,null,null,null);t.a=i.exports},HxPG:function(e,t,s){"use strict";function a(e){s("8Dph")}var r=s("dQWd"),i=s("2mq/"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-3bf474c6",null);t.a=o.exports},Ibmf:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("BD列表")]),e._v(" "),s("el-form",{ref:"searchkeys",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.searchkeys}},[s("el-row",{attrs:{gutter:14}},[s("el-col",{attrs:{span:5}},[s("p",{staticClass:"searchTitle"},[e._v("组织身份：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strLevelCode"}},[s("el-checkbox-group",{model:{value:e.searchkeys.strLevelCode,callback:function(t){e.$set(e.searchkeys,"strLevelCode",t)},expression:"searchkeys.strLevelCode"}},[s("el-checkbox",{attrs:{label:"BD1"}}),e._v(" "),s("el-checkbox",{attrs:{label:"BD2"}}),e._v(" "),s("el-checkbox",{attrs:{label:"BD3"}}),e._v(" "),s("el-checkbox",{attrs:{label:"BD4"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strStatus"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.strStatus,callback:function(t){e.$set(e.searchkeys,"strStatus",t)},expression:"searchkeys.strStatus"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusList,function(e){return s("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})})],2)],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("姓名：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strBDUserName"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strBDUserName,callback:function(t){e.$set(e.searchkeys,"strBDUserName",t)},expression:"searchkeys.strBDUserName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("手机号：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strPhoneNum"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入手机号"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strPhoneNum,callback:function(t){e.$set(e.searchkeys,"strPhoneNum",t)},expression:"searchkeys.strPhoneNum"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("身份证号码：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strCardNum"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入身份证号码"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strCardNum,callback:function(t){e.$set(e.searchkeys,"strCardNum",t)},expression:"searchkeys.strCardNum"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"adds"}},[s("el-button",{attrs:{size:"small"}},[e._v("批量创建")])],1),e._v(" "),s("router-link",{attrs:{to:"add"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建BD用户")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{label:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t    \t\t"+e._s(t.row.strPrefixUserId)+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strPhoneNum",label:"手机号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strCardNum",label:"身份证号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strLevelNames",label:"组织身份"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strStatusName",label:"状态"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.detailBD(t.row.strUserId)}}},[e._v("详情")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.eidtBD(t.row.strUserId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},IcnI:function(e,t,s){"use strict";var a=s("7+uW"),r=s("NYxO"),i=s("mUbh"),l=(s.n(i),s("UjVw")),n=s("lwq5"),o=s("ukYY"),d=s("sax8");s.n(d);a.default.use(r.a);t.a=new r.a.Store({actions:i,getters:l,state:n.a,mutations:o.a,strict:!1,plugins:[]})},IugK:function(e,t){},J3q6:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 列表")]),e._v(" "),s("el-form",{attrs:{inline:!0,model:e.filters}},[s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择省份"},model:{value:e.provinceId,callback:function(t){e.provinceId=t},expression:"provinceId"}},e._l(e.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1),e._v(" "),s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按商户ID、名称搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add_channel"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strChannelId",label:"商户ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strChannelName",label:"商户名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strProvinceName",label:"商户地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName)+"\r\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(1==t.row.strState?"合作中":"停止合作")+"\r\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strChannelScore",label:"商户评分"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.strChannelScore?s("span",[e._v("S")]):"1"==t.row.strChannelScore?s("span",[e._v("A")]):"2"==t.row.strChannelScore?s("span",[e._v("B")]):"3"==t.row.strChannelScore?s("span",[e._v("C")]):"4"==t.row.strChannelScore?s("span",[e._v("D")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strS4Name",label:"S4"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strS4Tel",label:"S4手机号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strCreateTime",label:"合作时间"}}),e._v(" --\x3e\r\n        "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.editChannel(t.row.strChannelId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},"JrA+":function(e,t,s){"use strict";var a=s("WU3u"),r=s("7Cwc"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},JvIh:function(e,t,s){"use strict";function a(e){s("7rfI")}var r=s("QJAv"),i=s("LyHx"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},K0O0:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,fileName:"fileName",number:"number",statusList:"",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strStatus:"",strUserId:"",strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.strUserId=this.$route.query.id},loadInfo:function(){var e=this;a.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}).then(function(t){e.getDefaultDate()})},cancelnow:function(){this.$router.push({path:"/D/index"})},getDefaultDate:function(e){var t=this;a.a.getDInfo({strUserId:this.ruleForm.strUserId}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var s=e.baseinfo;t.ruleForm.strUserName=s.strUserName,t.ruleForm.strPhoneNum=s.strPhoneNum,t.ruleForm.strCardNum=s.strCardNum,t.ruleForm.strStatus=s.strStatusId,t.ruleForm.strCardPicFront=s.strCardPicFront,t.ruleForm.strCardPicBack=s.strCardPicBack,t.ruleForm.strHeadPic=s.strHeadPic,t.imageUrl1=s.strCardPicFront?t.apiRoot+"/static/upload/"+s.strCardPicFront:"",t.imageUrl2=s.strCardPicBack?t.apiRoot+"/static/upload/"+s.strCardPicBack:"",t.imageUrl3=s.strHeadPic?t.apiRoot+"/static/upload/"+s.strHeadPic:""})},submitnow:function(e,t){var s=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editDLogic({duser:s.ruleForm}).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);s.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/D/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},KOTb:function(e,t,s){"use strict";function a(e){s("4/LZ")}var r=s("Ba5A"),i=s("peVd"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},Kgsk:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{hasChoosed:!1,limit:1,steps:{step_1:!0,step_2_success:!1,step_2_fail:!1,step_3_success:!1,step_3_most:!1},iconClass:"iconfont icon-gantanhao-",fixedName:"BD信息表",active:1,fileName:"fileName",excelname:"",apiRoot:r.a.api,fileList:[],upload__tip:"未选择文件",canSubmit:!1,step2_fail_data:{errorRowNum:0},step2_success_data:{},step3_most_data:{},step3_success_data:{}}},computed:{pageDescribe:function(){return this.steps.step_1?"":this.steps.step_2_success||this.steps.step_2_fail?" > 提交结果":" > 创建结果"}},mounted:function(){},methods:{verification:function(e,t){var s=e.name.split(".");return s[0]!=this.fixedName?(this.upload__tip=" 选择文件失败，请确认文件名为“BD信息表”",this.iconClass="iconfont icon-gantanhao hjx-danger",void this.$refs.upload.clearFiles()):"xls"!=s[1]&&"xlsx"!=s[1]||e.size/1024/1024>1?(this.$refs.upload.clearFiles(),this.upload__tip=" 选择文件失败，请确认文件格式为xls、xlsx，1M以内",void(this.iconClass="iconfont icon-gantanhao hjx-danger")):(this.upload__tip=" BD信息表已选择",this.iconClass="iconfont icon-duigou hjx-success",this.active=2,this.canSubmit=!0,void(this.hasChoosed=!0))},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(){this.upload__tip="未选择文件"},successUpload:function(e){this.excelname=e.fileName,this.checkBdExcel(e.fileName)},checkBdExcel:function(e){var t=this;a.a.checkBdExcel({excelname:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示",{confirmButtonText:"确定",callback:function(e){document.querySelector(".el-icon-close").click()}});var s=e.data;t.setFalse(),s.okRowNum==s.totalNum?(t.steps.step_2_success=!0,t.step2_success_data=s):(t.steps.step_2_fail=!0,t.step2_fail_data=s)})},setFalse:function(){for(var e in this.steps)this.steps[e]=!1},reChooseFile:function(e){this.steps.step_1=!0,this.upload__tip="未选择文件",this.iconClass="iconfont icon-gantanhao-",this.active=1,this.canSubmit=!1,this.hasChoosed=!1,this.setFalse(),this.steps.step_1=!0,"yes"==e&&setTimeout(function(){document.querySelector(".el-upload__input").click()},200)},confirmSubmit:function(){var e=this;a.a.createBdExcel({excelname:this.excelname}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data;e.setFalse(),"1"==s.oneOver?(e.steps.step_3_success=!0,e.step3_success_data=s):(e.steps.step_3_most=!0,e.step3_most_data=s)})}}}},LgZO:function(e,t){},LpPy:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"bd-adds"}},[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v(" BD管理 > 批量创建BD "+e._s(e.pageDescribe))]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[e.steps.step_1?s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1):s("el-button",{attrs:{size:"small"},on:{click:e.reChooseFile}},[e._v("返回批量创建BD")])],1)],1),e._v(" "),e.steps.step_1?s("div",{staticClass:"step-1"},[s("div",{staticClass:"hjx-fl"},[s("el-steps",{attrs:{space:150,direction:"vertical",active:e.active}},[s("el-step",{attrs:{title:""}}),e._v(" "),s("el-step",{attrs:{title:""}}),e._v(" "),s("el-step",{attrs:{title:""}})],1)],1),e._v(" "),s("div",{staticClass:"hjx-fl"},[s("div",{staticClass:"step-download"},[s("span",{staticClass:"instructions"},[e._v("下载BD信息模板，批量填写BD信息")]),e._v(" "),s("a",{staticClass:"download-btn",attrs:{href:e.apiRoot+"/download",download:""}},[e._v("下载")]),e._v(" "),s("p",{staticClass:"instructions-limit"},[e._v("如已有模板，可跳过第一步")])]),e._v(" "),s("div",{staticClass:"step-choose-file"},[s("span",{staticClass:"instructions"},[e._v('上传填写好的"BD信息表" ')]),e._v(" "),s("span",{staticClass:"instructions-limit"},[e._v("（仅支持xls、xlsx格式文件，最大1M）")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:e.fileName,limit:e.limit,"on-change":e.verification,"on-remove":e.reChooseFile,action:e.apiRoot+"/upload","file-list":e.fileList,"on-success":e.successUpload,"auto-upload":!1}},[s("el-button",{ref:"aaa",attrs:{slot:"trigger",size:"small",type:"primary",disabled:e.hasChoosed},slot:"trigger"},[e._v("选择文件")]),e._v(" "),s("span",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[s("i",{class:e.iconClass}),e._v(e._s(e.upload__tip)+"\n                    ")])],1)],1),e._v(" "),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary",disabled:!e.canSubmit},on:{click:e.submitUpload}},[e._v("上传")]),e._v(" "),s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("取消")])],1)],1),e._v(" "),e._m(0)]):e.steps.step_2_success?s("div",{staticClass:"step-2-success"},[s("div",{staticClass:"hjx-alert hjx-alert-warning"},[s("span",{staticClass:"hjx-info"},[e._v("上传表格所有数据")]),e._v(" "),s("span",{staticClass:"hjx-blue"},[e._v("校验通过，")]),e._v(" "),s("span",{staticClass:"hjx-info"},[e._v("预览如下")]),e._v(" "),e.step2_success_data.totalNum>100?s("span",{staticClass:"hjx-danger"},[e._v("（第102行及之后的数据未做校验）")]):e._e()]),e._v(" "),s("br"),e._v(" "),s("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(1),e._v(" "),e._l(e.step2_success_data.rowList,function(t,a){return s("tr",[s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.name))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.phonenum))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.cardnum))])]),e._v(" "),e._m(2,!0)])})],2),e._v(" "),s("br"),e._v(" "),e.step2_success_data.okRowNum>3?s("i",{staticClass:"iconfont icon-more_android_light"}):e._e(),e._v(" "),s("p",{staticClass:"instructions"},[e._v("共"+e._s(e.step2_success_data.okRowNum)+"条")]),e._v(" "),s("br"),e._v(" "),s("p",{staticClass:"hjx-center"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.confirmSubmit}},[e._v("确认创建")]),e._v(" "),s("el-button",{attrs:{size:"small"},on:{click:e.reChooseFile}},[e._v("取消")])],1)]):e.steps.step_2_fail?s("div",{staticClass:"step-2-fail"},[s("div",{staticClass:"hjx-alert hjx-alert-warning"},[s("span",{staticClass:"hjx-info"},[e._v("当前表格中有")]),e._v(" "),s("span",{staticClass:"hjx-danger"},[e._v(e._s(e.step2_fail_data.errorRowNum)+"条")]),e._v(" "),s("span",{staticClass:"hjx-info"},[e._v("错误，请修改完成后重新上传")]),e._v(" "),s("span",{staticClass:"hjx-danger"},[e._v("（如有误，请调整excel后全部重新上传"),e.step2_fail_data.totalNum>100?s("span",[e._v("；第102行及之后的数据未做校验")]):e._e(),e._v("）")])]),e._v(" "),s("br"),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.step2_fail_data.rowList,border:""}},[s("el-table-column",{attrs:{prop:"locaterow",label:"行数"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phonenum",label:"手机号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"cardnum",label:"身份证号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"errinfo",label:"错误详情","class-name":"hjx-danger hjx-ft12"}})],1),e._v(" "),s("br"),e._v(" "),s("p",{staticClass:"hjx-center"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.reChooseFile("yes")}}},[e._v("重新上传")])],1)],1):e.steps.step_3_most?s("div",{staticClass:"step-3-mostSuccess"},[s("div",{staticClass:"hjx-alert hjx-alert-warning"},[s("span",{staticClass:"hjx-info"},[e._v("共提交"+e._s(e.step3_most_data.totalNum)+"条数据，")]),e._v(" "),s("span",{staticClass:"hjx-success"},[e._v(e._s(e.step3_most_data.successNum)+"条创建成功。")]),e._v(" "),s("span",{staticClass:"hjx-danger"},[e._v(e._s(e.step3_most_data.errorNum)+"条发现与已有数据重复，请检查"),e.step3_most_data.totalNum>100?s("span",[e._v("（第102行及之后的数据未做校验）")]):e._e(),e._v("：")])]),e._v(" "),s("br"),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.step3_most_data.rowList,border:""}},[s("el-table-column",{attrs:{prop:"locaterow",label:"行数"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phonenum",label:"手机号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"cardnum",label:"身份证号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"errinfo",label:"重复详情","class-name":"hjx-danger hjx-ft12"}})],1),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"hjx-center"},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"middle"}},[e._v("完成")])],1)],1)],1):s("div",{staticClass:"step-3 hjx-center"},[s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("p",{staticClass:"hjx-ft16 hjx-info"},[s("i",{staticClass:"iconfont icon-duigou1 hjx-success"}),e._v(" "+e._s(e.step3_success_data.okRowNum)+"条数据已经全部创建")]),e._v(" "),e.step3_success_data.totalNum>100?s("p",{staticClass:"hjx-ft13 hjx-danger"},[e._v("（第102行及之后的数据未做校验）")]):e._e(),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"middle"}},[e._v("完成")])],1)],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hjx-clear"},[s("br"),s("br"),s("br"),s("br"),e._v(" "),s("p",{staticClass:"instructions-limit"},[e._v("\n                单次上传最多处理"),s("span",{staticClass:"hjx-danger"},[e._v("100条数据")]),e._v(" "),s("br")]),e._v(" "),s("p",{staticClass:"instructions-limit"},[e._v("\n                表格字段填写说明：\n                "),s("br"),e._v(" • 姓名：4~50字符，不支持特殊字符\n                "),s("br"),e._v(" • 手机号：11位数字，不能与已有BD重复\n                "),s("br"),e._v(" • 身份证号码：15或18位数字，最后一位可以为x，不能与已有BD重复\n                "),s("br"),e._v(" • email：4~50字符，包含@\n                "),s("br"),e._v(" • 请将所以单元格的格式设置成"),s("span",{staticClass:"hjx-danger"},[e._v("文本格式")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("姓名")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("手机号")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("身份证号码")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("校验结果")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",[s("i",{staticClass:"iconfont icon-duigou1 hjx-success table-icon"})])}],i={render:a,staticRenderFns:r};t.a=i},LyHx:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 新增")]),e._v(" "),s("div",{staticClass:"content-containered"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px",rules:e.rules}},[s("el-form-item",{attrs:{label:"渠道关系模型："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strLevelId,callback:function(t){e.$set(e.form,"strLevelId",t)},expression:"form.strLevelId"}},e._l(e.channelTemplateList,function(e){return s("el-option",{key:e.strTemplateId,attrs:{label:e.strTemplateName,value:e.strTemplateId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"商户全称：",prop:"strFullName"}},[s("el-input",{attrs:{placeholder:"请输入合同乙方营业执照名称"},model:{value:e.form.strFullName,callback:function(t){e.$set(e.form,"strFullName",t)},expression:"form.strFullName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所属品牌商/合作方："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strPartner_id,callback:function(t){e.$set(e.form,"strPartner_id",t)},expression:"form.strPartner_id"}},e._l(e.partnerList,function(e){return s("el-option",{key:e.strPartnerId,attrs:{label:e.strPartnerName,value:e.strPartnerId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"营业执照地址："}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_province_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.form.strAddr_province_id,callback:function(t){e.$set(e.form,"strAddr_province_id",t)},expression:"form.strAddr_province_id"}},e._l(e.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_city_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.form.strAddr_city_id,callback:function(t){e.$set(e.form,"strAddr_city_id",t)},expression:"form.strAddr_city_id"}},e._l(e.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strAddr_area_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.form.strAddr_area_id,callback:function(t){e.$set(e.form,"strAddr_area_id",t)},expression:"form.strAddr_area_id"}},e._l(e.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"strDetailAddress"}},[s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.strDetailAddress,callback:function(t){e.$set(e.form,"strDetailAddress",t)},expression:"form.strDetailAddress"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{attrs:{label:"营业执照号码：",prop:"strLicense_num"}},[s("el-input",{attrs:{placeholder:"请输入商户营业执照号码"},model:{value:e.form.strLicense_num,callback:function(t){e.$set(e.form,"strLicense_num",t)},expression:"form.strLicense_num"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"工号前缀：",prop:"strPrefix_str"}},[s("el-input",{attrs:{placeholder:"2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)"},model:{value:e.form.strPrefix_str,callback:function(t){e.$set(e.form,"strPrefix_str",t)},expression:"form.strPrefix_str"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商户负责S4："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strConnection_info,callback:function(t){e.$set(e.form,"strConnection_info",t)},expression:"form.strConnection_info"}},e._l(e.channelUserList,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"月手机销量："}},[s("el-input",{model:{value:e.form.strMonth_sales,callback:function(t){e.$set(e.form,"strMonth_sales",t)},expression:"form.strMonth_sales"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商户等级："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strScore,callback:function(t){e.$set(e.form,"strScore",t)},expression:"form.strScore"}},[s("el-option",{attrs:{label:"S",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"A",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"B",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"C",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"D",value:"4"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"估价模型："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strValuationId,callback:function(t){e.$set(e.form,"strValuationId",t)},expression:"form.strValuationId"}},[s("el-option",{attrs:{label:"2B估价模型",value:"2"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"渠道分成："}},[s("el-form-item",{attrs:{label:"分成比例（%）：",prop:"strPercent"}},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.strPercent,callback:function(t){e.$set(e.form,"strPercent",t)},expression:"form.strPercent"}})],1)],1),e._v(" "),s("div",{staticStyle:{height:"16px"}}),e._v(" "),s("el-form-item",{attrs:{label:"苹果机型封顶（元）：",prop:"strApplyMax"}},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.strApplyMax,callback:function(t){e.$set(e.form,"strApplyMax",t)},expression:"form.strApplyMax"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"店员激励："}},[s("el-button",{attrs:{type:"primary",size:"small"},model:{value:e.form.strShopAwardId,callback:function(t){e.$set(e.form,"strShopAwardId",t)},expression:"form.strShopAwardId"}},[e._v("+设置店员激励方案")])],1),e._v(" "),s("el-form-item",{attrs:{label:"付款模式："}},[s("el-select",{attrs:{placeholder:"请请选择付款模式"},model:{value:e.form.strPayMethodId,callback:function(t){e.$set(e.form,"strPayMethodId",t)},expression:"form.strPayMethodId"}},[s("el-option",{attrs:{label:"预付",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"垫付",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"店员/用户APP："}},[s("el-checkbox-group",{model:{value:e.form.selfFunction,callback:function(t){e.$set(e.form,"selfFunction",t)},expression:"form.selfFunction"}},[s("el-checkbox",{attrs:{label:"收集用户信息"}}),e._v(" "),s("el-checkbox",{attrs:{label:"环保回收"}})],1)],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("form")}}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},M93x:function(e,t,s){"use strict";function a(e){s("4A0d")}var r=s("NZSx"),i=s("ikhL"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},MObr:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("D管理 > 编辑")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("p",[e._v("1.基本信息")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[s("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号",disabled:""},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证正面："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证背面："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"上传头像："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("p",[e._v("2.合作状态")]),e._v(" "),s("el-form-item",{attrs:{label:"状态："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return s("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"MZd/":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{number:"number",statusId:"1",statusList:[{statusName:"正常",statusId:"1"},{statusName:"停用",statusId:"0"}],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strUserTel:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){},methods:{cancelnow:function(){this.$router.push({path:"/channel/employee"})},submitnow:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addEmployeeLogic(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("成功！"),s.$router.push({path:"/channel/employee"})})})}}}},Mleu:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("section",{staticClass:"chart-container"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:s("p1FZ")}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v("阳光从树叶细缝露出了笑容  ")]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:s("yueM")}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v("温暖了我的美梦")]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:s("c+Ys")}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v("只有笼里的画眉羡慕着天空，却从来没有人懂")]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1)],1)],1)])],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("M93x"),i=s("zL8q"),l=s.n(i),n=s("q8zI"),o=(s.n(n),s("lf9d")),d=(s.n(o),s("5y3/")),c=(s.n(d),s("YaEn")),u=s("IcnI");a.default.config.productionTip=!1,a.default.use(l.a),new a.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:r.a}})},NZSx:function(e,t,s){"use strict";t.a={name:"app"}},Nely:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("Dealer管理 > 关联D4")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1)],1),e._v(" "),e.ifD4?s("div",{staticClass:"haveD4"},[s("br"),s("br"),s("br"),s("br"),s("br"),e._v(" "),s("p",{staticClass:"hjx-black"},[e._v(e._s(e.D4Name+" / "+e.D4Tel))]),e._v(" "),s("br"),e._v(" "),s("p",{staticClass:"note"},[e._v("在tree中替换D4负责人，此处关联D4工号将随之替换")])]):s("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"关联D4：",prop:"did"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择关联的D用户"},model:{value:e.ruleForm.did,callback:function(t){e.$set(e.ruleForm,"did",t)},expression:"ruleForm.did"}},e._l(e.Dlist,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即关联")]),e._v(" "),s("router-link",{attrs:{to:"index"}},[s("el-button",[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},NlVy:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("Dealer管理 > 创建")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[s("p",[e._v("1.基本信息")]),e._v(" "),s("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[s("el-input",{attrs:{placeholder:"请输入公司全称"},model:{value:e.ruleForm.dealer.strDealerName,callback:function(t){e.$set(e.ruleForm.dealer,"strDealerName",t)},expression:"ruleForm.dealer.strDealerName"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"公司地址："}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrProvinceId",t)},expression:"ruleForm.dealer.strAddrProvinceId"}},e._l(e.dealer.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrCityId",t)},expression:"ruleForm.dealer.strAddrCityId"}},e._l(e.dealer.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrAreaId",t)},expression:"ruleForm.dealer.strAddrAreaId"}},e._l(e.dealer.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"dealer.strAddress"}},[s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.dealer.strAddress,callback:function(t){e.$set(e.ruleForm.dealer,"strAddress",t)},expression:"ruleForm.dealer.strAddress"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入15或18位营业执照号"},model:{value:e.ruleForm.dealer.strLicenseNum,callback:function(t){e.$set(e.ruleForm.dealer,"strLicenseNum",t)},expression:"ruleForm.dealer.strLicenseNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"三证照片："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("p",[e._v("2.收款信息")]),e._v(" "),s("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[s("el-input",{attrs:{type:e.number,maxlength:30,placeholder:"请输入10~30位银行卡号"},model:{value:e.ruleForm.dealer.account_bank.strAccountNum,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountNum",t)},expression:"ruleForm.dealer.account_bank.strAccountNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[s("el-input",{attrs:{placeholder:"请输入开户名"},model:{value:e.ruleForm.dealer.account_bank.strAccountName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountName",t)},expression:"ruleForm.dealer.account_bank.strAccountName"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"开户地址："}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.account_bank.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrProvinceId",t)},expression:"ruleForm.dealer.account_bank.strAddrProvinceId"}},e._l(e.bankAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.account_bank.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrCityId",t)},expression:"ruleForm.dealer.account_bank.strAddrCityId"}},e._l(e.bankAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.account_bank.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrAreaId",t)},expression:"ruleForm.dealer.account_bank.strAddrAreaId"}},e._l(e.bankAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.ruleForm.dealer.account_bank.strBankId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBankId",t)},expression:"ruleForm.dealer.account_bank.strBankId"}},e._l(e.bankList,function(e){return s("el-option",{key:e.strId,attrs:{label:e.strName,value:e.strId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[s("el-input",{attrs:{placeholder:"请输入支行名称"},model:{value:e.ruleForm.dealer.account_bank.strBranchName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBranchName",t)},expression:"ruleForm.dealer.account_bank.strBranchName"}})],1),e._v(" "),s("p",[e._v("3.合作信息")]),e._v(" "),s("el-form-item",{attrs:{label:"合同有效时间：",prop:"dateRange"}},[s("div",{staticClass:"block"},[s("el-date-picker",{attrs:{"default-value":e.ruleForm.dateRange,"range-separator":" ~ ",type:"daterange",clearable:!1,placeholder:"选择日期范围"},model:{value:e.ruleForm.dateRange,callback:function(t){e.$set(e.ruleForm,"dateRange",t)},expression:"ruleForm.dateRange"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"合作协议照片："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),s("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},O2LU:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,ifAdd:!0,dataList:[],cateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddCateRole:{c_cate_id:"",c_name:"",c_desc:"",c_status:"1"},handelEditCateRole:{e_cate_id:"",e_name:"",e_desc:"",e_status:"1"},rules:{c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getCateRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data.list;e.dataList=s,e.total=Number(t.data.nums)})},setStatus:function(e,t){var s=this,r={s_cate_id:e,s_status:"1"==t?"2":"1"};a.a.changeCateRoleStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},addCateRole:function(){this.handelAddCateRole.c_cate_id="",this.handelAddCateRole.c_name="",this.handelAddCateRole.c_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditCateRole.e_cate_id=t.Fcate_id,this.handelEditCateRole.e_name=t.Fname,this.handelEditCateRole.e_desc=t.Fdesc,this.editDialog=!0},search:function(){this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddCateRole.c_name=r.a.Trim(this.handelAddCateRole.c_name),this.handelAddCateRole.c_desc=r.a.Trim(this.handelAddCateRole.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addCateRole(t.handelAddCateRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditCateRole.e_name=r.a.Trim(this.handelEditCateRole.e_name),this.handelEditCateRole.e_desc=r.a.Trim(this.handelEditCateRole.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editCateRole(t.handelEditCateRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该分类中所有内容将被禁用•"),r("p",{style:"color:#ff4949"},"• 将无法往该分类中新增内容请谨慎操作！"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该分类中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1,this.addDialog=!1}}}},OOVi:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("页面管理")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_module_id,callback:function(t){e.$set(e.searchkeys,"s_module_id",t)},expression:"searchkeys.s_module_id"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.moduleList.Search,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})})],2)],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("权限标识码：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_is_flags,callback:function(t){e.$set(e.searchkeys,"s_is_flags",t)},expression:"searchkeys.s_is_flags"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),s("el-option",{attrs:{label:"为空",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"不为空",value:"2"}})],1)],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("页面名称：")]),e._v(" "),s("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_page_name,callback:function(t){e.$set(e.searchkeys,"s_page_name",t)},expression:"searchkeys.s_page_name"}})],1)]),e._v(" "),s("el-col",{attrs:{span:8}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("div",{staticClass:"goSearch "},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.Add()}}},[e._v("新增页面")])],1),e._v(" "),s("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,a){return s("tr",[s("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),s("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Faccess_flags))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[t.upStatus?s("span",[e._v("禁用"),s("br"),s("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?s("span",[e._v("启用")]):s("span",[e._v("禁用")])])]),e._v(" "),s("td",[1==t.Fstatus?s("div",{staticClass:"cell"},[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(a)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):s("div",{staticClass:"cell"},[s("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[s("el-form",{ref:"addPage",attrs:{model:e.addPage,rules:e.rules,"label-width":"140px"}},[s("el-form-item",{attrs:{label:"所属系统：",prop:"c_system_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPage.c_system_id,callback:function(t){e.$set(e.addPage,"c_system_id",t)},expression:"addPage.c_system_id"}},e._l(e.enableSystemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"所属模块：",prop:"c_system_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPage.c_pid,callback:function(t){e.$set(e.addPage,"c_pid",t)},expression:"addPage.c_pid"}},e._l(e.moduleList.Add,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"页面名称：",prop:"c_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},model:{value:e.addPage.c_name,callback:function(t){e.$set(e.addPage,"c_name",t)},expression:"addPage.c_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.addPage.c_desc,callback:function(t){e.$set(e.addPage,"c_desc",t)},expression:"addPage.c_desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"查看权限标识码：",prop:"c_access_flags"}},[s("el-input",{attrs:{maxlength:20,placeholder:"请输入查看权限标识码"},model:{value:e.addPage.c_access_flags,callback:function(t){e.$set(e.addPage,"c_access_flags",t)},expression:"addPage.c_access_flags"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addPage")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"editPage",attrs:{model:e.editPage,rules:e.rules,"label-width":"140px"}},[s("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[s("el-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.editPage.e_system_id,callback:function(t){e.$set(e.editPage,"e_system_id",t)},expression:"editPage.e_system_id"}},e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"所属模块：",prop:"e_system_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPage.e_pid,callback:function(t){e.$set(e.editPage,"e_pid",t)},expression:"editPage.e_pid"}},e._l(e.moduleList.Edit,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"页面名称：",prop:"e_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},model:{value:e.editPage.e_name,callback:function(t){e.$set(e.editPage,"e_name",t)},expression:"editPage.e_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.editPage.e_desc,callback:function(t){e.$set(e.editPage,"e_desc",t)},expression:"editPage.e_desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"查看权限标识码：",prop:"e_access_flags"}},[s("el-input",{attrs:{maxlength:20,placeholder:"请输入查看权限标识码"},model:{value:e.editPage.e_access_flags,callback:function(t){e.$set(e.editPage,"e_access_flags",t)},expression:"editPage.e_access_flags"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editPage")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("页面名称")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"20%"}},[s("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"20%"}},[s("div",{staticClass:"cell"},[e._v("查看权限标识码")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:a,staticRenderFns:r};t.a=i},OU3Z:function(e,t,s){"use strict";var a=s("aQMx"),r=s("Xzqt"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},P9l9:function(e,t,s){"use strict";function a(e,t){var s={head:{version:"0.01",msgtype:"request",interface:e,remark:""},params:{system:"HJXMBA"}};for(var a in t)s.params[a]=t[a];return new c.a(function(e,t){m.a.post(h.a.api+"/channel_org_interface",s).then(function(t){e(t)},function(e){t(e)}).catch(function(e){t(e)})})}function r(e){var t=e+"=",s="";if(document.cookie.length>0){var a=document.cookie.indexOf(t);if(-1!=a){a+=t.length;var r=document.cookie.indexOf(";",a);-1==r&&(r=document.cookie.length),s=unescape(document.cookie.substring(a,r))}}return s}function i(e,t){v||(v=r("username")),_||(_=r("useruuid"));var s={head:{version:"0.01",msgtype:"request",interface:e,remark:""},params:{system:"HJXMBA",login_user_id:_,login_token:"12345678911",login_system_id:"1",login_username:v}};for(var a in t)s.params[a]=t[a];return new c.a(function(e,t){m.a.post(h.a.apiCross+"/index/index",s).then(function(t){e(t)},function(e){t(e)}).catch(function(e){t(e)})})}var l,n=s("bOdI"),o=s.n(n),d=s("//Fk"),c=s.n(d),u=s("mtWM"),m=s.n(u),h=(s("YaEn"),s("s0MJ")),p=s("zL8q");s.n(p);m.a.interceptors.request.use(function(e){return e},function(e){return c.a.reject(e)}),m.a.interceptors.response.use(function(e){return 200!=e.status?c.a.reject(e):e.data.body},function(e){if(e.response)switch(s.i(p.Message)({message:e.response.data.body.retinfo,type:"warning"}),e.response.status){case 403:var t=encodeURIComponent(h.a.accessHost);window.location.href=h.a.powerCenterLoginPage+"/login?system_id="+h.a.systemId+"&jump_url="+t}return c.a.reject(e)});var v=void 0,_=void 0;t.a=(l={Login:function(e){return a("loginLogic",e)},upload:function(e){return a("upload",e)},get_user_authority:function(e){return a("get_user_authority",e)},logout:function(e){return a("logout",e)},getAddress:function(e){return a("get_addressInfo",e)},getBank:function(e){return a("get_bank",e)},getAllChannels:function(e){return a("get_allChannels",e)},getChannelsChild:function(e){return a("get_Orgs",e)},getChannelManager:function(e){return a("get_channelManager",e)},getChannelTemplate:function(e){return a("get_channel_template",e)},getPartner:function(e){return a("get_partner",e)},getDStatus:function(e){return a("get_channelstatus_list",e)},getChannelList:function(e){return a("search_channelorg",e)},getProvince:function(e){return a("get_province",e)},addChannelLogic:function(e){return a("save_ChannelOrg",e)},getChannelInfo:function(e){return a("channel_detail",e)},getTemplateList:function(e){return a("get_channelTemplateList",e)},addChannelTemplatePageData:function(e){return a("add_channelTemplatePageData",e)},editChannelTemplateJsInfo:function(e){return a("edit_channelTemplateJsInfo",e)},editTemplateLogic:function(e){return a("edit_channel_template",e)},addTemplateLogic:function(e){return a("add_channelTemplateLogic",e)},delChannelTemplate:function(e){return a("del_channelTemplate",e)},upChannelTemplate:function(e){return a("up_channelTemplate",e)},getDealerIdNamelist:function(e){return a("get_dealer_id_name_list",e)},getChannelStoreList:function(e){return a("get_channel_store_list",e)},getStoreList:function(e){return a("get_store_list",e)},disableStore:function(e){return a("del_store",e)},enableStore:function(e){return a("up_store",e)},addStoreLogic:function(e){return a("add_storeLogic",e)},addOrgLogic:function(e){return a("add_orgLogic",e)},getStoreInfo:function(e){return a("getStoreInfo",e)},getStoreS:function(e){return a("get_store_s",e)},getAllS1:function(e){return a("get_all_jobnumber",e)},addStoreS1:function(e){return a("add_store_s",e)},getStoreDS:function(e){return a("get_related_people_list",e)},getAllDS:function(e){return a("get_can_relate_people_list",e)},addStoreDS:function(e){return a("set_relate_people_list",e)},editStoreLogic:function(e){return a("edit_storeLogic",e)},getEmployeeList:function(e){return a("search_jobnumber",e)},setEmployee:function(e){return a("set_jobStatus",e)},addEmployeeLogic:function(e){return a("add_jobnumber",e)},getEmployeeInfo:function(e){return a("get_jobnumber_info",e)}},o()(l,"addEmployeeLogic",function(e){return a("add_jobnumber",e)}),o()(l,"editEmployeeLogic",function(e){return a("edit_jobnumber",e)}),o()(l,"getDList",function(e){return a("get_d_list",e)}),o()(l,"addDLogic",function(e){return a("add_d_user",e)}),o()(l,"getDInfo",function(e){return a("get_d_detail",e)}),o()(l,"getDStoreList",function(e){return a("get_d_store_list",e)}),o()(l,"editDLogic",function(e){return a("edit_d_user",e)}),o()(l,"getD4List",function(e){return a("get_dx_list",e)}),o()(l,"getD4Tree",function(e){return a("get_d_tree",e)}),o()(l,"getReplaceDxList",function(e){return a("get_replace_dx_list",e)}),o()(l,"replaceDxNode",function(e){return a("replace_d_code",e)}),o()(l,"delLeafNode",function(e){return a("del_leaf_code",e)}),o()(l,"getAddNextList",function(e){return a("get_superior_dx_list",e)}),o()(l,"setAddNext",function(e){return a("add_superior_code",e)}),o()(l,"getDealerList",function(e){return a("get_dealer_list",e)}),o()(l,"addDealerLogic",function(e){return a("add_dealer",e)}),o()(l,"getDealerInfo",function(e){return a("get_dealer",e)}),o()(l,"editDealerLogic",function(e){return a("set_dealer",e)}),o()(l,"getWillRelateD4",function(e){return a("get_will_d4",e)}),o()(l,"relateD4",function(e){return a("set_will_d4",e)}),o()(l,"getBDList",function(e){return a("get_bd_list",e)}),o()(l,"addBDLogic",function(e){return a("add_bd_user",e)}),o()(l,"getBDInfo",function(e){return a("get_bd_detail",e)}),o()(l,"getBDStoreList",function(e){return a("get_bd_store_list",e)}),o()(l,"editBDLogic",function(e){return a("edit_bd_user",e)}),o()(l,"checkBdExcel",function(e){return a("check_bd_excel",e)}),o()(l,"createBdExcel",function(e){return a("create_bd_excel",e)}),o()(l,"getBD4List",function(e){return a("get_bdx_list",e)}),o()(l,"getBD4Tree",function(e){return a("get_bd_tree",e)}),o()(l,"getReplaceBDxList",function(e){return a("get_replace_bdx_list",e)}),o()(l,"replaceBDxNode",function(e){return a("replace_bd_code",e)}),o()(l,"delBDLeafNode",function(e){return a("del_leaf_BDcode",e)}),o()(l,"getAddNextBDList",function(e){return a("get_junior_bdx_list",e)}),o()(l,"setAddBDNext",function(e){return a("add_junior_code",e)}),o()(l,"getSystemList",function(e){return i("getSystemList",e)}),o()(l,"addSystem",function(e){return i("addSystem",e)}),o()(l,"editSystem",function(e){return i("editSystem",e)}),o()(l,"changeSystemStatus",function(e){return i("changeSystemStatus",e)}),o()(l,"getRoleList",function(e){return i("getRoleList",e)}),o()(l,"addRole",function(e){return i("addRole",e)}),o()(l,"editRole",function(e){return i("editRole",e)}),o()(l,"getRoleAuth",function(e){return i("setRoleAuth",e)}),o()(l,"editRoleAuths",function(e){return i("editRoleAuths",e)}),o()(l,"changeRoleStatus",function(e){return i("changeRoleStatus",e)}),o()(l,"getCateRoleList",function(e){return i("getCateRoleList",e)}),o()(l,"changeCateRoleStatus",function(e){return i("changeCateRoleStatus",e)}),o()(l,"addCateRole",function(e){return i("addCateRole",e)}),o()(l,"editCateRole",function(e){return i("editCateRole",e)}),o()(l,"getModuleList",function(e){return i("getModuleList",e)}),o()(l,"addAuth",function(e){return i("addAuth",e)}),o()(l,"editAuth",function(e){return i("editAuth",e)}),o()(l,"changeAuthStatus",function(e){return i("changeAuthStatus",e)}),o()(l,"getPageList",function(e){return i("getPageList",e)}),o()(l,"getActionAuthList",function(e){return i("getActionAuthList",e)}),o()(l,"addActionAuths",function(e){return i("addActionAuths",e)}),o()(l,"getPowerRecordList",function(e){return i("getRecordList",e)}),l)},PR8Q:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 编辑模板")]),e._v(" "),s("el-form",{staticClass:"content-width",attrs:{"label-width":"180px"}},[s("el-form-item",{attrs:{label:"渠道关系模板ID：",prop:"strTemplateId"}},[s("el-input",{attrs:{disabled:""},model:{value:e.dict.strTemplateId,callback:function(t){e.$set(e.dict,"strTemplateId",t)},expression:"dict.strTemplateId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"渠道关系模板名称：",prop:"strTemplateName"}},[s("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.dict.strTemplateName,callback:function(t){e.$set(e.dict,"strTemplateName",t)},expression:"dict.strTemplateName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"渠道关系模板描述：",prop:"strTemplateDesc"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入模板描述"},model:{value:e.dict.strTemplateDesc,callback:function(t){e.$set(e.dict,"strTemplateDesc",t)},expression:"dict.strTemplateDesc"}})],1),e._v(" "),s("el-form-item",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[s("el-table-column",{attrs:{prop:"strLevelId",label:"层级ID",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{label:"层级",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t\t\t    \t\t"+e._s(t.$index+1)+"\r\n\t\t\t    \t\t")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"层级名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入层级名称"},model:{value:t.row.strLevelName,callback:function(s){e.$set(t.row,"strLevelName",s)},expression:"scope.row.strLevelName"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"层级描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.row.strLevelDesc,callback:function(s){e.$set(t.row,"strLevelDesc",s)},expression:"scope.row.strLevelDesc"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"showRoles",label:"角色",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.setindex(t.$index)}}},[e._v("选择角色")])]}}])})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"选择角色",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("div",{staticClass:"tool"}),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentFroles,stripe:""}},[s("el-table-column",{attrs:{label:"选择",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{model:{value:t.row.strSelect,callback:function(s){e.$set(t.row,"strSelect",s)},expression:"scope.row.strSelect"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleId",label:"角色Id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleName",label:"角色名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strRoleDesc",label:"角色描述"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strAuthoritysName",label:"权限名称"}})],1),e._v(" "),s("div",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:e.setselect}},[e._v("确认")])],1)],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},PeLJ:function(e,t){},Pw3e:function(e,t,s){"use strict";var a=s("6P/e"),r=s("Dw9O"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},PwEm:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v(" BD管理 > 创建BD用户")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",id:"loading-area"}},[s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[s("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[s("el-input",{attrs:{maxlength:50,placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证正面：",prop:"strCardPicFront"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证背面：",prop:"strCardPicBack"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"上传头像：",prop:"strHeadPic"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),s("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")]),e._v(" "),s("el-checkbox",{model:{value:e.setIdentity,callback:function(t){e.setIdentity=t},expression:"setIdentity"}},[e._v("【确认创建】后，去设置该用户的组织身份")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},Pyqa:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("权限管理")]),e._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1)]),e._v(" "),s("el-col",{attrs:{span:3}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_module_id,callback:function(t){e.$set(e.searchkeys,"s_module_id",t)},expression:"searchkeys.s_module_id"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.moduleList.Search,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})})],2)],1)]),e._v(" "),s("el-col",{attrs:{span:3}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("页面名称：")]),e._v(" "),s("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_page_name,callback:function(t){e.$set(e.searchkeys,"s_page_name",t)},expression:"searchkeys.s_page_name"}})],1)]),e._v(" "),s("el-col",{attrs:{span:3}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("权限标识码：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_is_flags,callback:function(t){e.$set(e.searchkeys,"s_is_flags",t)},expression:"searchkeys.s_is_flags"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),s("el-option",{attrs:{label:"为空",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"不为空",value:"2"}})],1)],1)]),e._v(" "),s("el-col",{attrs:{span:3}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_status,callback:function(t){e.$set(e.searchkeys,"s_status",t)},expression:"searchkeys.s_status"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),s("el-option",{attrs:{label:"启用",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"禁用",value:"2"}})],1)],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"searchItem"},[s("p",{staticClass:"searchTitle"},[e._v("权限名称：")]),e._v(" "),s("el-input",{attrs:{maxlength:40,placeholder:"请输入权限名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_auth_name,callback:function(t){e.$set(e.searchkeys,"s_auth_name",t)},expression:"searchkeys.s_auth_name"}})],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("div",{staticClass:"goSearch "},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)])],1)],1),s("br"),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"module"}},[s("el-button",{attrs:{size:"small"}},[e._v("模块管理")])],1),e._v(" "),s("router-link",{attrs:{to:"page"}},[s("el-button",{attrs:{size:"small"}},[e._v("页面管理")])],1),e._v(" "),s("router-link",{attrs:{to:"add"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("新增权限")])],1)],1),e._v(" "),s("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,a){return s("tr",[s("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),s("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),s("td",{class:{hidden:t.FpidDis},attrs:{rowspan:t.FpidSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fpage_name))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[e._v(e._s(t.Faccess_flags))])]),e._v(" "),s("td",[s("div",{staticClass:"cell"},[t.upStatus?s("span",[e._v("禁用"),s("br"),s("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?s("span",[e._v("启用")]):s("span",[e._v("禁用")])])]),e._v(" "),s("td",["查看"==t.Fname?s("div"):1==t.Fstatus?s("div",{staticClass:"cell"},[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(a)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):s("div",{staticClass:"cell"},[s("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(s){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"editPower",attrs:{model:e.editPower,rules:e.rules,"label-width":"140px"}},[s("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.editPower.e_system_id,callback:function(t){e.$set(e.editPower,"e_system_id",t)},expression:"editPower.e_system_id"}},e._l(e.systemList,function(e){return s("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"所属模块：",prop:"e_module_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPower.e_module_id,callback:function(t){e.$set(e.editPower,"e_module_id",t)},expression:"editPower.e_module_id"}},e._l(e.moduleList.Edit,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"所属页面：",prop:"e_pid"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPower.e_pid,callback:function(t){e.$set(e.editPower,"e_pid",t)},expression:"editPower.e_pid"}},e._l(e.editPageList,function(e){return s("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"权限名称：",prop:"e_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入权限名称"},model:{value:e.editPower.e_name,callback:function(t){e.$set(e.editPower,"e_name",t)},expression:"editPower.e_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.editPower.e_desc,callback:function(t){e.$set(e.editPower,"e_desc",t)},expression:"editPower.e_desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限标识码：",prop:"e_access_flags"}},[s("el-input",{attrs:{maxlength:20,placeholder:"请输入权限标识码"},model:{value:e.editPower.e_access_flags,callback:function(t){e.$set(e.editPower,"e_access_flags",t)},expression:"editPower.e_access_flags"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editPower")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("页面")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("权限")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[s("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("权限标识码")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[s("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:a,staticRenderFns:r};t.a=i},QJAv:function(e,t,s){"use strict";var a=s("bOdI"),r=s.n(a),i=s("P9l9"),l=s("s0MJ"),n=s("uJvA");t.a={data:function(){var e,t=function(e,t,s){/^(([a-zA-Z]{2})|([a-zA-Z]{4}))\d{2,4}$/g.test(t)||s(new Error("请输入正确工号（2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)）")),s()};return e={form:{strLevelId:"",strFullName:"",strPartner_id:"",strSecond_channel:"0",strAddr_province_id:"",strAddr_city_id:"",strAddr_area_id:"",strDetailAddress:"",strSale_addr:"",strStatus:"1",strLicense_num:"",strPrefix_str:"",strConnection_info:"",strMonth_sales:"",strChannelPic:"",strScore:"",strValuationId:"2",strPercent:"",strApplyMax:"",strShopAwardId:"0",strPayMethodId:"1",selfFunction:[],strGreen_recycle:"0",strGather_userInfo:"0"},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},channelTemplateList:[],partnerList:[],provinces:n.a.addrList,citys:[],areas:[]},r()(e,"partnerList",[]),r()(e,"saleAdds",{provinces:n.a.addrList,citys:[],areas:[]}),r()(e,"addSaleList",[]),r()(e,"channelUserList",[]),r()(e,"rules",{strAddr_province_id:[{required:!0,message:"请选择省份",trigger:"change"}],strAddr_city_id:[{required:!0,message:"请选择城市",trigger:"change"}],strAddr_area_id:[{required:!0,message:"请选择区域",trigger:"change"}],strDetailAddress:[{required:!0,validator:l.a.validateAddr,trigger:"blur"}],strFullName:[{required:!0,validator:l.a.validateName,trigger:"blur"}],strLicense_num:[{required:!0,validator:l.a.validateLicenseNum,trigger:"blur"}],strPrefix_str:[{required:!0,validator:t,trigger:"blur"}],strPercent:[{required:!0,message:"请填写分成比例",trigger:"blur"}],strApplyMax:[{required:!0,message:"请填写封顶金额",trigger:"blur"}]}),e},watch:{"form.strAddr_province_id":function(e,t){this.form.strAddr_city_id="",this.getCitys(e)},"form.strAddr_city_id":function(e){this.form.strAddr_area_id="",this.getAreas(e)},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],"sale")}},mounted:function(){this.loadInfo()},methods:{submitnow:function(e){var t=this,s=this;for(var a in this.form.selfFunction)"收集用户信息"==this.form.selfFunction[a]&&(this.form.strGather_userInfo="1"),"环保回收"==this.form.selfFunction[a]&&(this.form.strGreen_recycle="1");var r=[];for(var a in this.addSaleList)r.push(this.addSaleList[a].saleId);this.form.strSale_addr=r,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;i.a.addChannelLogic(t.form).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("成功！"),s.$router.push({path:"/channel/index"})})})},loadInfo:function(){var e=this;0==n.a.addrList.length&&i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");n.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address}),i.a.getChannelTemplate({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.channelTemplateList=t.data.channelTemplateList}),i.a.getPartner({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.partnerList=t.data.partnerList}),i.a.getAllS1({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.channelUserList=t.data.listUsers})},getCitys:function(e,t){if("sale"==t){var s=this.saleAdds.provinces;for(var a in s)s[a].strProvinceId==e&&(this.saleAdds.citys=s[a].citys)}else{console.log(this.provinces);for(var a in this.provinces)this.provinces[a].strProvinceId==e&&(this.citys=this.provinces[a].citys)}},getAreas:function(e,t){if("sale"==t){var s=this.saleAdds.citys;for(var a in s)s[a].strCityId==e&&(this.saleAdds.areas=s[a].areas)}else for(var a in this.citys)this.citys[a].strCityId==e&&(this.areas=this.citys[a].areas)},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",a={saleName:e+" / "+t+" / "+s,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==a.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==a.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==a.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");this.addSaleList.push(a)},delSaleAddr:function(e){console.log(e),this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/index"})}}}},QZQF:function(e,t,s){"use strict";function a(e){s("c9TP")}var r=s("koJW"),i=s("Ibmf"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},R2aI:function(e,t,s){"use strict";function a(e){s("pP4U")}var r=s("4WL2"),i=s("cn9f"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},RCq2:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,setIdentity:!1,fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:"",strStatus:"3"},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}]}}},mounted:function(){},methods:{cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e,t){var s=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.ruleForm.strUserName=r.a.Trim(s.ruleForm.strUserName),s.ruleForm.validatestrCardNum=r.a.Trim(s.ruleForm.strCardNum);var l=s.$loading({text:"正在提交",target:"#loading-area"});a.a.addDLogic({duser:s.ruleForm}).then(function(e){if(l.close(),"0"!=e.ret)return void i.$message(e.retinfo);if(s.$message("成功！"),t||s.setIdentity)if(!t&&s.setIdentity){var a=document.querySelector(".el-menu-item.is-active");r.a.removeClass(a,"is-active"),i.$router.push({path:"/D/tree"})}else i.$refs.ruleForm.resetFields(),s.imageUrl1="",s.imageUrl2="",s.imageUrl3="";else i.$router.push({path:"/D/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},SasP:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("门店 / 新增")]),e._v(" "),s("div",{attrs:{id:"Add-store"}},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"渠道商：",prop:"structAid"}},[s("el-select",{attrs:{filterable:"",placeholder:"请输入渠道商名称"},model:{value:e.ruleForm.structAid,callback:function(t){e.$set(e.ruleForm,"structAid",t)},expression:"ruleForm.structAid"}},e._l(e.structA,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+",0"}})}))],1),e._v(" "),e._l(e.tempList,function(t,a){return s("el-form-item",{key:a,attrs:{label:t.RelationName}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelList["model_"+(a+1)],callback:function(t){e.$set(e.modelList,"model_"+(a+1),t)},expression:"modelList['model_'+(index+1)]"}},e._l(t.Relations,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+","+(a+1)}})})),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(s){e.addGroup(t.upStrRelationId,t.upStrLevelId,a)}}},[e._v("新增")])],1)}),e._v(" "),s("el-form-item",{attrs:{label:"门店名称：",prop:"strStoreName"}},[s("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.ruleForm.strStoreName,callback:function(t){e.$set(e.ruleForm,"strStoreName",t)},expression:"ruleForm.strStoreName"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"门店地址："}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.strProvinceId,callback:function(t){e.$set(e.ruleForm,"strProvinceId",t)},expression:"ruleForm.strProvinceId"}},e._l(e.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.strCityId,callback:function(t){e.$set(e.ruleForm,"strCityId",t)},expression:"ruleForm.strCityId"}},e._l(e.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.strAreaId,callback:function(t){e.$set(e.ruleForm,"strAreaId",t)},expression:"ruleForm.strAreaId"}},e._l(e.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"strAddress"}},[s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.strAddress,callback:function(t){e.$set(e.ruleForm,"strAddress",t)},expression:"ruleForm.strAddress"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,a){return s("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticStyle:{display:"none"},attrs:{label:"渠道经理："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择渠道经理"},model:{value:e.strChannelManagerId,callback:function(t){e.strChannelManagerId=t},expression:"strChannelManagerId"}},e._l(e.ChannelManager,function(e){return s("el-option",{key:e.strChannelManagerId,attrs:{label:e.strChannelManagerName,value:e.strChannelManagerId}})}))],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],2)],1),e._v(" "),s("el-dialog",{attrs:{title:"新增门店",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-input",{attrs:{placeholder:"请输入门店名"},model:{value:e.addGroupName,callback:function(t){e.addGroupName=t},expression:"addGroupName"}}),e._v(" "),s("br"),s("br"),e._v(" "),s("div",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.submitAddGroup()}}},[e._v("提交")])],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},T1DS:function(e,t){},T1lO:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"d-detailD"}},[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("D管理 > 详情")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editD(e.strUserId)}}},[e._v("编辑D")])],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号详情"}},[a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[e.ruleForm.baseinfo.strCardPicFront?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicFront}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[e.ruleForm.baseinfo.strCardPicBack?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicBack}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[e.ruleForm.baseinfo.strHeadPic?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("2.数据范围")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.ruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelName",label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                        "+e._s(t.row.strUserName+" / "+t.row.strPhoneNum)+"\n                                    ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.ruleForm.saleareaList,function(t){return a("div",[e._v("\n                                "+e._s(t)+"\n                            ")])})),e._v(" "),a("p",[e._v("3.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[e.ruleForm.accountInfo.strWechatName?a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatName))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[e.ruleForm.accountInfo.strWechatOpenId?a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatOpenId))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"微信头像："}},[e.ruleForm.accountInfo.strWechatHeadPic?a("img",{attrs:{src:e.ruleForm.accountInfo.strWechatHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"负责门店"}},[a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"所属商户"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\n                            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):"5"==t.row.strStatus?a("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"生效时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUpdateTime",label:"截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.storeDetail(t.row.strStoreId)}}},[e._v("详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},"U+EN":function(e,t,s){"use strict";var a=s("pt0B"),r=s("/Xao"),i=r(null,a.a,!1,null,null,null);t.a=i.exports},UjVw:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"menu",function(){return a});var a=function(e){return e.menu}},Vsjs:function(e,t,s){"use strict";function a(e){s("6PZ3")}var r=s("ig3k"),i=s("3Anq"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-9eb7aafe",null);t.a=o.exports},WU3u:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){var e=function(e,t,s){t=r.a.Trim(t);var a=t.gblen();a<1||a>40?s(new Error("请输入40个以内字符")):r.a.checkSpecialWord(t)&&s(new Error("不能包含特殊字符")),s()},t=function(e,t,s){t=r.a.Trim(t);var a=t.gblen();(a<1||a>100)&&s(new Error("请输入100个以内字符")),s()};return{addDialog:!1,editDialog:!1,dataList:[],systemList:[],enableSystemList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_name:""},addModule:{c_system_id:"",c_type:"3",c_desc:"",c_name:""},editModule:{e_authority_id:"",e_system_id:"",e_type:"3",e_desc:"",e_name:""},rules:{c_system_id:[{required:!0,message:"请选择所属系统"}],c_name:[{required:!0,validator:e,trigger:"blur"}],c_desc:[{required:!0,validator:t,trigger:"blur"}],e_system_id:[{required:!0,message:"请选择所属系统"}],e_name:[{required:!0,validator:e,trigger:"blur"}],e_desc:[{required:!0,validator:t,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.currentPage=e,this.showList()},loadInfo:function(){var e=this,t={pageSize:"9999"};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list,e.enableSystemList=e.getEnableList(t.data.list)})},relateFstatus:function(e){for(var t in e)"1"!=e[t].system_status&&(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var s in e)"1"==e[s].status&&t.push(e[s]);return t},setRowspan:function(e){var t=[];for(var s in e){var a=e[s].system_module_list;for(var r in a)t.push(a[r])}return t},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_name:this.searchkeys.s_module_name,pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getModuleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=r.a.combineCell(e.relateFstatus(e.setRowspan(t.data.list))),e.total=Number(t.data.nums)})},setStatus:function(e,t){var s=this;console.log(e,t);var r={e_type:this.editModule.e_type,e_authority_id:e,e_status:"1"==t?"2":"1"};a.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},Add:function(){this.addModule.c_name="",this.addModule.c_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.editModule.e_authority_id=String(t.Fauthority_id),this.editModule.e_name=t.Fname,this.editModule.e_desc=t.Fdesc,this.editModule.e_system_id=t.Fsystem_id,this.editDialog=!0},search:function(){this.searchkeys.s_module_name=r.a.Trim(this.searchkeys.s_module_name),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_name="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.addModule.c_name=r.a.Trim(this.addModule.c_name),this.addModule.c_desc=r.a.Trim(this.addModule.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addAuth(t.addModule).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.editModule.e_name=r.a.Trim(this.editModule.e_name),this.editModule.e_desc=r.a.Trim(this.editModule.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editAuth(t.editModule).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该模块中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该模块中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该模块中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},WiM7:function(e,t,s){"use strict";var a=s("oXBm"),r=s("ESCM"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},XHR6:function(e,t,s){"use strict";var a=s("mvHQ"),r=s.n(a),i=s("P9l9");s("s0MJ");t.a={data:function(){return{dialogTableVisible:!1,list:[],dict:{},roles:[],index:0,searchkey:"",currentFroles:[]}},mounted:function(){this.loadInfo()},methods:{loadInfo:function(){var e=this;i.a.addChannelTemplatePageData({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.roles=t.data;for(var s=e.roles.length-1;s>=0;s--)e.roles[s].strDisplay="","False"==e.roles[s].strSelect?e.roles[s].strSelect=!1:e.roles[s].strSelect=!0;e.addone(),e.dict.strTemplateName="",e.dict.strTemplateDesc=""})},removeTodo:function(e){this.list.splice(e,1)},addone:function(){var e=[];e=this.roles;var t={strTemplateName:"",strLevel:"",showRoles:"",strListRoles:e,strTemplateId:"",strPid:"",strLevelId:"",strLevelName:"",strLevelDesc:"",strUpdateTime:"",strTemplateDesc:"",strStatus:"",strCreateTime:""};this.list.push(t)},setindex:function(e){this.dialogTableVisible=!0,this.index=e,this.currentFroles=this.list[e].strListRoles},setselect:function(){this.list[this.index].strListRoles=this.currentFroles;for(var e="",t=this.list[this.index].strListRoles.length-1;t>=0;t--)this.list[this.index].strListRoles[t].strSelect&&(e=e+this.list[this.index].strListRoles[t].strRoleName+" ");this.list[this.index].showRoles=e,this.dialogTableVisible=!1},cancelnow:function(){window.history.back()},searchrole:function(){for(var e=this.currentFroles.length-1;e>=0;e--){var t=this.searchkey;if(""!=t){var s=this.currentFroles[e].strRoleName;void 0!=s&&(s.indexOf(t)>=0?this.currentFroles[e].strDisplay="":void 0!=(s=this.currentFroles[e].strRoleDesc)&&(s.indexOf(t)>=0?this.currentFroles[e].strDisplay="":this.currentFroles[e].strDisplay="none"))}else this.currentFroles[e].strDisplay=""}},submitnow:function(){var e=this;if(!this.dict.strTemplateName)return void this.$alert("请输入模板名称","提示");if(!this.dict.strTemplateDesc)return void this.$alert("请输入模板描述","提示");if(this.list.length<2)return void this.$alert("层级不正确","提示");for(var t=this.list.length-1;t>=0;t--){if(""==this.list[t].strLevelName)return void this.$alert("请输入层级名称","提示");this.list[t].strLevelName=this.list[t].strLevelName,this.list[t].strLevel=this.list[t].strLevel,this.list[t].strLevelDesc=this.list[t].strLevelDesc,this.list[t].strTemplateDesc=this.dict.strTemplateDesc,this.list[t].strTemplateName=this.dict.strTemplateName,this.list[t].strTemplateId=this.dict.strTemplateId}for(var t=this.list.length-1;t>=0;t--)if(this.list[t].strLevel!=t+1)return void this.$alert("层级不正确","提示");var s={data:r()(this.list)};i.a.addTemplateLogic(s).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.$message("成功！"),e.$router.push({path:"/channel/template"})})}}}},"Xci/":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,setIdentity:!1,fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:"",strStatus:"3",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){},methods:{test:function(e){console.log(e)},cancelnow:function(){this.$router.push({path:"/BD/index"})},submitnow:function(e,t){var s=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.ruleForm.strUserName=r.a.Trim(s.ruleForm.strUserName),s.ruleForm.validatestrCardNum=r.a.Trim(s.ruleForm.strCardNum);var l=s.$loading({text:"正在提交",target:"#loading-area"});a.a.addBDLogic({bduser:s.ruleForm}).then(function(e){if(l.close(),"0"!=e.ret)return void i.$message(e.retinfo);if(s.$message("成功！"),t||s.setIdentity)if(!t&&s.setIdentity){var a=document.querySelector(".el-menu-item.is-active");r.a.removeClass(a,"is-active"),i.$router.push({path:"/BD/tree"})}else i.$refs.ruleForm.resetFields(),s.imageUrl1="",s.imageUrl2="",s.imageUrl3="";else i.$router.push({path:"/BD/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},Xe9z:function(e,t){},XoBJ:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],provinces:[],provinceId:"",pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},init:function(){var e=this;a.a.getProvince().then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.provinces=t.data.provinceList})},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,provinceId:this.provinceId,search:this.filters.searchkey};a.a.getChannelList(t).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.dataList=t.data.channelList,e.total=t.data.nums})},editChannel:function(e){this.$router.push({name:"editChannel",query:{id:e}})},search:function(){this.provinceId=r.a.Trim(this.provinceId),this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.provinceId="",this.filters.searchkey="",this.showList()}},mounted:function(){this.init(),this.showList()}}},Xzqt:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("Dealer列表")]),e._v(" "),s("el-form",{ref:"filters",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.filters}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:3}},[s("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strStatus"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filters.strStatus,callback:function(t){e.$set(e.filters,"strStatus",t)},expression:"filters.strStatus"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),s("el-option",{attrs:{label:"待审核",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"资料不全",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"合作中",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"暂停合作",value:"4"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("公司全称：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strDealerName"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入公司全称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strDealerName,callback:function(t){e.$set(e.filters,"strDealerName",t)},expression:"filters.strDealerName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("D4姓名：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strUserName"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入D4姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strUserName,callback:function(t){e.$set(e.filters,"strUserName",t)},expression:"filters.strUserName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("p",{staticClass:"searchTitle"},[e._v("地址区域：")]),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strAddrProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.filters.strAddrProvinceId,callback:function(t){e.$set(e.filters,"strAddrProvinceId",t)},expression:"filters.strAddrProvinceId"}},e._l(e.searchAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strAddrCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.filters.strAddrCityId,callback:function(t){e.$set(e.filters,"strAddrCityId",t)},expression:"filters.strAddrCityId"}},e._l(e.searchAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"strAddrAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.filters.strAddrAreaId,callback:function(t){e.$set(e.filters,"strAddrAreaId",t)},expression:"filters.strAddrAreaId"}},e._l(e.searchAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("filters")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建Dealer")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strDealerId",label:"ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strDealerName",label:"公司全称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strDealerName",label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName)+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strUserName",label:"D4"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strContractEndTime",label:"合同结束时间"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?s("span",[e._v("待审核")]):"2"==t.row.strStatus?s("span",[e._v("资料不全")]):"3"==t.row.strStatus?s("span",[e._v("合作中")]):"4"==t.row.strStatus?s("span",[e._v("暂停合作")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.detailDealer(t.row.strDealerId)}}},[e._v("详情")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.editDealer(t.row.strDealerId)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.relateD4(t.row.strDealerId,t.row.strUserName)}}},[e._v("关联D4")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},"Y+jq":function(e,t,s){"use strict";var a=s("wcE2"),r=s("OOVi"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},"YG/g":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],statusList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{strLevelCode:[],strStatus:"",strDUserName:"",strPhoneNum:"",strCardNum:""}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},addPrefix:function(e){var t=8-e.length,s="d";if(t>0){for(var a=0;a<t;a++)s+="0";return s+e}return e},loadInfo:function(){var e=this;a.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list})},showList:function(){var e=this;this.searchkeys.strDUserName=r.a.Trim(this.searchkeys.strDUserName),this.searchkeys.strPhoneNum=r.a.Trim(this.searchkeys.strPhoneNum),this.searchkeys.strCardNum=r.a.Trim(this.searchkeys.strCardNum);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.searchkeys};a.a.getDList(t).then(function(t){var s=e;if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data.list;a.forEach(function(e,t,a){e.strPrefixUserId=s.addPrefix(e.strUserId)}),e.dataList=a,e.total=Number(t.data.nums)})},detailD:function(e){this.$router.push({name:"detailD",query:{id:e}})},editD:function(e){this.$router.push({name:"editD",query:{id:e}})},addNext:function(e){this.$router.push({name:"DAddNext",query:{id:e}})},search:function(){this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.$refs.searchkeys.resetFields(),this.showList()}}}},YaEn:function(e,t,s){"use strict";var a=s("7+uW"),r=s("/ocq"),i=s("lO7g"),l=s("dAjm"),n=s("eVXz"),o=s("JvIh"),d=s("2qbl"),c=s("WiM7"),u=s("k6oP"),m=s("Eulr"),h=s("8OQP"),p=s("tduD"),v=s("kkAG"),_=s("R2aI"),f=s("eC/S"),g=s("xfJu"),b=s("Pw3e"),y=s("Y+jq"),I=s("JrA+"),C=s("kLPy"),A=s("lsOu"),S=s("HWTd"),k=s("3AN7"),N=s("+bRA"),x=s("Gts9"),L=s("BCJo"),F=s("+rKZ"),w=s("ndXk"),D=s("HuWt"),P=s("Aawm"),R=s("ewUM"),$=s("OU3Z"),U=s("eGbL"),T=s("sOY0"),E=s("YiIk"),z=s("KOTb"),B=s("QZQF"),M=s("1L7g"),q=s("fgq7"),O=s("ccU6"),j=s("U+EN"),H=s("Vsjs"),G=s("HxPG"),J=function(e){return s.e(0).then(function(){var t=[s("xJsL")];e.apply(null,t)}.bind(this)).catch(s.oe)};a.default.use(r.a);var X=new r.a({routes:[{path:"/login",name:"登录",component:J},{path:"/",name:"home",component:i.a,redirect:"/index",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home_fill_light",children:[{path:"/index",component:l.a,name:"首页",menuShow:!0}]},{path:"/",component:i.a,name:"渠道关系管理",menuShow:!0,iconCls:"iconfont icon-friend_light",children:[{path:"/channel/index",component:n.a,name:"渠道商管理",menuShow:!0},{path:"/channel/add_channel",component:o.a},{path:"/channel/edit_channel",component:d.a,name:"editChannel"},{path:"/channel/store",component:c.a,name:"门店管理",menuShow:!0},{path:"/channel/add_store",component:u.a},{path:"/channel/edit_store",component:m.a,name:"editStore"},{path:"/channel/employee",component:h.a,name:"工号管理",menuShow:!0},{path:"/channel/add_employee",component:p.a},{path:"/channel/edit_employee",component:v.a,name:"editEmployee"},{path:"/channel/template",component:_.a,name:"渠道模板管理",menuShow:!0},{path:"/channel/add_template",component:f.a,name:"新增渠道模板"},{path:"/channel/edit_template",component:g.a,name:"editTemplate"}]},{path:"/",component:i.a,name:"D管理",menuShow:!0,iconCls:"iconfont icon-people",children:[{path:"/Dealer/index",component:$.a,name:"Dealer列表",menuShow:!0},{path:"/Dealer/add",component:U.a,name:"新增Dealer"},{path:"/Dealer/DealerDetail",component:z.a,name:"detailDealer"},{path:"/Dealer/editDealer",component:T.a,name:"editDealer"},{path:"/Dealer/relateD4",component:E.a,name:"relateD4"},{path:"/D/index",component:L.a,name:"D列表",menuShow:!0},{path:"/D/tree",component:R.a,name:"D tree管理",menuShow:!0},{path:"/D/add",component:F.a,name:"新增D"},{path:"/D/d_addNext",component:D.a,name:"DAddNext"},{path:"/D/detailD",component:P.a,name:"detailD"},{path:"/D/editD",component:w.a,name:"editD"}]},{path:"/",component:i.a,name:"BD管理",menuShow:!0,iconCls:"iconfont icon-peoplefill",children:[{path:"/BD/index",component:B.a,name:"BD列表",menuShow:!0},{path:"/BD/tree",component:G.a,name:"BD tree管理",menuShow:!0},{path:"/BD/add",component:M.a,name:"新增BD"},{path:"/BD/adds",component:q.a,name:"批量新增BD"},{path:"/BD/addNext",component:j.a,name:"BDAddNext"},{path:"/BD/detail",component:H.a,name:"detailBD"},{path:"/BD/edit",component:O.a,name:"editBD"}]},{path:"/",component:i.a,name:"权限中心",menuShow:!0,iconCls:"iconfont icon-unlock",children:[{path:"/power/system",component:b.a,name:"系统管理",menuShow:!0},{path:"/power/index",component:C.a,name:"权限管理",menuShow:!0},{path:"/power/module",component:I.a,name:"模块管理"},{path:"/power/page",component:y.a,name:"页面管理"},{path:"/power/add",component:A.a,name:"新增权限"},{path:"/power/user",component:S.a,name:"角色管理",menuShow:!0},{path:"/power/category",component:k.a,name:"分类管理"},{path:"/power/setPower",component:N.a,name:"setPower"},{path:"/power/record",component:x.a,name:"操作日志",menuShow:!0}]}]});t.a=X},Yaep:function(e,t,s){"use strict";var a=s("P9l9");s("s0MJ");t.a={data:function(){return{ifD4:!0,D4Name:"",D4Tel:"",Dlist:[],ruleForm:{did:"",dealerid:""},rules:{did:[{required:!0,message:"请选择D4",trigger:"change"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.dealerid=this.$route.query.id,this.ifD4=this.$route.query.ifD4},loadInfo:function(){var e=this;a.a.getWillRelateD4({dealerid:this.ruleForm.dealerid}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data;console.log(s.currentD4),s.currentD4.strUserId?(e.D4Name=s.currentD4.strUserName,e.D4Tel=s.currentD4.strPhoneNum):(e.Dlist=s.listD4.concat(s.listD),e.ifD4=!1)})},submitnow:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.relateD4(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),s.$router.push({path:"/Dealer/index"})})})}}}},YiIk:function(e,t,s){"use strict";function a(e){s("IugK")}var r=s("Yaep"),i=s("Nely"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-5fbfd75a",null);t.a=o.exports},Yzag:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("角色管理")]),e._v(" "),s("div",{staticStyle:{overflow:"hidden"}},[s("div",{staticClass:"searchItem"},[s("span",{staticClass:"searchTitle"},[e._v("分类：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.cateId,callback:function(t){e.$set(e.searchkeys,"cateId",t)},expression:"searchkeys.cateId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.cateRoleList,function(e){return s("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:e.Fcate_id}})})],2)],1),e._v(" "),s("div",{staticClass:"searchItem"},[s("span",{staticClass:"searchTitle"},[e._v("角色：")]),e._v(" "),s("el-input",{attrs:{maxlength:20,placeholder:"请输入角色名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.roleName,callback:function(t){e.$set(e.searchkeys,"roleName",t)},expression:"searchkeys.roleName"}})],1),e._v(" "),s("div",{staticClass:"goSearch"},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)]),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"category"}},[s("el-button",{attrs:{size:"small"}},[e._v("分类管理")])],1),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addRole()}}},[e._v("创建角色")])],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"Frole_id",label:"ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Fname",label:"角色名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Fdesc",label:"角色描述"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Fcate_name",label:"所属分类"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.upStatus?s("span",[e._v("禁用"),s("br"),s("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.row.Fstatus?s("span",[e._v("启用")]):s("span",[e._v("禁用")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.Fstatus?s("div",[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.setPower(t.row.Frole_id)}}},[e._v("设置权限")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.Frole_id,t.row.Fstatus)}}},[e._v("禁用")])],1):s("div",[s("el-button",{attrs:{type:"primary",disabled:t.row.upStatus,size:"small"},on:{click:function(s){e.setStatusConfirm(t.row.Frole_id,t.row.Fstatus)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[s("el-form",{ref:"handelAddRole",attrs:{model:e.handelAddRole,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属分类：",filterable:"",prop:"c_cate_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.handelAddRole.c_cate_id,callback:function(t){e.$set(e.handelAddRole,"c_cate_id",t)},expression:"handelAddRole.c_cate_id"}},e._l(e.enableCateRoleList,function(e){return s("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:String(e.Fcate_id)}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"角色名称：",prop:"c_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入角色名称"},model:{value:e.handelAddRole.c_name,callback:function(t){e.$set(e.handelAddRole,"c_name",t)},expression:"handelAddRole.c_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入角色描述"},model:{value:e.handelAddRole.c_desc,callback:function(t){e.$set(e.handelAddRole,"c_desc",t)},expression:"handelAddRole.c_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddRole")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[s("el-form",{ref:"handelEditRole",attrs:{model:e.handelEditRole,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属分类：",filterable:"",prop:"e_cate_id"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.handelEditRole.e_cate_id,callback:function(t){e.$set(e.handelEditRole,"e_cate_id",t)},expression:"handelEditRole.e_cate_id"}},e._l(e.enableCateRoleList,function(e){return s("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:String(e.Fcate_id)}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"角色名称：",prop:"e_name"}},[s("el-input",{attrs:{maxlength:40,placeholder:"请输入角色名称"},model:{value:e.handelEditRole.e_name,callback:function(t){e.$set(e.handelEditRole,"e_name",t)},expression:"handelEditRole.e_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[s("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入角色描述"},model:{value:e.handelEditRole.e_desc,callback:function(t){e.$set(e.handelEditRole,"e_desc",t)},expression:"handelEditRole.e_desc"}})],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditRole")}}},[e._v("确认")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},ZUOT:function(e,t){},ZWlx:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,fileName:"fileName",number:"number",statusList:"",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strStatus:"",strUserId:"",strEmail:"",strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.strUserId=this.$route.query.id},loadInfo:function(){var e=this;a.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}).then(function(t){e.getDefaultDate()})},cancelnow:function(){this.$router.push({path:"/D/index"})},getDefaultDate:function(e){var t=this;a.a.getBDInfo({strUserId:this.ruleForm.strUserId}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var s=e.baseinfo;t.ruleForm.strUserName=s.strUserName,t.ruleForm.strPhoneNum=s.strPhoneNum,t.ruleForm.strCardNum=s.strCardNum,t.ruleForm.strEmail=s.strEmail,t.ruleForm.strStatus=s.strStatusId,t.ruleForm.strCardPicFront=s.strCardPicFront,t.ruleForm.strCardPicBack=s.strCardPicBack,t.ruleForm.strHeadPic=s.strHeadPic,t.imageUrl1=s.strCardPicFront?t.apiRoot+"/static/upload/"+s.strCardPicFront:"",t.imageUrl2=s.strCardPicBack?t.apiRoot+"/static/upload/"+s.strCardPicBack:"",t.imageUrl3=s.strHeadPic?t.apiRoot+"/static/upload/"+s.strHeadPic:""})},submitnow:function(e,t){var s=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editBDLogic({bduser:s.ruleForm}).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);s.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/BD/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},aQMx:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ"),i=s("uJvA");t.a={data:function(){return{searchAddr:{provinces:i.a.addrList},dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{strStatus:"",strDealerName:"",strUserName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:""}}},watch:{"filters.strAddrProvinceId":function(e,t){this.filters.strAddrCityId="",r.a.getCitys(e,this.searchAddr)},"filters.strAddrCityId":function(e){this.filters.strAddrAreaId="",r.a.getAreas(e,this.searchAddr)}},mounted:function(){this.showList(),this.searchInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},changeEndTime:function(e){var t=e.split(" "),s=t[0]+"T"+t[1]+".000Z";return r.a.formatDate.format(s,"yy-MM-dd")},showList:function(){var e=this;this.filters.strDealerName=r.a.Trim(this.filters.strDealerName),this.filters.strUserName=r.a.Trim(this.filters.strUserName);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters};a.a.getDealerList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data.list;for(var a in s)s[a].strContractEndTime=e.changeEndTime(s[a].strContractEndTime);e.dataList=s,e.total=Number(t.data.nums)})},searchInfo:function(){var e=this;0==i.a.addrList.length&&a.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");i.a.addrList=t.data.address,e.searchAddr.provinces=t.data.address})},detailDealer:function(e){this.$router.push({name:"detailDealer",query:{id:e}})},editDealer:function(e){this.$router.push({name:"editDealer",query:{id:e}})},relateD4:function(e,t){var s=!!t;this.$router.push({name:"relateD4",query:{id:e,ifD4:s}})},search:function(){this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.$refs.filters.resetFields(),this.showList()}}}},aXbz:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("el-col",{attrs:{span:12}},[e._v("Dealer管理 > 编辑")]),e._v(" "),s("el-col",{staticClass:"textRight",attrs:{span:12}},[s("router-link",{attrs:{to:"index"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1)],1),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[s("p",[e._v("1.基本信息")]),e._v(" "),s("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[s("el-input",{attrs:{placeholder:"请输入公司全称"},model:{value:e.ruleForm.dealer.strDealerName,callback:function(t){e.$set(e.ruleForm.dealer,"strDealerName",t)},expression:"ruleForm.dealer.strDealerName"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"公司地址："}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrProvinceId",t)},expression:"ruleForm.dealer.strAddrProvinceId"}},e._l(e.dealer.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrCityId",t)},expression:"ruleForm.dealer.strAddrCityId"}},e._l(e.dealer.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.strAddrAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrAreaId",t)},expression:"ruleForm.dealer.strAddrAreaId"}},e._l(e.dealer.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"dealer.strAddress"}},[s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.dealer.strAddress,callback:function(t){e.$set(e.ruleForm.dealer,"strAddress",t)},expression:"ruleForm.dealer.strAddress"}})],1),e._v(" "),s("el-form-item",{attrs:{type:"number",label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[s("el-input",{attrs:{disabled:"",maxlength:18,placeholder:"请输入15或18位营业执照号"},model:{value:e.ruleForm.dealer.strLicenseNum,callback:function(t){e.$set(e.ruleForm.dealer,"strLicenseNum",t)},expression:"ruleForm.dealer.strLicenseNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"三证照片："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("p",[e._v("2.收款信息")]),e._v(" "),s("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[s("el-input",{attrs:{type:e.number,maxlength:30,placeholder:"请输入10~30位银行卡号"},model:{value:e.ruleForm.dealer.account_bank.strAccountNum,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountNum",t)},expression:"ruleForm.dealer.account_bank.strAccountNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[s("el-input",{attrs:{placeholder:"请输入开户名"},model:{value:e.ruleForm.dealer.account_bank.strAccountName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountName",t)},expression:"ruleForm.dealer.account_bank.strAccountName"}})],1),e._v(" "),s("el-form-item",{staticClass:"mustStar",attrs:{label:"开户地址："}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrProvinceId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.account_bank.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrProvinceId",t)},expression:"ruleForm.dealer.account_bank.strAddrProvinceId"}},e._l(e.bankAddr.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrCityId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.account_bank.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrCityId",t)},expression:"ruleForm.dealer.account_bank.strAddrCityId"}},e._l(e.bankAddr.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrAreaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.account_bank.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrAreaId",t)},expression:"ruleForm.dealer.account_bank.strAddrAreaId"}},e._l(e.bankAddr.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.ruleForm.dealer.account_bank.strBankId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBankId",t)},expression:"ruleForm.dealer.account_bank.strBankId"}},e._l(e.bankList,function(e){return s("el-option",{key:e.strId,attrs:{label:e.strName,value:e.strId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[s("el-input",{attrs:{placeholder:"请输入支行名称："},model:{value:e.ruleForm.dealer.account_bank.strBranchName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBranchName",t)},expression:"ruleForm.dealer.account_bank.strBranchName"}})],1),e._v(" "),s("p",[e._v("3.合作信息")]),e._v(" "),s("el-form-item",{attrs:{label:"合同有效时间：",prop:"dateRange"}},[s("div",{staticClass:"block"},[s("el-date-picker",{attrs:{"default-value":e.ruleForm.dateRange,format:"yyyy.MM.dd","range-separator":" ~ ",type:"daterange",clearable:!1,placeholder:"选择日期范围"},model:{value:e.ruleForm.dateRange,callback:function(t){e.$set(e.ruleForm,"dateRange",t)},expression:"ruleForm.dateRange"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"合作协议照片："}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),s("p",[e._v("4.合作状态")]),e._v(" "),s("el-form-item",{attrs:{label:"状态：",prop:"dealer.account_bank.strBankId"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.dealer.strStatus,callback:function(t){e.$set(e.ruleForm.dealer,"strStatus",t)},expression:"ruleForm.dealer.strStatus"}},e._l(e.statusList,function(e){return s("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},bN1W:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],cateRoleList:[],enableCateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddRole:{c_cate_id:"",c_name:"",c_desc:"",c_status:"1"},handelEditRole:{e_name:"",e_desc:"",e_status:"1",e_role_id:"",e_cate_id:""},rules:{c_cate_id:[{required:!0,message:"请选择所属分类"}],c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_cate_id:[{required:!0,message:"请选择所属分类"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.currentPage=e,this.showList()},relateFstatus:function(e){for(var t in e)"1"!=e[t].cr_status&&(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var s in e)"1"==e[s].Fstatus&&t.push(e[s]);return t},loadInfo:function(){var e=this,t={pageSize:"9999"};a.a.getCateRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.cateRoleList=t.data.list,e.enableCateRoleList=e.getEnableList(t.data.list)})},showList:function(){var e=this;this.searchkeys.roleName=r.a.Trim(this.searchkeys.roleName);var t={s_cate_id:this.searchkeys.cateId,s_role_name:this.searchkeys.roleName,pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=e.relateFstatus(t.data.list),e.total=Number(t.data.nums)})},setStatus:function(e,t){var s=this,r={s_role_id:e,s_status:"1"==t?"2":"1"};a.a.changeRoleStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},addRole:function(){this.handelAddRole.c_name="",this.handelAddRole.c_desc="",this.handelAddRole.c_role_id="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditRole.e_cate_id=String(t.Fcate_id),this.handelEditRole.e_name=t.Fname,this.handelEditRole.e_desc=t.Fdesc,this.handelEditRole.e_role_id=t.Frole_id,this.editDialog=!0},setPower:function(e){this.$router.push({name:"setPower",query:{id:e}})},search:function(){this.pageIndex="0",this.searchkeys.roleName=r.a.Trim(this.searchkeys.roleName),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.searchkeys.cateId="",this.searchkeys.roleName="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddRole.c_name=r.a.Trim(this.handelAddRole.c_name),this.handelAddRole.c_desc=r.a.Trim(this.handelAddRole.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addRole(t.handelAddRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditRole.e_name=r.a.Trim(this.handelEditRole.e_name),this.handelEditRole.e_desc=r.a.Trim(this.handelEditRole.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editRole(t.handelEditRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该角色无法登录相关应用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该角色将恢复使用请谨慎操作！"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},"bTE+":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("门店 / 编辑")]),e._v(" "),s("div",{attrs:{id:"Edit-store"}},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"POS信息"}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"渠道商："}},[s("el-select",{attrs:{filterable:"",placeholder:"请输入渠道商名称"},model:{value:e.structAid,callback:function(t){e.structAid=t},expression:"structAid"}},e._l(e.structA,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+",0"}})}))],1),e._v(" "),e._l(e.tempList,function(t,a){return s("el-form-item",{key:a,attrs:{label:t.RelationName}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelList["model_"+(a+1)],callback:function(t){e.$set(e.modelList,"model_"+(a+1),t)},expression:"modelList['model_'+(index+1)]"}},e._l(t.Relations,function(e){return s("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+","+(a+1)}})})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.addGroup(t.upStrRelationId,t.upStrLevelId,a)}}},[e._v("新增")])],1)}),e._v(" "),s("el-form-item",{attrs:{label:"门店名称："}},[s("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.strStoreName,callback:function(t){e.strStoreName=t},expression:"strStoreName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"门店地址："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.strProvinceId,callback:function(t){e.strProvinceId=t},expression:"strProvinceId"}},e._l(e.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})})),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.strCityId,callback:function(t){e.strCityId=t},expression:"strCityId"}},e._l(e.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})})),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.strAreaId,callback:function(t){e.strAreaId=t},expression:"strAreaId"}},e._l(e.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})})),e._v(" "),s("br"),s("br"),e._v(" "),s("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.strAddress,callback:function(t){e.strAddress=t},expression:"strAddress"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"销售区域："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return s("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return s("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return s("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),s("div",[s("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),s("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,a){return s("div",{staticClass:"hjx-overflow",attrs:{"v:key":"index"}},[s("el-col",{attrs:{span:18}},[s("span",[e._v(e._s(t.saleName))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(a)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),s("el-form-item",{staticStyle:{display:"none"},attrs:{label:"渠道经理："}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择渠道经理"},model:{value:e.strChannelManagerId,callback:function(t){e.strChannelManagerId=t},expression:"strChannelManagerId"}},e._l(e.ChannelManager,function(e){return s("el-option",{key:e.strChannelManagerId,attrs:{label:e.strChannelManagerName,value:e.strChannelManagerId}})}))],1),e._v(" "),s("el-form-item",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("确认更新")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],2)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"S1列表"}},[s("br"),e._v(" "),s("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联S1：")]),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s1_btn()}}},[e._v("添加")]),e._v(" "),s("br"),s("br"),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_s1_list.length,expression:"get_store_s1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联S1，请点击上方按钮添加S1")]),e._v(" "),e._l(e.get_store_s1_list,function(t,a){return s("p",{staticClass:"add-people-item"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strUserTel))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_s1(a)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),s("el-tab-pane",{attrs:{label:"S2列表"}},[s("br"),e._v(" "),s("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联S2：")]),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s2_btn()}}},[e._v("添加")]),e._v(" "),s("br"),s("br"),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_s2_list.length,expression:"get_store_s2_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联S2，请点击上方按钮添加S2")]),e._v(" "),e._l(e.get_store_s2_list,function(t,a){return s("p",{staticClass:"add-people-item"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strUserTel))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_s2(a)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),s("el-tab-pane",{attrs:{label:"D1列表"}},[s("br"),e._v(" "),s("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联D1：")]),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_d1_btn()}}},[e._v("添加")]),e._v(" "),s("br"),s("br"),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_d1_list.length,expression:"get_store_d1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联D1，请点击上方按钮添加D1")]),e._v(" "),e._l(e.get_store_d1_list,function(t,a){return s("p",{staticClass:"add-people-item"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strPhoneNum))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_d1(a)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),s("el-tab-pane",{attrs:{label:"BD1列表"}},[s("br"),e._v(" "),s("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联BD1：")]),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_bd1_btn()}}},[e._v("添加")]),e._v(" "),s("br"),s("br"),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_bd1_list.length,expression:"get_store_bd1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联BD1，请点击上方按钮添加BD1")]),e._v(" "),e._l(e.get_store_bd1_list,function(t,a){return s("p",{staticClass:"add-people-item"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strPhoneNum))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_bd1(a)}}},[e._v(" 删除此项")])],1)],1)})],2)],1),e._v(" "),s("el-dialog",{attrs:{title:"关联S1",visible:e.SList.showS1},on:{"update:visible":function(t){e.$set(e.SList,"showS1",t)}}},[s("div",{staticClass:"content"},[[s("el-select",{attrs:{filterable:"",placeholder:"请选择S1"},model:{value:e.choose_s1_id,callback:function(t){e.choose_s1_id=t},expression:"choose_s1_id"}},e._l(e.choose_s1_list,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserName+"/"+e.strUserTel+","+e.strUserId}})}))],e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s1_list()}}},[e._v("添加")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addS1List.length,expression:"addS1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联S1")]),e._v(" "),s("div",{staticClass:"people-container"},e._l(e.addS1List,function(t,a){return s("p",[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_s1(a)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_S1("add")}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showS1=!1}}},[e._v("取消")])],2)]),e._v(" "),s("el-dialog",{attrs:{title:"关联S2",visible:e.SList.showS2},on:{"update:visible":function(t){e.$set(e.SList,"showS2",t)}}},[s("div",{staticClass:"content"},[[s("el-select",{attrs:{filterable:"",placeholder:"请选择S2"},model:{value:e.choose_s2_id,callback:function(t){e.choose_s2_id=t},expression:"choose_s2_id"}},e._l(e.choose_s2_list,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserName+"/"+e.strUserTel+","+e.strUserId}})}))],e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s2_list()}}},[e._v("添加")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addS2List.length,expression:"addS2List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联S2")]),e._v(" "),s("div",{staticClass:"people-container"},e._l(e.addS2List,function(t,a){return s("p",[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_s2(a)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_S2("add")}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showS2=!1}}},[e._v("取消")])],2)]),e._v(" "),s("el-dialog",{attrs:{title:"关联D1",visible:e.SList.showD1},on:{"update:visible":function(t){e.$set(e.SList,"showD1",t)}}},[s("div",{staticClass:"content"},[[s("el-select",{attrs:{filterable:"",placeholder:"请选择D1"},model:{value:e.choose_d1_id,callback:function(t){e.choose_d1_id=t},expression:"choose_d1_id"}},e._l(e.choose_d1_list,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strPhoneNum,value:e.strUserName+"/"+e.strPhoneNum+","+e.strUserId}})}))],e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_d1_list()}}},[e._v("添加")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addD1List.length,expression:"addD1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联D1")]),e._v(" "),s("div",{staticClass:"people-container"},e._l(e.addD1List,function(t,a){return s("p",{staticClass:"haveRelated"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_d1(a)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_D1("add")}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showD1=!1}}},[e._v("取消")])],2)]),e._v(" "),s("el-dialog",{attrs:{title:"关联BD1",visible:e.SList.showBD1},on:{"update:visible":function(t){e.$set(e.SList,"showBD1",t)}}},[s("div",{staticClass:"content"},[[s("el-select",{attrs:{filterable:"",placeholder:"请选择BD1"},model:{value:e.choose_bd1_id,callback:function(t){e.choose_bd1_id=t},expression:"choose_bd1_id"}},e._l(e.choose_bd1_list,function(e){return s("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strPhoneNum,value:e.strUserName+"/"+e.strPhoneNum+","+e.strUserId}})}))],e._v(" "),s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_bd1_list()}}},[e._v("添加")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addBD1List.length,expression:"addBD1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联BD1")]),e._v(" "),s("div",{staticClass:"people-container"},e._l(e.addBD1List,function(t,a){return s("p",{staticClass:"haveRelated"},[s("el-col",{attrs:{span:18}},[s("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),s("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_bd1(a)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_BD1("add")}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showBD1=!1}}},[e._v("取消")])],2)])],1),e._v(" "),s("el-dialog",{attrs:{title:"新增门店",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-input",{attrs:{placeholder:"请输入门店名"},model:{value:e.addGroupName,callback:function(t){e.addGroupName=t},expression:"addGroupName"}}),e._v(" "),s("br"),s("br"),e._v(" "),s("div",{staticClass:"textRight"},[s("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.submitAddGroup()}}},[e._v("提交")])],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},bUxT:function(e,t){},"c+Ys":function(e,t,s){e.exports=s.p+"other/channelCenter/img/sunshine.8127ccc.png"},c9TP:function(e,t){},cVes:function(e,t){},ccU6:function(e,t,s){"use strict";function a(e){s("C9IG")}var r=s("ZWlx"),i=s("0+7Z"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},cn9f:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("渠道商 / 模板列表")]),e._v(" "),s("el-form",{attrs:{inline:!0,model:e.filters}},[s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按ID/名称搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add_template"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strTemplateId",label:"模板ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strTemplateName",label:"模板名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strTemplateDesc",label:"模板描述"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strCreateTime",label:"创建日期"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strStatus",label:"合作状态"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.edit(t.row.strTemplateId)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.delchnn(t.row.strTemplateId)}}},[e._v("禁用")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.upchnn(t.row.strTemplateId)}}},[e._v("启用")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},dAjm:function(e,t,s){"use strict";function a(e){s("ea0T")}var r=s("gHG9"),i=s("Mleu"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-5d8bf15d",null);t.a=o.exports},dENg:function(e,t){},dQWd:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ"),i=s("uJvA");t.a={data:function(){return{icon:"",searchNode:"",searchResult:[],searchResultLength:0,searchResultIndex:0,showNext:!1,maxLevel:4,currentKey:"",defaultExpand:[],defaultChecked:"",showAddNext:!0,showRightInfo:!1,relationIdFn:"",userIdFn:"",saleAddrFn:"",BD4List:[],level:{1:"BD4",2:"BD3",3:"BD2",4:"BD1"},number:"number",statusId:"1",strRelationId:"",treeList:[],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},defaultProps:{children:"subList",label:function(e,t){return e.strLevelName+" "+e.strUserName+" / "+e.strPhoneNum}},replaceNodeForm:{replaceNodeList:[],addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:"BD3"},replaceNodeList:[],replaceNodeAddr:{provinces:i.a.addrList,citys:[],areas:[]},delNode:{showDelNodeModel:!1,info:""},AddNextForm:{addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:""},AddNextList:[],AddNextSaleAddr:{provinces:i.a.addrList,citys:[],areas:[]},rules:{}}},watch:{strRelationId:function(e,t){this.delNode.showDelNodeModel=!1,this.showRightInfo=!1,e&&this.getTree(e)},"replaceNodeForm.saleAddsId.strSaleProvinceId":function(e,t){this.replaceNodeForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.replaceNodeAddr)},"replaceNodeForm.saleAddsId.strSaleCityId":function(e){this.replaceNodeForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.replaceNodeAddr)},"AddNextForm.saleAddsId.strSaleProvinceId":function(e,t){this.AddNextForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.AddNextSaleAddr)},"AddNextForm.saleAddsId.strSaleCityId":function(e){this.AddNextForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.AddNextSaleAddr)},relationIdFn:function(e){e&&(this.getAddNextBDList(e),this.getReplaceBDxList(e))}},mounted:function(){this.index(),this.getBD4List()},methods:{index:function(){var e=this;0==i.a.addrList.length&&a.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");i.a.addrList=t.data.address,e.AddNextSaleAddr.provinces=t.data.address,e.replaceNodeAddr.provinces=t.data.address})},getBD4List:function(){var e=this;a.a.getBD4List({strBDType:"BD4"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.BD4List=t.bdxlist})},reloadList:function(e){this.getTree(this.strRelationId),this.relationIdFn="",this.replaceNodeForm.strUserId="",this.AddNextForm.strUserId="",this.showRightInfo=!1,e&&this.getBD4List()},getTree:function(e){var t=this;this.delNode.showDelNodeModel=!1,a.a.getBD4Tree({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.treeList=[],t.treeList.push(e.bdtree)})},handleIconClick:function(){function e(s){for(var a in s)-1==s[a].strUserName.search(t.searchNode)&&-1==s[a].strPhoneNum.search(t.searchNode)||t.searchResult.push(s[a].strRelationId),s[a].subList&&e(s[a].subList)}if(this.showNext=!1,this.searchNode=r.a.Trim(this.searchNode),!this.searchNode)return void this.$message("请输入姓名或手机号搜索");var t=this;if(this.searchResult=[],this.defaultExpand=[],this.defaultChecked="",this.searchResultIndex=0,this.searchResultLength=0,e(this.treeList),this.searchResultLength=this.searchResult.length,0==this.searchResultLength)return void this.$message("无结果");this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0],setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0),this.showNext=!0},getNext:function(){++this.searchResultIndex==this.searchResultLength?(this.searchResultIndex=0,this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0]):(this.defaultExpand=[this.searchResult[this.searchResultIndex]],this.defaultChecked=this.searchResult[this.searchResultIndex]),setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0)},handleNodeClick:function(e,t){this.replaceNodeForm.level=this.level[t.level],t.level<this.maxLevel?(this.showAddNext=!0,this.AddNextForm.level=this.level[Number(t.level)+1]):this.showAddNext=!1,this.showRightInfo=!0,this.relationIdFn=e.strRelationId,this.userIdFn=e.strUserId,this.saleAddrFn=e.saleAddrList,e.subList?(this.defaultExpand=[e.strRelationId],this.delNode.showDelNodeModel=!1):(this.defaultExpand=[t.parent.data.strRelationId],this.delNode.showDelNodeModel=!0,this.delNode.info=e.strUserName+" / "+e.strPhoneNum)},getReplaceBDxList:function(e){var t=this;a.a.getReplaceBDxList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");if(t.replaceNodeForm.replaceNodeList=e.dlist,t.replaceNodeForm.strUserId=t.userIdFn,0!=t.saleAddrFn.length){t.replaceNodeForm.addSaleList=[];for(var s in t.saleAddrFn){var a=t.saleAddrFn[s];a.strProvinceName||(a.strProvinceName="全部"),a.strCityName||(a.strCityName="全部"),a.strAreaName||(a.strAreaName="全部"),t.replaceNodeForm.addSaleList.push({saleName:a.strProvinceName+" "+a.strCityName+" "+a.strAreaName,saleId:{addr_province_id:a.strProvinceId,addr_city_id:a.strCityId,addr_area_id:a.strAreaId}})}}})},delThisNode:function(e){var t=this,s=this.$loading({text:"正在删除",target:"#loading-area"});a.a.delBDLeafNode({strRelationId:e}).then(function(e){if(s.close(),"0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("成功"),"BD4"==t.replaceNodeForm.level?(t.treeList=[],t.strRelationId="",t.relationIdFn="",t.replaceNodeForm.strUserId="",t.AddNextForm.strUserId="",t.showRightInfo=!1,t.getBD4List()):t.reloadList()})},getAddNextBDList:function(e){var t=this;a.a.getAddNextBDList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.AddNextList=e.dlist})},getCitys:function(e,t){var s=t.provinces;for(var a in s)s[a].strProvinceId==e&&(t.citys=s[a].citys)},getAreas:function(e,t){var s=t.citys;for(var a in s)s[a].strCityId==e&&(t.areas=s[a].areas)},addSaleAddr:function(e){var t=e.saleAddsId.strSaleProvinceId.split(",")[1]?e.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",s=e.saleAddsId.strSaleCityId.split(",")[1]?e.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=e.saleAddsId.strSaleAreaId.split(",")[1]?e.saleAddsId.strSaleAreaId.split(",")[1]:"全部",r={saleName:t+" "+s+" "+a,saleId:{addr_province_id:e.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:e.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:e.saleAddsId.strSaleAreaId.split(",")[0]}};for(var i in e.addSaleList)if(e.addSaleList[i].saleId.addr_province_id==r.saleId.addr_province_id&&e.addSaleList[i].saleId.addr_city_id==r.saleId.addr_city_id&&e.addSaleList[i].saleId.addr_area_id==r.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");e.addSaleList.push(r)},delSaleAddr:function(e,t){t.addSaleList.splice(e,1)},submitForm:function(e,t){var s=this,r=[],i=e.addSaleList;for(var l in i)r.push({strProvinceId:i[l].saleId.addr_province_id,strCityId:i[l].saleId.addr_city_id,strAreaId:i[l].saleId.addr_area_id});var n={strRelationId:this.relationIdFn,saleAddrList:r,strUserId:e.strUserId};if("AddNextForm"==t){if(!n.strUserId)return void this.$alert("请选择节点负责人","提示");if(0==n.saleAddrList.length)return void this.$alert("请添加销售地址","提示");var o=this.$loading({text:"正在提交",target:"#loading-area"});a.a.setAddBDNext(n).then(function(e){if(o.close(),"0"!=e.ret)return void s.$alert(e.retinfo,"提示");s.$message("成功！"),s.reloadList()})}else if("replaceNodeForm"==t){if(!n.strUserId)return void this.$alert("请选择节点负责人","提示");if(0==n.saleAddrList.length)return void this.$alert("请添加销售地址","提示");var o=this.$loading({text:"正在更新",target:"#loading-area"});a.a.replaceBDxNode(n).then(function(e){if(o.close(),"0"!=e.ret)return void s.$alert(e.retinfo,"提示");s.$message("成功！"),s.reloadList("BD4"==s.replaceNodeForm.level)})}},cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addEmployeeLogic(t.ruleForm).then(function(e){"0"==e.ret&&(t.$message("成功！"),s.$router.push({path:"/D/index"}))})})}}}},dekR:function(e,t){},"eC/S":function(e,t,s){"use strict";function a(e){s("ojfo")}var r=s("XHR6"),i=s("6GxZ"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-05ad65d4",null);t.a=o.exports},eGbL:function(e,t,s){"use strict";var a=s("eRFB"),r=s("NlVy"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},eRFB:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ"),i=s("uJvA");t.a={data:function(){var e=function(e,t,s){t=r.a.Trim(t);var a=t.gblen();a<12||a>100?s(new Error("请输入12~100个字符")):r.a.checkSpecialWord(t)&&s(new Error("公司名称不能包含特殊字符")),s()},t=function(e,t,s){var a=t.gblen();(a<4||a>100)&&s(new Error("请输入4~100个字符")),s()},s=function(e,t,s){var a=t.gblen();(a<4||a>20)&&s(new Error("请输入4~20个字符")),s()},a=function(e,t,s){t[0]||s(new Error("请选择合同有效时间")),s()};return{apiRoot:r.a.api,bankList:[],pickerOptions:{disabledDate:function(e){return!1}},fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",dealer:{provinces:i.a.addrList,citys:"",areas:""},bankAddr:{provinces:i.a.addrList,citys:"",areas:""},ruleForm:{dateRange:[],dealer:{strDealerName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strBankId:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:"",strStatus:"3"}},rules:{"dealer.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.strDealerName":[{required:!0,validator:e,trigger:"blur"}],"dealer.strAddress":[{required:!0,validator:r.a.validateAddr,trigger:"blur"}],"dealer.strLicenseNum":[{required:!0,validator:r.a.validateLicenseNum,trigger:"blur"}],"dealer.account_bank.strAccountNum":[{required:!0,validator:r.a.validateAccountNum,trigger:"blur"}],"dealer.account_bank.strAccountName":[{required:!0,validator:t,trigger:"blur"}],"dealer.account_bank.strBranchName":[{required:!0,validator:s,trigger:"blur"}],"dealer.account_bank.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.account_bank.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.account_bank.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.account_bank.strBankId":[{required:!0,message:"请选择开户银行",trigger:"change"}],dateRange:[{required:!0,validator:a,trigger:"blur"}]}}},watch:{"ruleForm.dealer.strAddrProvinceId":function(e,t){this.ruleForm.dealer.strAddrCityId="",this.getCitys(e)},"ruleForm.dealer.strAddrCityId":function(e){this.ruleForm.dealer.strAddrAreaId="",this.getAreas(e)},"ruleForm.dealer.account_bank.strAddrProvinceId":function(e,t){this.ruleForm.dealer.account_bank.strAddrCityId="",this.getCitys(e,"bank")},"ruleForm.dealer.account_bank.strAddrCityId":function(e){this.ruleForm.dealer.account_bank.strAddrAreaId="",this.getAreas(e,"bank")}},mounted:function(){this.loadInfo()},methods:{handleAvatarSuccess1:function(e,t){this.ruleForm.dealer.strLicensePic=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.dealer.strContractPic=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,s="image/jpeg"===e.type,a="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return s||a||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i},loadInfo:function(){var e=this;a.a.getBank({}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.bankList=t.data.bankList}),0==i.a.addrList.length&&a.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");i.a.addrList=t.data.address,e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},submitnow:function(e,t){var s=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.ruleForm.dealer.strDealerName=r.a.Trim(s.ruleForm.dealer.strDealerName),s.ruleForm.dealer.strContractBeginTime=r.a.formatDate.format(s.ruleForm.dateRange[0],"y-M-d h:m:s"),s.ruleForm.dealer.strContractEndTime=r.a.formatDate.format(s.ruleForm.dateRange[1],"y-M-d h:m:s"),a.a.addDealerLogic(s.ruleForm).then(function(e){if("0"!=e.ret)return void i.$message(e.retinfo);s.$message("成功！"),t?(i.$refs.ruleForm.resetFields(),s.imageUrl1="",s.imageUrl2="",s.ruleForm.dealer.strLicensePic="",s.ruleForm.dealer.strContractPic="",s.dealer.citys=[],s.dealer.areas=[],s.bankAddr.citys=[],s.bankAddr.areas=[]):i.$router.push({path:"/Dealer/index"})})})},getCitys:function(e,t){if("bank"==t){var s=this.bankAddr.provinces;for(var a in s)s[a].strProvinceId==e&&(this.bankAddr.citys=s[a].citys)}else{var r=this.dealer.provinces;for(var a in r)r[a].strProvinceId==e&&(this.dealer.citys=r[a].citys)}},getAreas:function(e,t){if("bank"==t){var s=this.bankAddr.citys;for(var a in s)s[a].strCityId==e&&(this.bankAddr.areas=s[a].areas)}else{var r=this.dealer.citys;for(var a in r)r[a].strCityId==e&&(this.dealer.areas=r[a].areas)}}}}},eVXz:function(e,t,s){"use strict";var a=s("XoBJ"),r=s("J3q6"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},ea0T:function(e,t){},ewUM:function(e,t,s){"use strict";function a(e){s("ez/U")}var r=s("khUn"),i=s("FW2m"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-039b70b5",null);t.a=o.exports},"ez/U":function(e,t){},fNA4:function(e,t){},fgq7:function(e,t,s){"use strict";function a(e){s("dENg"),s("ZUOT")}var r=s("Kgsk"),i=s("LpPy"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-49d96a5e",null);t.a=o.exports},fkKd:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showDiv,expression:"showDiv"}],staticClass:"container"},[a("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[a("div",{staticClass:"topbar-logo topbar-btn"},[a("a",{attrs:{href:"/"}},[a("img",{staticStyle:{margin:"10px 0 0 10px",height:"30px",border:"0"},attrs:{src:s("iQH9")}})])]),e._v(" "),a("div",{staticClass:"topbar-title topbar-btn"}),e._v(" "),a("div",{staticClass:"topbar-account topbar-btn"},[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v(" "+e._s(e.sysUserName)+"  "),a("i",{staticClass:"iconfont icon-people"}),e._v(" "),a("i",{staticClass:"iconfont icon-down"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[a("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-close_menu"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-open_menu"})]),e._v(" "),a("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],attrs:{"default-active":"0",router:""},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.menuRutes,function(t,s){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?a("el-menu-item",{staticClass:"el-submenu__title",attrs:{index:t.children[0].path}},[a("i",{class:t.iconCls}),e._v(e._s(t.children[0].name)+"\n                        ")]):e._e():a("el-submenu",{attrs:{index:s+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.menuShow?a("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active-add":"",attrs:{index:t.path}},[e._v("\n                                "+e._s(t.name)+"\n                            ")]):e._e()})],2)]:e._e()})],2),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu collapsed"},[e._l(e.menuRutes,function(t,s){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?a("li",{staticClass:"el-menu-item el-submenu__title",on:{click:e.setCollapsed}},[a("i",{class:t.iconCls})]):e._e():a("li",{staticStyle:{position:"relative"},attrs:{index:s+""},on:{click:e.setCollapsed}},[a("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},[a("i",{class:t.iconCls})]),e._v(" "),a("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},e._l(t.children,function(t){return t.menuShow?a("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")]):e._e()}))])]:e._e()})],2)],1),e._v(" "),a("section",{staticClass:"content-container right-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade"}},[a("router-view",{staticClass:"router-class"})],1)],1)],1)])])],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},gHG9:function(e,t,s){"use strict";s("P9l9");t.a={data:function(){return{currentDate:new Date,chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},mounted:function(){},methods:{}}},hXUq:function(e,t,s){"use strict";var a=s("bOdI"),r=s.n(a),i=s("P9l9"),l=s("s0MJ"),n=s("uJvA");t.a={data:function(){var e,t=function(e,t,s){t||s(),/^(([a-zA-Z]{2})|([a-zA-Z]{4}))\d{2,4}$/g.test(t)||s(new Error("请输入正确工号（2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)）")),s()};return e={addS3Item:{},provinceChange:!1,cityChange:!1,form:{strShareId:"",strLevelId:"",strFullName:"",strPartner_id:"",strSecond_channel:"",strAddr_province_id:"",strAddr_city_id:"",strAddr_area_id:"",strDetailAddress:"",strSale_addr:"",strStatus:"1",strLicense_num:"",strPrefix_str:"",strConnection_info:"",strMonth_sales:"",strChannelPic:"",strChannelScore:"1",strValuationId:"",strPercent:"",strApplyMax:"",strShopAwardId:"0",strPayMethodId:"",selfFunction:[],strGreen_recycle:"0",strGather_userInfo:"0",strChannelId:""},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},channelTemplateList:[],partnerList:[],provinces:n.a.addrList,citys:[],areas:[]},r()(e,"partnerList",[]),r()(e,"saleAdds",{provinces:n.a.addrList,citys:[],areas:[]}),r()(e,"addSaleList",[]),r()(e,"channelUserList",[]),r()(e,"defaultDate",""),r()(e,"rules",{strAddr_province_id:[{required:!0,message:"请选择省份",trigger:"change"}],strAddr_city_id:[{required:!0,message:"请选择城市",trigger:"change"}],strAddr_area_id:[{required:!0,message:"请选择区域",trigger:"change"}],strDetailAddress:[{required:!0,validator:l.a.validateAddr,trigger:"blur"}],strFullName:[{required:!0,validator:l.a.validateName,trigger:"blur"}],strLicense_num:[{required:!0,validator:l.a.validateLicenseNum,trigger:"blur"}],strPrefix_str:[{required:!1,validator:t,trigger:"blur"}],strPercent:[{required:!0,message:"请填写分成比例",trigger:"blur"}],strApplyMax:[{required:!0,message:"请填写封顶金额",trigger:"blur"}]}),r()(e,"dataList",[]),r()(e,"pageIndex","0"),r()(e,"pageSize","10"),r()(e,"currentPage4",1),r()(e,"total",0),r()(e,"filters",{strStoreId:"",strStoreName:""}),e},watch:{"form.strAddr_province_id":function(e,t){this.form.strAddr_city_id="",this.getCitys(e,this.provinceChange),this.provinceChange=!0},"form.strAddr_city_id":function(e){this.form.strAddr_area_id="",this.getAreas(e,this.cityChange),this.cityChange=!0},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],!1,"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],!1,"sale")}},mounted:function(){this.getChannelId(),this.getDefaultDate(this.form.strChannelId),this.showList()},methods:{getChannelId:function(){this.form.strChannelId=this.$route.query.id},submitnow:function(e){var t=this,s=this;for(var a in this.form.selfFunction)"收集用户信息"==this.form.selfFunction[a]&&(this.form.strGather_userInfo="1"),"环保回收"==this.form.selfFunction[a]&&(this.form.strGreen_recycle="1");var r=[];for(var a in this.addSaleList)r.push(this.addSaleList[a].saleId);this.form.strSale_addr=r,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;i.a.addChannelLogic(t.form).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("成功！"),s.$router.push({path:"/channel/index"})})})},loadInfo:function(){var e=this;0==n.a.addrList.length?i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");n.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address,e.form.strAddr_province_id=e.defaultDate.strAddrProvinceId}):this.form.strAddr_province_id=this.defaultDate.strAddrProvinceId,i.a.getChannelTemplate({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.channelTemplateList=t.data.channelTemplateList,e.form.strLevelId=e.defaultDate.strLevelId}),i.a.getPartner({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.partnerList=t.data.partnerList,e.form.strPartner_id=e.defaultDate.strPartnerId}),i.a.getAllS1({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.channelUserList=t.data.listUsers,e.channelUserList.push({strUserName:"无",strUserTel:"",strUserId:"0"}),e.addS3Item.strUserId&&(e.channelUserList.push(e.addS3Item),e.form.strConnection_info=e.addS3Item.strUserId),e.form.strConnection_info=e.defaultDate.strS3Id})},getDefaultDate:function(e){var t=this;i.a.getChannelInfo({channelId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.defaultDate=e.data,t.addS3Item={strUserName:t.defaultDate.strS3Name,strUserTel:t.defaultDate.strS3Phone,strUserId:t.defaultDate.strS3Id},t.form.strShareId=t.defaultDate.strShareId,t.form.strFullName=t.defaultDate.strChannelName,t.form.strLicense_num=t.defaultDate.strLicenseNum,t.form.strPrefix_str=t.defaultDate.strPrefix,t.form.strMonth_sales=t.defaultDate.strMonthSales,t.form.strChannelScore=t.defaultDate.strChannelScore,t.form.strPercent=t.defaultDate.strSharePercent,t.form.strApplyMax=t.defaultDate.strAppleMax,t.form.strDetailAddress=t.defaultDate.strAddress,t.form.strSecond_channel=t.defaultDate.strSecondChannel,t.form.strValuationId=t.defaultDate.strPlatformTypeId,t.form.strPayMethodId=t.defaultDate.strPayId,t.form.strStatus=t.defaultDate.strState,"1"==t.defaultDate.strIsCollect&&t.form.selfFunction.push("收集用户信息"),"1"==t.defaultDate.strIsRecycle&&t.form.selfFunction.push("环保回收");var s=t.defaultDate.saleAreaList;for(var a in s){s[a].addr_province_name||(s[a].addr_province_name="全部"),s[a].addr_city_name||(s[a].addr_city_name="全部"),s[a].addr_area_name||(s[a].addr_area_name="全部");var r=s[a].addr_province_name+" "+s[a].addr_city_name+" "+s[a].addr_area_name,i={addr_province_id:s[a].addr_province_id,addr_city_id:s[a].addr_city_id,addr_area_id:s[a].addr_area_id};t.addSaleList.push({saleName:r,saleId:i})}}).then(function(e){t.loadInfo()})},getCitys:function(e,t,s){if("sale"!=s)for(var a in this.provinces)this.provinces[a].strProvinceId==e&&(this.citys=this.provinces[a].citys,t||(this.form.strAddr_city_id=this.defaultDate.strAddrCityId));else{var r=this.saleAdds.provinces;for(var a in r)r[a].strProvinceId==e&&(this.saleAdds.citys=r[a].citys)}},getAreas:function(e,t,s){if("sale"==s){var a=this.saleAdds.citys;for(var r in a)a[r].strCityId==e&&(this.saleAdds.areas=a[r].areas)}else for(var r in this.citys)this.citys[r].strCityId==e&&(this.areas=this.citys[r].areas,t||(this.form.strAddr_area_id=this.defaultDate.strAddrAreaId))},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",a={saleName:e+" / "+t+" / "+s,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==a.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==a.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==a.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");this.addSaleList.push(a)},delSaleAddr:function(e){this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/index"})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters,strChannelId:this.form.strChannelId};i.a.getChannelStoreList(t).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.dataList=t.data.list,e.dataList.forEach(function(t){t.strChannelName=e.form.strFullName}),e.total=t.data.nums})},editStore:function(e){this.$router.push({name:"editStore",query:{id:e}})},disableStore:function(e){var t=this;i.a.disableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message({message:"禁用成功",type:"success"}),t.showList()})},enableStore:function(e){var t=this;i.a.enableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message({message:"启用成功",type:"success"}),t.showList()})},search:function(){this.showList()}}}},iMcO:function(e,t){},iQH9:function(e,t,s){e.exports=s.p+"other/channelCenter/img/logo.951febf.png"},ig3k:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,strUserId:"",dataList:[],ruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strEmail:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatus:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate(),this.getBDStoreList(this.strUserId)},methods:{getId:function(){this.strUserId=this.$route.query.id},addPrefix:function(e){var t=8-e.length,s="bd";if(t>0){for(var a=0;a<t;a++)s+="0";return s+e}return e},editBD:function(e){this.$router.push({name:"editBD",query:{id:e}})},getDefaultDate:function(e){var t=this;a.a.getBDInfo({strUserId:this.strUserId}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");e.baseinfo.strUserId=t.addPrefix(e.baseinfo.strUserId),t.ruleForm=e,t.ruleForm.saleareaList=r.a.unique(t.ruleForm.saleareaList.map(function(e){return e.strProvinceName+e.strCityName+e.strAreaName}))})},getBDStoreList:function(e){var t=this;a.a.getBDStoreList({strUserId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.dataList=e.list})},storeBDetail:function(e){this.$router.push({name:"editStore",query:{id:e}})}}}},ikhL:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},jJU0:function(e,t,s){"use strict";var a=s("mvHQ"),r=s.n(a),i=s("bOdI"),l=s.n(i),n=s("P9l9"),o=s("s0MJ"),d=s("uJvA");t.a={data:function(){var e;return e={dialogFormVisible:!1,ruleForm:{},channelorgs:[],provinces:d.a.addrList,citys:[],areas:[],ChannelManager:[],tempList:[],modelList:{model_1:"",model_2:"",model_3:"",model_4:"",model_5:""},saleAdds:{provinces:d.a.addrList,citys:"",areas:""},addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},structAid:"",structA:d.a.channelList,ifValidateNext:!1,getGroupRelationId:"",getGroupLevelId:"",addGroupName:"",strIndex:"",strAddress:"",strProvinceId:"",strCityId:"",strAreaId:"",strStoreName:"",strChannelManagerId:"",strRelationId:"",strLevelId:""},l()(e,"ruleForm",{structAid:"",strStoreName:"",strProvinceId:"",strCityId:"",strAreaId:"",strAddress:"",strContractBeginTime:"",strContractEndTime:""}),l()(e,"rules",{structAid:[{required:!0,message:"请选择渠道商",trigger:"change"}],strStoreName:[{required:!0,validator:o.a.validateName,trigger:"blur"}],strAddress:[{required:!0,validator:o.a.validateAddr,trigger:"blur"}],strProvinceId:[{required:!0,message:"请选择省份",trigger:"change"}],strCityId:[{required:!0,message:"请选择城市",trigger:"change"}],strAreaId:[{required:!0,message:"请选择区域",trigger:"change"}]}),e},watch:{"ruleForm.strProvinceId":function(e,t){this.ruleForm.strCityId="",this.getCitys(e)},"ruleForm.strCityId":function(e){this.ruleForm.strAreaId="",this.getAreas(e)},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],"sale")},"ruleForm.structAid":function(e,t){this.getNextList(e),this.ifValidateNext=!1},"modelList.model_1":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_2":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_3":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_4":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_5":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1}},methods:{loadInfo:function(){var e=this;if(0==d.a.channelList.length){var t=this.$loading({text:"获取渠道商列表",target:"#Add-store"});n.a.getAllChannels({}).then(function(s){if(t.close(),"0"!=s.ret)return void e.$message(s.retinfo);d.a.channelList=s.data.Relations,e.structA=s.data.Relations})}n.a.getChannelManager({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.ChannelManager=t.data.managers}),0==d.a.addrList.length&&n.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");d.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address})},addGroup:function(e,t,s){this.dialogFormVisible=!0,this.getGroupRelationId=e,this.getGroupLevelId=t,this.strIndex=s},submitAddGroup:function(){var e=this,t=this,s={strRelationId:this.getGroupRelationId,strLevelId:this.getGroupLevelId,strOrgName:this.addGroupName};n.a.addOrgLogic(s).then(function(t){return"0"!=t.ret?void e.$alert(t.retinfo,"提示"):(e.dialogFormVisible=!1,t.data)}).then(function(e){"0"==t.strIndex?t.getNextList(t.ruleForm.structAid,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)}):t.getNextList(t.modelList["model_"+t.strIndex],{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)})})},getNextList:function(e,t){var s=this,a=this,r=e.split(",");this.strRelationId=r[0],this.strLevelId=r[1],this.tempList=this.tempList.splice(0,r[2]);for(var i in this.modelList)i.split("_")[1]>r[2]&&(this.modelList[i]="");n.a.getChannelsChild({strRelationId:r[0]}).then(function(e){if("0"!=e.ret)return void s.$alert(e.retinfo,"提示");if(e.data){s.ifValidateNext=!0;var r=e.data;r.upStrRelationId=s.strRelationId,r.upStrLevelId=s.strLevelId,s.tempList.push(r),t&&(a.modelList["model_"+t.keyIndex]=t.val)}})},getCitys:function(e,t){if("sale"==t){var s=this.saleAdds.provinces;for(var a in s)s[a].strProvinceId==e&&(this.saleAdds.citys=s[a].citys)}else for(var a in this.provinces)this.provinces[a].strProvinceId==e&&(this.citys=this.provinces[a].citys)},getAreas:function(e,t){if("sale"==t){var s=this.saleAdds.citys;for(var a in s)s[a].strCityId==e&&(this.saleAdds.areas=s[a].areas)}else for(var a in this.citys)this.citys[a].strCityId==e&&(this.areas=this.citys[a].areas)},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",a={saleName:e+"  "+t+"  "+s,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==a.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==a.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==a.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");this.addSaleList.push(a)},delSaleAddr:function(e){console.log(e),this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/store"})},submitnow:function(e){var t=this,s=this,a=[];for(var i in this.addSaleList)a.push(this.addSaleList[i].saleId);var l={strAddress:o.a.Trim(this.ruleForm.strAddress),strProvinceId:this.ruleForm.strProvinceId,strCityId:this.ruleForm.strCityId,strAreaId:this.ruleForm.strAreaId,strStoreName:o.a.Trim(this.ruleForm.strStoreName),strChannelManagerId:this.strChannelManagerId,strRelationId:this.strRelationId,strLevelId:this.strLevelId,saleAddrList:r()(a)},d=[{val:"[]"!=l.saleAddrList,msg:"请添加销售范围"}];this.ifValidateNext&&d.splice(1,0,{val:this.structBid,msg:"请选择次级渠道"}),this.$refs[e].validate(function(e){if(!e||!o.a.Validate(d))return console.log("error submit!!"),!1;n.a.addStoreLogic(l).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");s.$message("成功！"),s.$router.push({path:"/channel/store"})})})}},mounted:function(){this.loadInfo()}}},k0lM:function(e,t,s){"use strict";var a=s("P9l9");s("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0}},mounted:function(){this.showList()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getPowerRecordList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=t.data.list,e.total=Number(t.data.nums)})}}}},k6oP:function(e,t,s){"use strict";function a(e){s("Hd+M")}var r=s("jJU0"),i=s("SasP"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-01bff37e",null);t.a=o.exports},kLPy:function(e,t,s){"use strict";var a=s("FW/c"),r=s("Pyqa"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},khUn:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ"),i=s("uJvA");t.a={data:function(){return{icon:"",searchNode:"",searchResult:[],searchResultLength:0,searchResultIndex:0,showNext:!1,maxLevel:4,currentKey:"",defaultExpand:[],defaultChecked:"",showAddNext:!0,showRightInfo:!1,relationIdFn:"",userIdFn:"",saleAddrFn:"",D4List:[],level:{1:"D4",2:"D3",3:"D2",4:"D1"},number:"number",statusId:"1",strRelationId:"",treeList:[],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},defaultProps:{children:"subList",label:function(e,t){return e.strLevelName+" "+e.strUserName+" / "+e.strPhoneNum}},replaceNodeForm:{replaceNodeList:[],addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:"D3"},replaceNodeList:[],replaceNodeAddr:{provinces:i.a.addrList,citys:[],areas:[]},delNode:{showDelNodeModel:!1,info:""},AddNextForm:{addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:""},AddNextList:[],AddNextSaleAddr:{provinces:i.a.addrList,citys:[],areas:[]},rules:{}}},watch:{strRelationId:function(e,t){this.delNode.showDelNodeModel=!1,this.showRightInfo=!1,e&&this.getTree(e)},"replaceNodeForm.saleAddsId.strSaleProvinceId":function(e,t){this.replaceNodeForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.replaceNodeAddr)},"replaceNodeForm.saleAddsId.strSaleCityId":function(e){this.replaceNodeForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.replaceNodeAddr)},"AddNextForm.saleAddsId.strSaleProvinceId":function(e,t){this.AddNextForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.AddNextSaleAddr)},"AddNextForm.saleAddsId.strSaleCityId":function(e){this.AddNextForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.AddNextSaleAddr)},relationIdFn:function(e){e&&(this.getAddNextList(e),this.getReplaceDxList(e))}},mounted:function(){this.index(),this.getD4List()},methods:{index:function(){var e=this;0==i.a.addrList.length&&a.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");i.a.addrList=t.data.address,e.AddNextSaleAddr.provinces=t.data.address,e.replaceNodeAddr.provinces=t.data.address})},getD4List:function(){var e=this;a.a.getD4List({strDType:"D4"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.D4List=t.dxlist})},reloadList:function(e){this.getTree(this.strRelationId),this.relationIdFn="",this.replaceNodeForm.strUserId="",this.AddNextForm.strUserId="",this.showRightInfo=!1,e&&this.getD4List()},getTree:function(e){var t=this;this.delNode.showDelNodeModel=!1,a.a.getD4Tree({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.treeList=[],t.treeList.push(e.dtree)})},handleIconClick:function(){function e(s){for(var a in s)-1==s[a].strUserName.search(t.searchNode)&&-1==s[a].strPhoneNum.search(t.searchNode)||t.searchResult.push(s[a].strRelationId),s[a].subList&&e(s[a].subList)}if(this.showNext=!1,this.searchNode=r.a.Trim(this.searchNode),!this.searchNode)return void this.$message("请输入姓名或手机号搜索");var t=this;if(this.searchResult=[],this.defaultExpand=[],this.defaultChecked="",this.searchResultIndex=0,this.searchResultLength=0,e(this.treeList),this.searchResultLength=this.searchResult.length,0==this.searchResultLength)return void this.$message("无结果");this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0],setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0),this.showNext=!0},getNext:function(){++this.searchResultIndex==this.searchResultLength?(this.searchResultIndex=0,this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0]):(this.defaultExpand=[this.searchResult[this.searchResultIndex]],this.defaultChecked=this.searchResult[this.searchResultIndex]),setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0)},handleNodeClick:function(e,t){this.replaceNodeForm.level=this.level[t.level],t.level<this.maxLevel?(this.showAddNext=!0,this.AddNextForm.level=this.level[Number(t.level)+1]):this.showAddNext=!1,this.showRightInfo=!0,this.relationIdFn=e.strRelationId,this.userIdFn=e.strUserId,this.saleAddrFn=e.saleAddrList,e.subList?(this.defaultExpand=[e.strRelationId],this.delNode.showDelNodeModel=!1):(this.defaultExpand=[t.parent.data.strRelationId],this.delNode.showDelNodeModel=!0,this.delNode.info=e.strUserName+" / "+e.strPhoneNum)},getReplaceDxList:function(e){var t=this;a.a.getReplaceDxList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");if(t.replaceNodeForm.replaceNodeList=e.dlist,t.replaceNodeForm.strUserId=t.userIdFn,0!=t.saleAddrFn.length){t.replaceNodeForm.addSaleList=[];for(var s in t.saleAddrFn){var a=t.saleAddrFn[s];a.strProvinceName||(a.strProvinceName="全部"),a.strCityName||(a.strCityName="全部"),a.strAreaName||(a.strAreaName="全部"),t.replaceNodeForm.addSaleList.push({saleName:a.strProvinceName+" "+a.strCityName+" "+a.strAreaName,saleId:{addr_province_id:a.strProvinceId,addr_city_id:a.strCityId,addr_area_id:a.strAreaId}})}}})},delThisNode:function(e){var t=this,s=this.$loading({text:"正在删除",target:"#loading-area"});a.a.delLeafNode({strRelationId:e}).then(function(e){if(s.close(),"0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message("成功"),"D4"==t.replaceNodeForm.level?(t.treeList=[],t.strRelationId="",t.relationIdFn="",t.replaceNodeForm.strUserId="",t.AddNextForm.strUserId="",t.showRightInfo=!1,t.getD4List()):t.reloadList()})},getAddNextList:function(e){var t=this;a.a.getAddNextList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.AddNextList=e.dlist})},getCitys:function(e,t){var s=t.provinces;for(var a in s)s[a].strProvinceId==e&&(t.citys=s[a].citys)},getAreas:function(e,t){var s=t.citys;for(var a in s)s[a].strCityId==e&&(t.areas=s[a].areas)},addSaleAddr:function(e){var t=e.saleAddsId.strSaleProvinceId.split(",")[1]?e.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",s=e.saleAddsId.strSaleCityId.split(",")[1]?e.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=e.saleAddsId.strSaleAreaId.split(",")[1]?e.saleAddsId.strSaleAreaId.split(",")[1]:"全部",r={saleName:t+" "+s+" "+a,saleId:{addr_province_id:e.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:e.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:e.saleAddsId.strSaleAreaId.split(",")[0]}};for(var i in e.addSaleList)if(e.addSaleList[i].saleId.addr_province_id==r.saleId.addr_province_id&&e.addSaleList[i].saleId.addr_city_id==r.saleId.addr_city_id&&e.addSaleList[i].saleId.addr_area_id==r.saleId.addr_area_id)return void this.$alert("该地址已添加！","提示");e.addSaleList.push(r)},delSaleAddr:function(e,t){t.addSaleList.splice(e,1)},submitForm:function(e,t){var s=this,r=[],i=e.addSaleList;for(var l in i)r.push({strProvinceId:i[l].saleId.addr_province_id,strCityId:i[l].saleId.addr_city_id,strAreaId:i[l].saleId.addr_area_id});var n={strRelationId:this.relationIdFn,saleAddrList:r,strUserId:e.strUserId};if("AddNextForm"==t){if(!n.strUserId)return void this.$alert("请选择节点负责人","提示");if(0==n.saleAddrList.length)return void this.$alert("请添加销售地址","提示");var o=this.$loading({text:"正在提交",target:"#loading-area"});a.a.setAddNext(n).then(function(e){if(o.close(),"0"!=e.ret)return void s.$alert(e.retinfo,"提示");s.$message("成功！"),s.reloadList()})}else if("replaceNodeForm"==t){if(!n.strUserId)return void this.$alert("请选择节点负责人","提示");if(0==n.saleAddrList.length)return void this.$alert("请添加销售地址","提示");var o=this.$loading({text:"正在更新",target:"#loading-area"});a.a.replaceDxNode(n).then(function(e){if(o.close(),"0"!=e.ret)return void s.$alert(e.retinfo,"提示");s.$message("成功！"),s.reloadList("D4"==s.replaceNodeForm.level)})}},cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addEmployeeLogic(t.ruleForm).then(function(e){"0"==e.ret&&(t.$message("成功！"),s.$router.push({path:"/D/index"}))})})}}}},kkAG:function(e,t,s){"use strict";function a(e){s("LgZO")}var r=s("6ZhE"),i=s("m8aB"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-85c8ea3c",null);t.a=o.exports},koJW:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],statusList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{strLevelCode:[],strStatus:"",strBDUserName:"",strPhoneNum:"",strCardNum:""}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},addPrefix:function(e){var t=8-e.length,s="bd";if(t>0){for(var a=0;a<t;a++)s+="0";return s+e}return e},loadInfo:function(){var e=this;a.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list})},showList:function(){var e=this;this.searchkeys.strBDUserName=r.a.Trim(this.searchkeys.strBDUserName),this.searchkeys.strPhoneNum=r.a.Trim(this.searchkeys.strPhoneNum),this.searchkeys.strCardNum=r.a.Trim(this.searchkeys.strCardNum);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.searchkeys};a.a.getBDList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data.list;for(var a in s)s[a].strPrefixUserId=e.addPrefix(s[a].strUserId);e.dataList=s,e.total=Number(t.data.nums)})},detailBD:function(e){this.$router.push({name:"detailBD",query:{id:e}})},eidtBD:function(e){this.$router.push({name:"editBD",query:{id:e}})},addNext:function(e){this.$router.push({name:"DAddNext",query:{id:e}})},search:function(){this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.$refs.searchkeys.resetFields(),this.showList()}}}},"kuq+":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("操作日志")]),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{width:"200",prop:"Fcreate_time",label:"操作时间"}}),e._v(" "),s("el-table-column",{attrs:{width:"200",prop:"Ftype",label:"操作对象"}}),e._v(" "),s("el-table-column",{attrs:{width:"200",prop:"Foperator_name",label:"操作人"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Faction_data",label:"操作详情"}})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},lO7g:function(e,t,s){"use strict";function a(e){s("9G+D"),s("T1DS"),s("bUxT")}var r=s("neBT"),i=s("fkKd"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-a50cd4aa",null);t.a=o.exports},lf9d:function(e,t){},lsOu:function(e,t,s){"use strict";function a(e){s("dekR")}var r=s("+/Qw"),i=s("9ZH3"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-6d099a6a",null);t.a=o.exports},lwq5:function(e,t,s){"use strict";var a={menu:[]};t.a=a},m8aB:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("工号 / 编辑")]),e._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码：",prop:"strUserTel"}},[s("el-input",{attrs:{type:"number",maxlength:11,placeholder:"请输入手机号"},model:{value:e.ruleForm.strUserTel,callback:function(t){e.$set(e.ruleForm,"strUserTel",t)},expression:"ruleForm.strUserTel"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[s("el-input",{attrs:{disabled:"",placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱："}},[s("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态："}},[s("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return s("el-option",{key:e.statusId,attrs:{label:e.statusName,value:e.statusId}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"所属商户："}},[s("el-input",{attrs:{disabled:""},model:{value:e.S4_list,callback:function(t){e.S4_list=t},expression:"S4_list"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"二级子公司："}},[s("el-input",{attrs:{disabled:""},model:{value:e.S3_list,callback:function(t){e.S3_list=t},expression:"S3_list"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所在门店："}},[s("el-input",{attrs:{disabled:""},model:{value:e.S2_list,callback:function(t){e.S2_list=t},expression:"S2_list"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"门店工号："}},[s("el-input",{attrs:{disabled:""},model:{value:e.strUserNum,callback:function(t){e.strUserNum=t},expression:"strUserNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组织身份："}},[s("el-input",{attrs:{disabled:""},model:{value:e.strIdentityList,callback:function(t){e.strIdentityList=t},expression:"strIdentityList"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确定")]),e._v(" "),s("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},mUbh:function(e,t){},ndXk:function(e,t,s){"use strict";function a(e){s("PeLJ")}var r=s("K0O0"),i=s("MObr"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-6cf8ae52",null);t.a=o.exports},neBT:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={created:function(){},data:function(){return{collapsed:!1,menuRutes:[],menuList:[],sysUserName:"",showDiv:!1}},methods:{handleOpen:function(){},handleClose:function(){},setCollapsed:function(){this.collapsed=!this.collapsed},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},getModule:function(e){var t=this.$router.options.routes;for(var s in t)t[s].menuShow&&"home"!=t[s].name&&(this.$router.options.routes[s].menuShow=!1);for(var a in e)for(var r in t)e[a].name==t[r].name&&(this.$router.options.routes[r].menuShow=!0);this.menuRutes=this.$router.options.routes},getDeepModule:function(e){var t=this.$router.options.routes;for(var s in t){t[s].menuShow&&"home"!=t[s].name&&(this.$router.options.routes[s].menuShow=!1);var a=this.$router.options.routes[s].children;if(a)for(var r in a)a[r].menuShow&&1==a[r].menuShow&&(this.$router.options.routes[s].children[r].menuShow=!1)}for(var i in e)for(var l in t)if(e[i].name==t[l].name&&(this.$router.options.routes[l].menuShow=!0),t[l].children&&e[i].sub_menu)for(var n in e[i].sub_menu)for(var o in t[l].children)e[i].sub_menu[n].name==t[l].children[o].name&&0==t[l].children[o].menuShow&&(this.$router.options.routes[l].children[o].menuShow=!0);this.menuRutes=this.$router.options.routes},get_user_menu:function(){var e=this,t=encodeURIComponent(r.a.accessHost),s=r.a.getCookie("userid"),i=r.a.getCookie("useruuid"),l={userid:s,token:i,systemid:r.a.systemId};if(s){var n=this.$loading({lock:!0,text:"玩命加载中......",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});a.a.get_user_authority(l).then(function(t){if("0"!=t.ret)return e.$message({message:t.retinfo,type:"warning"}),void n.close();n.close(),e.showLoginName(),e.showDiv=!0,e.menuList=t.data.menu,e.getModule(e.menuList)})}else window.location.href=r.a.powerCenterLoginPage+"/login?system_id="+r.a.systemId+"&jump_url="+t},setTestCookie:function(){r.a.setCookie("userid","694"),r.a.setCookie("username","tianyu"),r.a.setCookie("useruuid","c6ed5c8e9830cf9225d078bdde335de7")},showLoginName:function(){var e=r.a.getCookie("username");e&&(this.sysUserName=e||"")},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{type:"warning"}).then(function(){var t=r.a.getCookie("userid");a.a.logout({userid:t}).then(function(t){if("0"!=t.ret)return void e.$message({message:t.retinfo,type:"warning"});r.a.delCookie("userid"),r.a.delCookie("username"),r.a.delCookie("last_connection"),r.a.delCookie("useruuid  "),window.location.href=r.a.powerCenterLoginPage+"/login?system_id="+r.a.systemHomeId+"&jump_url="+encodeURIComponent(r.a.accessHomeHost)})}).catch(function(){})}},mounted:function(){this.get_user_menu()}}},oXBm:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{strStoreId:"",strStoreName:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},showList:function(){var e=this,t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters};a.a.getStoreList(t).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.dataList=t.data.list,e.total=t.data.nums})},editStore:function(e){this.$router.push({name:"editStore",query:{id:e}})},disableStore:function(e){var t=this;a.a.disableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message({message:"禁用成功",type:"success"}),t.showList()})},enableStore:function(e){var t=this;a.a.enableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$alert(e.retinfo,"提示");t.$message({message:"启用成功",type:"success"}),t.showList()})},search:function(){this.filters.strStoreId=r.a.Trim(this.filters.strStoreId),this.filters.strStoreName=r.a.Trim(this.filters.strStoreName),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.filters.strStoreId="",this.filters.strStoreName="",this.showList()}},mounted:function(){this.showList()}}},ojfo:function(e,t){},p1FZ:function(e,t,s){e.exports=s.p+"other/channelCenter/img/forest.7ee4ced.png"},"p6/k":function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.currentPage=e,this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,search:this.filters.searchkey};a.a.getEmployeeList(t).then(function(t){if("0"!=t.ret)return void e.$alert(t.retinfo,"提示");e.dataList=t.data.jobNumList,e.total=Number(t.data.total)})},editEmployee:function(e){this.$router.push({name:"editEmployee",query:{id:e}})},setEmployee:function(e,t){var s=this;a.a.setEmployee({strUserId:e,strStatus:t}).then(function(e){if("0"!=e.ret)return void s.$alert(e.retinfo,"提示");0==t&&s.$message({message:"禁用成功",type:"success"}),1==t&&s.$message({message:"启用成功",type:"success"}),s.showList()})},search:function(){this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.filters.searchkey="",this.showList()}},mounted:function(){this.showList()}}},pP4U:function(e,t){},peVd:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"detailDealer"}},[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("Dealer管理 > 详情")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editDealer(e.dealerid)}}},[e._v("编辑Dealer")])],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Dealer详情"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strDealerName))])]),e._v(" "),a("el-form-item",{attrs:{label:"公司地址：",prop:"dealer.strAddress"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strLicenseNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"三证照片："}},[e.ruleForm.dealer.strLicensePic?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.dealer.strLicensePic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("2.收款信息")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAccountNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAccountName))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户地址："}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strBankName))])]),e._v(" "),a("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strBranchName))])]),e._v(" "),a("p",[e._v("3.合作信息")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"合同生效时间：",prop:"dealer.strContractBeginTime"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strContractBeginTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"合同结束时间：",prop:"dealer.strContractEndTime"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strContractEndTime))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"合作协议照片："}},[e.ruleForm.dealer.strContractPic?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.dealer.strContractPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态：",prop:"dealer.account_bank.strBankName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"D4"}},[e.haveD4?a("div",[e._v("未关联D4")]):a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[e.DruleForm.baseinfo.strCardPicFront?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strCardPicFront}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[e.DruleForm.baseinfo.strCardPicBack?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strCardPicBack}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[e.DruleForm.baseinfo.strHeadPic?a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("2.数据范围")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.DruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelName",label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                    "+e._s(t.row.strUserName+" / "+t.row.strPhoneNum)+"\n                                ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.DruleForm.saleareaList,function(t){return a("div",[e._v("\n                            "+e._s(t.strProvinceName+t.strCityName+t.strAreaName)+"\n                        ")])})),e._v(" "),a("p",[e._v("3.收款信息")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[e.DruleForm.accountInfo.strWechatName?a("span",[e._v(e._s(e.DruleForm.accountInfo.strWechatName))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[e.DruleForm.accountInfo.strWechatOpenId?a("span",[e._v(e._s(e.DruleForm.accountInfo.strWechatOpenId))]):a("span",[e._v("暂无")])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"微信头像："}},[e.DruleForm.accountInfo.strWechatHeadPic?a("img",{attrs:{src:e.DruleForm.accountInfo.strWechatHeadPic}}):a("img",{attrs:{src:s("3frX")}})]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strStatusName))])])],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("br"),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:a,staticRenderFns:r};t.a=i},pt0B:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("新增BD下级")])},r=[],i={render:a,staticRenderFns:r};t.a=i},q8zI:function(e,t){},qLAr:function(e,t){},r8xx:function(e,t){},s0MJ:function(e,t,s){"use strict";function a(e,t){for(var s=t-(e+"").length,a=0;a<s;a++)e="0"+e;return e}function r(e){return e?e.replace(/(^\s*)|(\s*$)/g,""):e}function i(e){return new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]").test(e)}function l(e){return new RegExp("[0-9]").test(e)}var n,o=s("bOdI"),d=s.n(o),c=s("mvHQ"),u=s.n(c),m=s("zL8q"),h=(s.n(m),/([yMdhsm])(\1*)/g);String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},t.a=(n={api:"",apiCross:"https://dev-amc-server.huanjixia.com",accessHost:"mba.huanjixia.com/channel_center",accessHomeHost:"mba.huanjixia.com/login",powerCenterLoginPage:"http://api-amc.huishoubao.com.cn",systemId:"23",systemHomeId:"100",removeClass:function(e,t){if(t){var s=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(s," "),console.log(e.className)}},setCookie:function(e,t){var s=new Date;s.setTime(s.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+s.toGMTString()},getCookie:function(e){var t,s=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(s))?unescape(t[2]):null},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var s=this.getCookie(e);null!=s&&(document.cookie=e+"="+s+";expires="+t.toGMTString())},Set_lsdata:function(e,t){if(""!=e&&t){var s=window.localStorage,a=u()(t);s.setItem(e,a)}},Get_lsdata:function(e){if(""!=e){var t=null,s=window.localStorage;try{var a=s.getItem(e);a=JSON.parse(a),t=a}catch(e){}finally{return t}}}},d()(n,"Set_lsdata",function(e,t){if(""!=e&&t){var s=window.localStorage,a=u()(t);s.setItem(e,a)}}),d()(n,"Get_lsdata",function(e){if(""!=e){var t=null,s=window.localStorage;try{var a=s.getItem(e);a=JSON.parse(a),t=a}catch(e){}finally{return t}}}),d()(n,"unique",function(e){for(var t=[],s={},a=0;a<e.length;a++)s[e[a]]||(t.push(e[a]),s[e[a]]=1);return t}),d()(n,"combineCell",function(e){for(var t in e[0])for(var s=0;s<e.length;){e[s][t+"Span"]=1,e[s][t+"Dis"]=!1;for(var a=s+1;a<=e.length-1&&(e[s][t]==e[a][t]&&""!=e[s][t]);a++)e[s][t+"Span"]++,e[s][t+"Dis"]=!1,e[a][t+"Span"]=1,e[a][t+"Dis"]=!0;s=a}return e}),d()(n,"getCitys",function(e,t){if(!e)return void(t.citys=[]);var s=t.provinces;for(var a in s)s[a].strProvinceId==e&&(t.citys=s[a].citys)}),d()(n,"getAreas",function(e,t){if(!e)return void(t.areas=[]);var s=t.citys;for(var a in s)s[a].strCityId==e&&(t.areas=s[a].areas)}),d()(n,"checkSpecialWord",function(e){return new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]").test(e)}),d()(n,"ValidateValue",function(e){var t=e.value,s=t.length-1,a=e.value.charAt(s);"`~@#;,.!#$%^&*()+{}|\\:\"<>?-=/。，。'".indexOf(a)>=0&&(a=t.substring(0,s),e.value=a)}),d()(n,"Validate",function(e){for(var t in e)if(!e[t].val)return s.i(m.Message)({message:e[t].msg,type:"warning"}),!1;return!0}),d()(n,"validatestrEmail",function(e,t,s){/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g.test(t)||s(new Error("请输入正确邮箱")),s()}),d()(n,"validateTel",function(e,t,s){/^1[3|4|5|7|8]\d{9}$/g.test(t)||s(new Error("请输入正确手机号")),s()}),d()(n,"validateName",function(e,t,s){t=r(t);var a=t.gblen();a<4||a>50?s(new Error("请输入4~50个字符")):i(t)?s(new Error("不能包含特殊字符")):l(t)&&s(new Error("不能包含数字")),s()}),d()(n,"validateName1",function(e,t,s){t=r(t);var a=t.gblen();a<1||a>40?s(new Error("请输入40个以内字符")):i(t)&&s(new Error("不能包含特殊字符")),s()}),d()(n,"validatestrCardNum",function(e,t,s){t=r(t),/(^\d{15}$)|(^\d{17}([0-9]|X)$)/g.test(t)||s(new Error("请输入正确身份证号")),s()}),d()(n,"validateDesc",function(e,t,s){t=r(t);var a=t.gblen();(a<1||a>100)&&s(new Error("请输入100个以内字符")),s()}),d()(n,"validateAccountNum",function(e,t,s){/(^\d{10,30}$)/g.test(t)||s(new Error("请输入10~30位银行卡号")),s()}),d()(n,"validateLicenseNum",function(e,t,s){/^(([0-9a-zA-Z]{15})|([0-9a-zA-Z]{18}))$/g.test(t)||s(new Error("请输入15或18位营业执照号（字母或数字）")),s()}),d()(n,"validateAddr",function(e,t,s){var a=t.gblen();(a<6||a>100)&&s(new Error("请输入6~100个字符")),s()}),d()(n,"Trim",function(e){return e?e.replace(/(^\s*)|(\s*$)/g,""):e}),d()(n,"getQueryStringByName",function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t),a="";return null!=s&&(a=s[2]),t=null,s=null,null===a||""===a||"undefined"===a?"":a}),d()(n,"formatDate",{format:function(e,t){return"string"==typeof e&&(e=new Date(e)),t=t||"yyyy-MM-dd",t.replace(h,function(t){switch(t.charAt(0)){case"y":return a(e.getFullYear(),t.length);case"M":return a(e.getMonth()+1,t.length);case"d":return a(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return a(e.getHours(),t.length);case"m":return a(e.getMinutes(),t.length);case"s":return a(e.getSeconds(),t.length)}})},parse:function(e,t){var s=t.match(h),a=e.match(/(\d)+/g);if(s.length===a.length){for(var r=new Date(1970,0,1),i=0;i<s.length;i++){var l=parseInt(a[i]);switch(s[i].charAt(0)){case"y":r.setFullYear(l);break;case"M":r.setMonth(l-1);break;case"d":r.setDate(l);break;case"h":r.setHours(l);break;case"m":r.setMinutes(l);break;case"s":r.setSeconds(l)}}return r}return null}}),n)},sOY0:function(e,t,s){"use strict";var a=s("HGdz"),r=s("aXbz"),i=s("/Xao"),l=i(a.a,r.a,!1,null,null,null);t.a=l.exports},srZO:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{strUserId:"",strUserName:"",dataList:[],systemList:[],moduleList:{Search:[]},searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModules(e,"Search")}},mounted:function(){this.getId(),this.showList()},methods:{getId:function(){this.strUserId=this.$route.query.id},loadInfo:function(){var e=this,t={pageSize:"100"};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list})},getSystemModules:function(e,t,s){var r=this;this["get"+t+"Module"].s_system_id=e,"Edit"==t&&(this.getEditPages.s_system_id=e),a.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);r.moduleList[t]=r.handleModuleList(e.data.list),s||"Edit"!=t||(r.getEditPages.s_module_id=r.EditInfo.Fmodule_id)})},handleModuleList:function(e){var t=[];for(var s in e){var a=e[s].system_module_list;for(var r in a)t.push(a[r])}return t},showList:function(){var e=this;this.searchkeys.s_system_id,this.searchkeys.s_module_id,this.searchkeys.s_page_name;a.a.getRoleAuth({s_role_id:this.strUserId}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.strUserName=t.data.role_name,e.dataList=r.a.combineCell(e.gatherPageAuth(t.data.auth_list))})},gatherPageAuth:function(e){var t={},s=[];for(var a in e)if(t["F"+e[a].Fpid])t["F"+e[a].Fpid].FauthList.push({authName:e[a].Fname,authId:e[a].Fauthority_id,isChecked:"1"==e[a].is_check}),"1"==e[a].is_check&&(t["F"+e[a].Fpid].haveAuth=!0);else{var r={Fsystem_id:e[a].Fsystem_id,Fsystem_name:e[a].Fsystem_name,Fmodule_id:e[a].Fmodule_id,Fmodule_name:e[a].Fmodule_name,Fpid:e[a].Fpid,Fpage_name:e[a].Fpage_name,haveAuth:"1"==e[a].is_check,FauthList:[{authName:e[a].Fname,authId:e[a].Fauthority_id,isChecked:"1"==e[a].is_check}]};t["F"+e[a].Fpid]=r}for(var i in t)s.push(t[i]);return s},search:function(){this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.showList()},submitnow:function(){var e=this;a.a.editRoleAuths(this.handleSubmitData(this.dataList)).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.$message("成功！"),e.$router.push({path:"user"})})},changeAuth:function(e){var t=this.dataList[e].FauthList;if(this.dataList[e].haveAuth)for(var s in t)t[s].isChecked=!0;else for(var s in t)t[s].isChecked=!1},setPageChoosed:function(e){if(!this.dataList[e].haveAuth){var t=this.dataList[e].FauthList;for(var s in t)if(t[s].isChecked){this.dataList[e].haveAuth=!0;for(var a in t)"查看"==t[a].authName&&(t[a].isChecked=!0);return}}},handleSubmitData:function(e){var t={e_role_id:this.strUserId,e_add_datas:[],e_del_datas:[]};for(var s in e){var a=e[s].FauthList;for(var r in a)a[r].isChecked?t.e_add_datas.push({e_system_id:e[s].Fsystem_id,e_auth_id:a[r].authId}):t.e_del_datas.push({e_system_id:e[s].Fsystem_id,e_auth_id:a[r].authId})}return t}}}},tduD:function(e,t,s){"use strict";function a(e){s("fNA4")}var r=s("MZd/"),i=s("EFft"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-bcfc1034",null);t.a=o.exports},tyID:function(e,t){},uJvA:function(e,t,s){"use strict";var a={channelList:[],addrList:[]};t.a=a},ukYY:function(e,t,s){"use strict";var a=s("bOdI"),r=s.n(a),i=s("Du/2"),l=(s("s0MJ"),r()({},i.a,function(e,t){e.menu=t}));t.a=l},wVOu:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("设置权限")]),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"user"}},[s("el-button",{attrs:{size:"small"}},[e._v("返回角色管理")])],1)],1),e._v(" "),s("p",{staticStyle:{"font-size":"15px",color:"#1f2d3d","font-weight":"500"}},[e._v("角色："+e._s(e.strUserName))]),e._v(" "),s("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,a){return s("tr",[s("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),s("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[s("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),s("td",{class:{hidden:t.FpidDis},attrs:{rowspan:t.FpidSpan}},[s("div",{staticClass:"cell textRight"},[e._v(e._s(t.Fpage_name)+"   "),s("el-checkbox",{on:{change:function(t){e.changeAuth(a)}},model:{value:t.haveAuth,callback:function(s){e.$set(t,"haveAuth",s)},expression:"item.haveAuth"}})],1)]),e._v(" "),s("td",[s("div",{staticClass:"cell"},e._l(t.FauthList,function(t){return s("span",[s("el-checkbox",{attrs:{disabled:"查看"==t.authName},on:{change:function(t){e.setPageChoosed(a)}},model:{value:t.isChecked,callback:function(s){e.$set(t,"isChecked",s)},expression:"option.isChecked"}},[e._v(e._s(t.authName))])],1)}))])])})],2),e._v(" "),s("div",{staticClass:"submitRight"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow()}}},[e._v("确认")]),e._v(" "),s("router-link",{attrs:{to:"index"}},[s("el-button",[e._v("取消")])],1)],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[s("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[s("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[s("div",{staticClass:"cell"},[e._v("页面")])]),e._v(" "),s("th",{staticClass:"is-leaf",attrs:{width:"58%"}},[s("div",{staticClass:"cell"},[e._v("权限")])])])}],i={render:a,staticRenderFns:r};t.a=i},wcE2:function(e,t,s){"use strict";var a=s("P9l9"),r=s("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],systemList:[],enableSystemList:[],moduleList:{Search:[],Add:[],Edit:[]},pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getAddModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},addPage:{c_system_id:"",c_access_flags:"",c_pid:"",c_type:"2",c_desc:"",c_name:""},editPage:{e_authority_id:"",e_system_id:"",e_access_flags:"",e_pid:"",e_type:"2",e_desc:"",e_name:""},rules:{c_system_id:[{required:!0,message:"请选择所属系统"}],c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_system_id:[{required:!0,message:"请选择所属系统"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModule(e,"Search")},"addPage.c_system_id":function(e,t){this.addPage.c_pid="",this.moduleList.Add=[],this.getSystemModule(e,"Add")},"editPage.e_system_id":function(e,t){this.moduleList.Edit=[],this.getSystemModule(e,"Edit")}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.currentPage=e,this.showList()},loadInfo:function(){var e=this,t={pageSize:"100"};a.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list,e.enableSystemList=e.getEnableList(t.data.list)})},relateFstatus:function(e){for(var t in e)"1"==e[t].system_status&&"1"==e[t].Fmodule_status||(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var s in e)"1"!=e[s].status&&"1"!=e[s].Fstatus||t.push(e[s]);return t},getSystemModule:function(e,t){var s=this;this["get"+t+"Module"].s_system_id=e,a.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.moduleList[t]="Search"==t?s.handleModuleList(e.data.list):s.getEnableList(s.handleModuleList(e.data.list))})},handleModuleList:function(e){var t=[];for(var s in e){var a=e[s].system_module_list;for(var r in a)t.push(a[r])}return t},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_id:this.searchkeys.s_module_id,s_page_name:this.searchkeys.s_page_name,s_is_flags:this.searchkeys.s_is_flags,s_status:this.searchkeys.s_status,pageIndex:String(this.pageIndex),pageSize:this.pageSize};a.a.getPageList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=e.combineCell(e.relateFstatus(t.data.list)),e.total=Number(t.data.nums)})},combineCell:function(e){for(var t in e[0])for(var s=0;s<e.length;){e[s][t+"Span"]=1,e[s][t+"Dis"]=!1;for(var a=s+1;a<=e.length-1&&(e[s][t]==e[a][t]&&""!=e[s][t]);a++)e[s][t+"Span"]++,e[s][t+"Dis"]=!1,e[a][t+"Span"]=1,e[a][t+"Dis"]=!0;s=a}return e},setStatus:function(e,t){var s=this,r={e_type:this.editPage.e_type,e_authority_id:e,e_status:"1"==t?"2":"1"};a.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void s.$message(e.retinfo);s.$message("成功！"),s.showList()})},Add:function(){this.addPage.c_name="",this.addPage.c_desc="",this.addPage.c_access_flags="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.editPage.e_authority_id=String(t.Fauthority_id),this.editPage.e_name=t.Fname,this.editPage.e_desc=t.Fdesc,this.editPage.e_pid=t.Fmodule_id,console.log(this.editPage.e_pid),this.editPage.e_access_flags=t.Faccess_flags,this.editPage.e_system_id=t.Fsystem_id,this.editDialog=!0},search:function(){this.searchkeys.s_page_name=r.a.Trim(this.searchkeys.s_page_name),this.currentPage=1,this.pageIndex="0",this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.searchkeys.s_is_flags="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.addPage.c_name=r.a.Trim(this.addPage.c_name),this.addPage.c_desc=r.a.Trim(this.addPage.c_desc),this.addPage.c_access_flags=r.a.Trim(this.addPage.c_access_flags),this.addPage.c_system_id=this.addPage.c_system_id,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.addAuth(t.addPage).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.editPage.e_name=r.a.Trim(this.editPage.e_name),this.editPage.e_desc=r.a.Trim(this.editPage.e_desc),this.addPage.e_access_flags=r.a.Trim(this.addPage.e_access_flags),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.a.editAuth(t.editPage).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var s=this,a={title:"1"==t?"禁用":"启用"},r=this.$createElement;a.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该页面中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该模块中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该页面中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(a.content,a.title,{}).then(function(){s.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},xfJu:function(e,t,s){"use strict";function a(e){s("4ZDw")}var r=s("D6xi"),i=s("PR8Q"),l=s("/Xao"),n=a,o=l(r.a,i.a,!1,n,"data-v-2c6813b4",null);t.a=o.exports},y0ef:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("工号 / 列表")]),e._v(" "),s("el-form",{attrs:{inline:!0,model:e.filters}},[s("el-form-item",[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按工号/姓名/电话搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add_employee"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{prop:"strUserNum",label:"工号ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strCardNum",label:"身份证"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strUserTel",label:"手机号码"}}),e._v(" "),s("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.editEmployee(t.row.strUserId)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(s){e.setEmployee(t.row.strUserId,0)}}},[e._v("禁用")]),e._v(" "),s("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(s){e.setEmployee(t.row.strUserId,1)}}},[e._v("启用")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},yWF9:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("D列表")]),e._v(" "),s("el-form",{ref:"searchkeys",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.searchkeys}},[s("el-row",{attrs:{gutter:14}},[s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("组织身份：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strLevelCode"}},[s("el-checkbox-group",{model:{value:e.searchkeys.strLevelCode,callback:function(t){e.$set(e.searchkeys,"strLevelCode",t)},expression:"searchkeys.strLevelCode"}},[s("el-checkbox",{attrs:{label:"D1"}}),e._v(" "),s("el-checkbox",{attrs:{label:"D2"}}),e._v(" "),s("el-checkbox",{attrs:{label:"D3"}}),e._v(" "),s("el-checkbox",{attrs:{label:"D4"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strStatus"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.strStatus,callback:function(t){e.$set(e.searchkeys,"strStatus",t)},expression:"searchkeys.strStatus"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusList,function(e){return s("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})})],2)],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("姓名：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strDUserName"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strDUserName,callback:function(t){e.$set(e.searchkeys,"strDUserName",t)},expression:"searchkeys.strDUserName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("手机号：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strPhoneNum"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入手机号"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strPhoneNum,callback:function(t){e.$set(e.searchkeys,"strPhoneNum",t)},expression:"searchkeys.strPhoneNum"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v("身份证号码：")]),e._v(" "),s("el-form-item",{attrs:{prop:"strCardNum"}},[s("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入身份证号码"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strCardNum,callback:function(t){e.$set(e.searchkeys,"strCardNum",t)},expression:"searchkeys.strCardNum"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),s("el-form-item",{staticClass:"textRight"},[s("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),s("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"tool"},[s("router-link",{attrs:{to:"add"}},[s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建D用户")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[s("el-table-column",{attrs:{label:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t    \t\t"+e._s(t.row.strPrefixUserId)+"\r\n\t        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strPhoneNum",label:"手机号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strCardNum",label:"身份证号码"}}),e._v(" "),s("el-table-column",{attrs:{prop:"strLevelNames",label:"组织身份"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?s("span",[e._v("待审核")]):"2"==t.row.strStatus?s("span",[e._v("资料不全")]):"3"==t.row.strStatus?s("span",[e._v("合作中")]):"4"==t.row.strStatus?s("span",[e._v("暂停合作")]):"5"==t.row.strStatus?s("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.detailD(t.row.strUserId)}}},[e._v("详情")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.editD(t.row.strUserId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:a,staticRenderFns:r};t.a=i},yueM:function(e,t,s){e.exports=s.p+"other/channelCenter/img/sunrise.51b045b.png"}},[0]);