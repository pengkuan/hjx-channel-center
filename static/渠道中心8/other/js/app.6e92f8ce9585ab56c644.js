webpackJsonp([2],{"+bRA":function(e,t,a){"use strict";function s(e){a("OE4L")}var r=a("RM5e"),i=a("geQ2"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-20caf440",null);t.a=o.exports},"+rKZ":function(e,t,a){"use strict";function s(e){a("gapc")}var r=a("VGMo"),i=a("B5V+"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-06524353",null);t.a=o.exports},"/Ngk":function(e,t){},"/Yd+":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v(" BD管理 > 创建BD用户")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",id:"loading-area"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[a("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证正面：",prop:"strCardPicFront"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证背面：",prop:"strCardPicBack"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"上传头像：",prop:"strHeadPic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")]),e._v(" "),a("el-checkbox",{model:{value:e.setIdentity,callback:function(t){e.setIdentity=t},expression:"setIdentity"}},[e._v("【确认创建】后，去设置该用户的组织身份")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},0:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},"0H7l":function(e,t){},"1L7g":function(e,t,a){"use strict";function s(e){a("96SG")}var r=a("C27U"),i=a("/Yd+"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"1LdZ":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 编辑")]),e._v(" "),a("div",{},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{staticClass:"channelInfo",attrs:{label:"商家信息"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px",rules:e.rules}},[a("el-form-item",{attrs:{label:"渠道关系模型："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.strLevelId,callback:function(t){e.$set(e.form,"strLevelId",t)},expression:"form.strLevelId"}},e._l(e.channelTemplateList,function(e){return a("el-option",{key:e.strTemplateId,attrs:{label:e.strTemplateName,value:e.strTemplateId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"商户全称：",prop:"strFullName"}},[a("el-input",{attrs:{placeholder:"请输入合同乙方全称"},model:{value:e.form.strFullName,callback:function(t){e.$set(e.form,"strFullName",t)},expression:"form.strFullName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属品牌商/合作方："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strPartner_id,callback:function(t){e.$set(e.form,"strPartner_id",t)},expression:"form.strPartner_id"}},e._l(e.partnerList,function(e){return a("el-option",{key:e.strPartnerId,attrs:{label:e.strPartnerName,value:e.strPartnerId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"门店地址："}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_province_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.form.strAddr_province_id,callback:function(t){e.$set(e.form,"strAddr_province_id",t)},expression:"form.strAddr_province_id"}},e._l(e.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_city_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.form.strAddr_city_id,callback:function(t){e.$set(e.form,"strAddr_city_id",t)},expression:"form.strAddr_city_id"}},e._l(e.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_area_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.form.strAddr_area_id,callback:function(t){e.$set(e.form,"strAddr_area_id",t)},expression:"form.strAddr_area_id"}},e._l(e.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strDetailAddress"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.strDetailAddress,callback:function(t){e.$set(e.form,"strDetailAddress",t)},expression:"form.strDetailAddress"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照号码：",prop:"strLicense_num"}},[a("el-input",{attrs:{placeholder:"请输入商户营业执照号码",disabled:""},model:{value:e.form.strLicense_num,callback:function(t){e.$set(e.form,"strLicense_num",t)},expression:"form.strLicense_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号前缀：",prop:"strPrefix_str"}},[a("el-input",{attrs:{placeholder:"2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)"},model:{value:e.form.strPrefix_str,callback:function(t){e.$set(e.form,"strPrefix_str",t)},expression:"form.strPrefix_str"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"S4："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strConnection_info,callback:function(t){e.$set(e.form,"strConnection_info",t)},expression:"form.strConnection_info"}},e._l(e.channelUserList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"月手机销量："}},[a("el-input",{model:{value:e.form.strMonth_sales,callback:function(t){e.$set(e.form,"strMonth_sales",t)},expression:"form.strMonth_sales"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户等级："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strScore,callback:function(t){e.$set(e.form,"strScore",t)},expression:"form.strScore"}},[a("el-option",{attrs:{label:"A",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"B",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"C",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"D",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"估价模型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strValuationId,callback:function(t){e.$set(e.form,"strValuationId",t)},expression:"form.strValuationId"}},[a("el-option",{attrs:{label:"2B估价模型",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道分成："}},[a("el-form-item",{attrs:{label:"分成比例（%）：",prop:"strPercent"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.strPercent,callback:function(t){e.$set(e.form,"strPercent",t)},expression:"form.strPercent"}})],1)],1),e._v(" "),a("div",{staticStyle:{height:"16px"}}),e._v(" "),a("el-form-item",{attrs:{label:"苹果机型封顶（元）：",prop:"strApplyMax"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.strApplyMax,callback:function(t){e.$set(e.form,"strApplyMax",t)},expression:"form.strApplyMax"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"店员激励："}},[a("el-button",{attrs:{type:"primary",size:"small"},model:{value:e.form.strShopAwardId,callback:function(t){e.$set(e.form,"strShopAwardId",t)},expression:"form.strShopAwardId"}},[e._v("+设置店员激励方案")])],1),e._v(" "),a("el-form-item",{attrs:{label:"付款模式："}},[a("el-select",{attrs:{placeholder:"请请选择付款模式"},model:{value:e.form.strPayMethodId,callback:function(t){e.$set(e.form,"strPayMethodId",t)},expression:"form.strPayMethodId"}},[a("el-option",{attrs:{label:"预付",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"垫付",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"店员/用户APP："}},[a("el-checkbox-group",{model:{value:e.form.selfFunction,callback:function(t){e.$set(e.form,"selfFunction",t)},expression:"form.selfFunction"}},[a("el-checkbox",{attrs:{label:"收集用户信息"}}),e._v(" "),a("el-checkbox",{attrs:{label:"环保回收"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("form")}}},[e._v("立即更新")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"门店列表"}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店ID"},model:{value:e.filters.strStoreId,callback:function(t){e.$set(e.filters,"strStoreId",t)},expression:"filters.strStoreId"}})],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店名称"},model:{value:e.filters.strStoreName,callback:function(t){e.$set(e.filters,"strStoreName",t)},expression:"filters.strStoreName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add_store"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"门店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strProvinceName",label:"门店地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                        "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\r\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"渠道商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelManagerName",label:"渠道经理"}}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                        "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.editStore(t.row.strStoreId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.disableStore(t.row.strStoreId)}}},[e._v("禁用")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.enableStore(t.row.strStoreId)}}},[e._v("启用")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"产品价格配置"}})],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"1PzW":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部D > 详情")]),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editD(e.strUserId)}}},[e._v("编辑D")]),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号详情"}},[a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicFront}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicBack}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strHeadPic}})]),e._v(" "),a("p",[e._v("2.数据范围")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.ruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelName",label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t            "+e._s(t.row.strUserName+" / "+t.row.strPhoneNum)+"\n\t\t\t\t\t\t        ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.ruleForm.saleareaList,function(t){return a("div",[e._v("\n\t\t\t\t    \t\t"+e._s(t)+"\n\t\t\t\t    \t")])})),e._v(" "),a("p",[e._v("3.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatName))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatOpenId))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信头像："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strAccountInfoId))])]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"负责门店"}},[a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"所属商户"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\n\t\t\t\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):"5"==t.row.strStatus?a("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"生效时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUpdateTime",label:"截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.storeDetail(t.row.strStoreId)}}},[e._v("详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"1R4y":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],systemList:[],enableSystemList:[],moduleList:{Search:[],Add:[],Edit:[]},pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getAddModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},addPage:{c_system_id:"",c_access_flags:"",c_pid:"",c_type:"2",c_desc:"",c_name:""},editPage:{e_authority_id:"",e_system_id:"",e_access_flags:"",e_pid:"",e_type:"2",e_desc:"",e_name:""},rules:{c_system_id:[{required:!0,message:"请选择所属系统"}],c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_system_id:[{required:!0,message:"请选择所属系统"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModule(e,"Search")},"addPage.c_system_id":function(e,t){this.addPage.c_pid="",this.moduleList.Add=[],this.getSystemModule(e,"Add")},"editPage.e_system_id":function(e,t){this.moduleList.Edit=[],this.getSystemModule(e,"Edit")}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){var e=this,t={pageSize:"100"};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list,e.enableSystemList=e.getEnableList(t.data.list)})},relateFstatus:function(e){for(var t in e)"1"==e[t].system_status&&"1"==e[t].Fmodule_status||(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var a in e)"1"!=e[a].status&&"1"!=e[a].Fstatus||t.push(e[a]);return t},getSystemModule:function(e,t){var a=this;this["get"+t+"Module"].s_system_id=e,s.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.moduleList[t]="Search"==t?a.handleModuleList(e.data.list):a.getEnableList(a.handleModuleList(e.data.list))})},handleModuleList:function(e){var t=[];for(var a in e){var s=e[a].system_module_list;for(var r in s)t.push(s[r])}return t},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_id:this.searchkeys.s_module_id,s_page_name:this.searchkeys.s_page_name,s_is_flags:this.searchkeys.s_is_flags,s_status:this.searchkeys.s_status,pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getPageList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=e.combineCell(e.relateFstatus(t.data.list)),e.total=Number(t.data.nums)})},combineCell:function(e){for(var t in e[0])for(var a=0;a<e.length;){e[a][t+"Span"]=1,e[a][t+"Dis"]=!1;for(var s=a+1;s<=e.length-1&&(e[a][t]==e[s][t]&&""!=e[a][t]);s++)e[a][t+"Span"]++,e[a][t+"Dis"]=!1,e[s][t+"Span"]=1,e[s][t+"Dis"]=!0;a=s}return e},setStatus:function(e,t){var a=this,r={e_type:this.editPage.e_type,e_authority_id:e,e_status:"1"==t?"2":"1"};s.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},Add:function(){this.addPage.c_name="",this.addPage.c_desc="",this.addPage.c_access_flags="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.editPage.e_authority_id=String(t.Fauthority_id),this.editPage.e_name=t.Fname,this.editPage.e_desc=t.Fdesc,this.editPage.e_pid=t.Fmodule_id,console.log(this.editPage.e_pid),this.editPage.e_access_flags=t.Faccess_flags,this.editPage.e_system_id=t.Fsystem_id,this.editDialog=!0},search:function(){this.searchkeys.s_page_name=r.a.Trim(this.searchkeys.s_page_name),this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.searchkeys.s_is_flags="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.addPage.c_name=r.a.Trim(this.addPage.c_name),this.addPage.c_desc=r.a.Trim(this.addPage.c_desc),this.addPage.c_access_flags=r.a.Trim(this.addPage.c_access_flags),this.addPage.c_system_id=this.addPage.c_system_id,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addAuth(t.addPage).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.editPage.e_name=r.a.Trim(this.editPage.e_name),this.editPage.e_desc=r.a.Trim(this.editPage.e_desc),this.addPage.e_access_flags=r.a.Trim(this.addPage.e_access_flags),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editAuth(t.editPage).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该页面中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该模块中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该页面中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},"1ZgM":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("工号 / 列表")]),e._v(" "),a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按工号/姓名/电话搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add_employee"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strUserNum",label:"工号ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strCardNum",label:"身份证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUserTel",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.editEmployee(t.row.strUserId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setEmployee(t.row.strUserId,0)}}},[e._v("禁用")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.setEmployee(t.row.strUserId,1)}}},[e._v("启用")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},"1mfD":function(e,t){},"2qbl":function(e,t,a){"use strict";function s(e){a("ELXV")}var r=a("4G05"),i=a("1LdZ"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"3AN7":function(e,t,a){"use strict";function s(e){a("mYVh")}var r=a("vyHH"),i=a("8PIL"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},"4Bu1":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{id:"",statusList:[{statusName:"正常",statusId:"1"},{statusName:"停用",statusId:"0"}],strUserNum:"",S4_list:"",S3_list:"",S2_list:"",relationInfo:[],ruleForm:{strUserId:"",strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strUserTel:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){this.getEmployeeId(),this.loadInfo()},methods:{getEmployeeId:function(){this.ruleForm.strUserId=this.$route.query.id},cancelnow:function(){this.$router.push({path:"/channel/employee"})},loadInfo:function(){var e=this;s.a.getEmployeeInfo({strUserId:this.ruleForm.strUserId}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data;e.strUserNum=a.strUserNum,e.ruleForm.strStatus=a.strStatus,e.ruleForm.strUserName=a.strUserName,e.ruleForm.strUserTel=a.strUserTel,e.ruleForm.strCardNum=a.strCardNum,e.ruleForm.strEmail=a.strEmail,e.relationInfo=a.relationInfo;for(var s in e.relationInfo)"REL002"==e.relationInfo[s].strRelationCode&&(e.S4_list+=e.relationInfo[s].strRelationNmae+"    "),"REL003"==e.relationInfo[s].strRelationCode&&(e.S3_list+=e.relationInfo[s].strRelationNmae+"    "),"REL004"==e.relationInfo[s].strRelationCode&&(e.S2_list+=e.relationInfo[s].strRelationNmae+"    ")})},submitnow:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editEmployeeLogic(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),a.$router.push({path:"/channel/employee"})})})}}}},"4G05":function(e,t,a){"use strict";var s=a("bOdI"),r=a.n(s),i=a("P9l9"),l=a("s0MJ"),n=a("uJvA");t.a={data:function(){var e,t=function(e,t,a){/^(([a-zA-Z]{2})|([a-zA-Z]{4}))\d{2,4}$/g.test(t)||a(new Error("请输入正确工号（2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)）")),a()};return e={addS3Item:{},provinceChange:!1,cityChange:!1,form:{strShareId:"",strLevelId:"",strFullName:"",strPartner_id:"",strSecond_channel:"",strAddr_province_id:"",strAddr_city_id:"",strAddr_area_id:"",strDetailAddress:"",strSale_addr:"",strStatus:"1",strLicense_num:"",strPrefix_str:"",strConnection_info:"",strMonth_sales:"",strChannelPic:"",strScore:"1",strValuationId:"",strPercent:"",strApplyMax:"",strShopAwardId:"0",strPayMethodId:"",selfFunction:[],strGreen_recycle:"0",strGather_userInfo:"0",strChannelId:""},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},channelTemplateList:[],partnerList:[],provinces:n.a.addrList,citys:[],areas:[]},r()(e,"partnerList",[]),r()(e,"saleAdds",{provinces:n.a.addrList,citys:[],areas:[]}),r()(e,"addSaleList",[]),r()(e,"channelUserList",[]),r()(e,"defaultDate",""),r()(e,"rules",{strAddr_province_id:[{required:!0,message:"请选择省份",trigger:"change"}],strAddr_city_id:[{required:!0,message:"请选择城市",trigger:"change"}],strAddr_area_id:[{required:!0,message:"请选择区域",trigger:"change"}],strDetailAddress:[{required:!0,validator:l.a.validateAddr,trigger:"blur"}],strFullName:[{required:!0,validator:l.a.validateName,trigger:"blur"}],strLicense_num:[{required:!0,validator:l.a.validateLicenseNum,trigger:"blur"}],strPrefix_str:[{required:!0,validator:t,trigger:"blur"}],strPercent:[{required:!0,message:"请填写分成比例",trigger:"blur"}],strApplyMax:[{required:!0,message:"请填写封顶金额",trigger:"blur"}]}),r()(e,"dataList",[]),r()(e,"pageIndex","0"),r()(e,"pageSize","10"),r()(e,"currentPage4",1),r()(e,"total",0),r()(e,"filters",{strStoreId:"",strStoreName:""}),e},watch:{"form.strAddr_province_id":function(e,t){this.form.strAddr_city_id="",this.getCitys(e,this.provinceChange),this.provinceChange=!0},"form.strAddr_city_id":function(e){this.form.strAddr_area_id="",this.getAreas(e,this.cityChange),this.cityChange=!0},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],!1,"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],!1,"sale")}},mounted:function(){this.getChannelId(),this.getDefaultDate(this.form.strChannelId),this.showList()},methods:{getChannelId:function(){this.form.strChannelId=this.$route.query.id},submitnow:function(e){var t=this,a=this;for(var s in this.form.selfFunction)"收集用户信息"==this.form.selfFunction[s]&&(this.form.strGather_userInfo="1"),"环保回收"==this.form.selfFunction[s]&&(this.form.strGreen_recycle="1");var r=[];for(var s in this.addSaleList)r.push(this.addSaleList[s].saleId);this.form.strSale_addr=r,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;i.a.addChannelLogic(t.form).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("成功！"),a.$router.push({path:"/channel/index"})})})},loadInfo:function(){var e=this;0==n.a.addrList.length?i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);n.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address,e.form.strAddr_province_id=e.defaultDate.strAddrProvinceId}):this.form.strAddr_province_id=this.defaultDate.strAddrProvinceId,i.a.getChannelTemplate({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.channelTemplateList=t.data.channelTemplateList,e.form.strLevelId=e.defaultDate.strLevelId}),i.a.getPartner({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.partnerList=t.data.partnerList,e.form.strPartner_id=e.defaultDate.strPartnerId}),i.a.getAllS1({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.channelUserList=t.data.listUsers,e.channelUserList.push({strUserName:"无",strUserTel:"",strUserId:"0"}),e.addS3Item.strUserId&&(e.channelUserList.push(e.addS3Item),e.form.strConnection_info=e.addS3Item.strUserId),e.form.strConnection_info=e.defaultDate.strS3Id})},getDefaultDate:function(e){var t=this;i.a.getChannelInfo({channelId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.defaultDate=e.data,t.addS3Item={strUserName:t.defaultDate.strS3Name,strUserTel:t.defaultDate.strS3Phone,strUserId:t.defaultDate.strS3Id},t.form.strShareId=t.defaultDate.strShareId,t.form.strFullName=t.defaultDate.strChannelName,t.form.strLicense_num=t.defaultDate.strLicenseNum,t.form.strPrefix_str=t.defaultDate.strPrefix,t.form.strMonth_sales=t.defaultDate.strMonthSales,t.form.strPercent=t.defaultDate.strSharePercent,t.form.strApplyMax=t.defaultDate.strAppleMax,t.form.strDetailAddress=t.defaultDate.strAddress,t.form.strSecond_channel=t.defaultDate.strSecondChannel,t.form.strValuationId=t.defaultDate.strPlatformTypeId,t.form.strPayMethodId=t.defaultDate.strPayId,"1"==t.defaultDate.strIsCollect&&t.form.selfFunction.push("收集用户信息"),"1"==t.defaultDate.strIsRecycle&&t.form.selfFunction.push("环保回收");var a=t.defaultDate.saleAreaList;for(var s in a){a[s].addr_province_name||(a[s].addr_province_name="全部"),a[s].addr_city_name||(a[s].addr_city_name="全部"),a[s].addr_area_name||(a[s].addr_area_name="全部");var r=a[s].addr_province_name+" "+a[s].addr_city_name+" "+a[s].addr_area_name,i={addr_province_id:a[s].addr_province_id,addr_city_id:a[s].addr_city_id,addr_area_id:a[s].addr_area_id};t.addSaleList.push({saleName:r,saleId:i})}}).then(function(e){t.loadInfo()})},getCitys:function(e,t,a){if("sale"!=a)for(var s in this.provinces)this.provinces[s].strProvinceId==e&&(this.citys=this.provinces[s].citys,t||(this.form.strAddr_city_id=this.defaultDate.strAddrCityId));else{var r=this.saleAdds.provinces;for(var s in r)r[s].strProvinceId==e&&(this.saleAdds.citys=r[s].citys)}},getAreas:function(e,t,a){if("sale"==a){var s=this.saleAdds.citys;for(var r in s)s[r].strCityId==e&&(this.saleAdds.areas=s[r].areas)}else for(var r in this.citys)this.citys[r].strCityId==e&&(this.areas=this.citys[r].areas,t||(this.form.strAddr_area_id=this.defaultDate.strAddrAreaId))},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",s={saleName:e+" / "+t+" / "+a,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==s.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==s.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==s.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");this.addSaleList.push(s)},delSaleAddr:function(e){this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/index"})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters,strChannelId:this.form.strChannelId};i.a.getChannelStoreList(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.dataList=t.data.list,e.dataList.forEach(function(t){t.strChannelName=e.form.strFullName}),e.total=t.data.nums})},editStore:function(e){this.$router.push({name:"editStore",query:{id:e}})},disableStore:function(e){var t=this;i.a.disableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message({message:"禁用成功",type:"success"}),t.showList()})},enableStore:function(e){var t=this;i.a.enableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message({message:"启用成功",type:"success"}),t.showList()})},search:function(){this.showList()}}}},"4SBr":function(e,t){},"4jpc":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部Dealer > 创建Dealer")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("返回dealer")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[a("el-input",{attrs:{placeholder:"请输入公司全称"},model:{value:e.ruleForm.dealer.strDealerName,callback:function(t){e.$set(e.ruleForm.dealer,"strDealerName",t)},expression:"ruleForm.dealer.strDealerName"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"公司地址："}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrProvinceId",t)},expression:"ruleForm.dealer.strAddrProvinceId"}},e._l(e.dealer.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrCityId",t)},expression:"ruleForm.dealer.strAddrCityId"}},e._l(e.dealer.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrAreaId",t)},expression:"ruleForm.dealer.strAddrAreaId"}},e._l(e.dealer.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"dealer.strAddress"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.dealer.strAddress,callback:function(t){e.$set(e.ruleForm.dealer,"strAddress",t)},expression:"ruleForm.dealer.strAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入15或18位营业执照号"},model:{value:e.ruleForm.dealer.strLicenseNum,callback:function(t){e.$set(e.ruleForm.dealer,"strLicenseNum",t)},expression:"ruleForm.dealer.strLicenseNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"三证照片："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("p",[e._v("2.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[a("el-input",{attrs:{type:e.number,maxlength:30,placeholder:"请输入10~30位银行卡号"},model:{value:e.ruleForm.dealer.account_bank.strAccountNum,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountNum",t)},expression:"ruleForm.dealer.account_bank.strAccountNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[a("el-input",{attrs:{placeholder:"请输入开户名"},model:{value:e.ruleForm.dealer.account_bank.strAccountName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountName",t)},expression:"ruleForm.dealer.account_bank.strAccountName"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"开户地址："}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.account_bank.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrProvinceId",t)},expression:"ruleForm.dealer.account_bank.strAddrProvinceId"}},e._l(e.bankAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.account_bank.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrCityId",t)},expression:"ruleForm.dealer.account_bank.strAddrCityId"}},e._l(e.bankAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.account_bank.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrAreaId",t)},expression:"ruleForm.dealer.account_bank.strAddrAreaId"}},e._l(e.bankAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.ruleForm.dealer.account_bank.strBankId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBankId",t)},expression:"ruleForm.dealer.account_bank.strBankId"}},e._l(e.bankList,function(e){return a("el-option",{key:e.strId,attrs:{label:e.strName,value:e.strId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[a("el-input",{attrs:{placeholder:"请输入支行名称"},model:{value:e.ruleForm.dealer.account_bank.strBranchName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBranchName",t)},expression:"ruleForm.dealer.account_bank.strBranchName"}})],1),e._v(" "),a("p",[e._v("3.合作信息")]),e._v(" "),a("el-form-item",{attrs:{label:"合同有效时间：",prop:"dateRange"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{"default-value":e.ruleForm.dateRange,"range-separator":" ~ ",type:"daterange",clearable:!1,placeholder:"选择日期范围"},model:{value:e.ruleForm.dateRange,callback:function(t){e.$set(e.ruleForm,"dateRange",t)},expression:"ruleForm.dateRange"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"合作协议照片："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"53oo":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,searchkey:this.filters.searchkey};s.a.getTemplateList(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.dataList=t.data.channelTemplates,e.total=Number(t.data.total)})},edit:function(e){this.$router.push({name:"editTemplate",query:{id:e}})},upchnn:function(e){var t=this,a={id:e};s.a.upChannelTemplate(a).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("启用成功"),t.showList()})},delchnn:function(e){var t=this,a={id:e};s.a.delChannelTemplate(a).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("禁用成功"),t.showList()})},search:function(){this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.showList()},clearForm:function(){this.filters.searchkey="",this.showList()}},mounted:function(){this.showList()}}},"5ILp":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部Dealer > 详情")]),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editDealer(e.dealerid)}}},[e._v("编辑Dealer")]),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Dealer详情"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strDealerName))])]),e._v(" "),a("el-form-item",{attrs:{label:"公司地址：",prop:"dealer.strAddress"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strLicenseNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"三证照片："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.dealer.strLicensePic}})]),e._v(" "),a("p",[e._v("2.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAccountNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAccountName))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户地址："}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strBankName))])]),e._v(" "),a("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.account_bank.strBranchName))])]),e._v(" "),a("p",[e._v("3.合作信息")]),e._v(" "),a("el-form-item",{attrs:{label:"合同生效时间：",prop:"dealer.strContractBeginTime"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strContractBeginTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"合同结束时间：",prop:"dealer.strContractEndTime"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strContractEndTime))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"合作协议照片："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.dealer.strContractPic}})]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态：",prop:"dealer.account_bank.strBankName"}},[a("span",[e._v(e._s(e.ruleForm.dealer.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"D4"}},[e.haveD4?a("div",[e._v("未关联D4")]):a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strCardPicFront}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strCardPicBack}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.DruleForm.baseinfo.strHeadPic}})]),e._v(" "),a("p",[e._v("2.数据范围")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.DruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelName",label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                    "+e._s(t.row.strUserName+" / "+t.row.strPhoneNum)+"\n                                ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.DruleForm.saleareaList,function(t){return a("div",[e._v("\n                            "+e._s(t.strProvinceName+t.strCityName+t.strAreaName)+"\n                        ")])})),e._v(" "),a("p",[e._v("3.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[a("span",[e._v(e._s(e.DruleForm.accountInfo.strWechatName))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[a("span",[e._v(e._s(e.DruleForm.accountInfo.strWechatOpenId))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信头像："}},[a("span",[e._v(e._s(e.DruleForm.accountInfo.strAccountInfoId))])]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.DruleForm.baseinfo.strStatusName))])])],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"5JzA":function(e,t,a){"use strict";a("P9l9");t.a={data:function(){return{currentDate:new Date,chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},mounted:function(){},methods:{}}},"5Sby":function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),i=a("P9l9");a("s0MJ");t.a={data:function(){return{id:"",dialogTableVisible:!1,list:[],dict:{},roles:[],index:0,searchkey:"",currentFroles:[]}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.id=this.$route.query.id},loadInfo:function(){var e=this;i.a.editChannelTemplateJsInfo({id:this.id}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);var a=[];a=t.data.template,e.roles=t.data.roles;for(var s=a.length-1;s>=0;s--){for(var r="",i=a[s].strListRoles.length-1;i>=0;i--)a[s].strListRoles[i].strDisplay="","False"==a[s].strListRoles[i].strSelect?a[s].strListRoles[i].strSelect=!1:(a[s].strListRoles[i].strSelect=!0,r=r+a[s].strListRoles[i].strRoleName+" ");a[s].showRoles=r}e.list=a;for(var s=e.list.length-1;s>=0;s--){e.dict=e.list[s];break}})},removeTodo:function(e){this.list.splice(e,1)},addone:function(){var e=[];e=this.roles;var t={strTemplateName:"",strLevel:"",showRoles:"",strListRoles:e,strTemplateId:"",strPid:"",strLevelId:"",strLevelName:"",strLevelDesc:"",strUpdateTime:"",strTemplateDesc:"",strStatus:"",strCreateTime:""};this.list.push(t)},setindex:function(e){this.dialogTableVisible=!0,this.index=e,this.currentFroles=this.list[e].strListRoles},setselect:function(){this.list[this.index].strListRoles=this.currentFroles;for(var e="",t=this.list[this.index].strListRoles.length-1;t>=0;t--)this.list[this.index].strListRoles[t].strSelect&&(e=e+this.list[this.index].strListRoles[t].strRoleName+" ");this.list[this.index].showRoles=e,this.dialogTableVisible=!1},cancelnow:function(){window.history.back()},searchrole:function(){for(var e=this.currentFroles.length-1;e>=0;e--){var t=this.searchkey;if(""!=t){var a=this.currentFroles[e].strRoleName;void 0!=a&&(a.indexOf(t)>=0?this.currentFroles[e].strDisplay="":void 0!=(a=this.currentFroles[e].strRoleDesc)&&(a.indexOf(t)>=0?this.currentFroles[e].strDisplay="":this.currentFroles[e].strDisplay="none"))}else this.currentFroles[e].strDisplay=""}},submitnow:function(){var e=this;if(!this.dict.strTemplateName)return void this.$layer.alert("请输入模板名称");if(!this.dict.strTemplateDesc)return void this.$layer.alert("请输入模板描述");for(var t=this.list.length-1;t>=0;t--){if(""==this.list[t].strLevelName)return void this.$layer.alert("请输入层级名称");this.list[t].strLevelName=this.list[t].strLevelName,this.list[t].strLevel=this.list[t].strLevel,this.list[t].strLevelDesc=this.list[t].strLevelDesc,this.list[t].strTemplateDesc=this.dict.strTemplateDesc,this.list[t].strTemplateName=this.dict.strTemplateName,this.list[t].strTemplateId=this.dict.strTemplateId}var a={data:r()(this.list)};i.a.editTemplateLogic(a).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.$message("成功！"),e.$router.push({path:"/channel/template"})})}}}},"5y3/":function(e,t){},"6oxs":function(e,t){},"78pc":function(e,t){},"7m2b":function(e,t){},"8OQP":function(e,t,a){"use strict";var s=a("KB1j"),r=a("1ZgM"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},"8PIL":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("分类管理")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"user"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回角色管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addCateRole()}}},[e._v("新增分类")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"Fname",label:"分类名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Fdesc",label:"分类描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.Fstatus?a("span",[e._v("启用")]):"2"==t.row.Fstatus?a("span",[e._v("禁用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.Fstatus?a("div",[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.Fcate_id,t.row.Fstatus)}}},[e._v("禁用")])],1):a("div",[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.Fcate_id,t.row.Fstatus)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"handelAddCateRole",attrs:{model:e.handelAddCateRole,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"c_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入分类名称"},model:{value:e.handelAddCateRole.c_name,callback:function(t){e.$set(e.handelAddCateRole,"c_name",t)},expression:"handelAddCateRole.c_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入分类描述"},model:{value:e.handelAddCateRole.c_desc,callback:function(t){e.$set(e.handelAddCateRole,"c_desc",t)},expression:"handelAddCateRole.c_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddCateRole")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"handelEditCateRole",attrs:{model:e.handelEditCateRole,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"e_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入分类名称"},model:{value:e.handelEditCateRole.e_name,callback:function(t){e.$set(e.handelEditCateRole,"e_name",t)},expression:"handelEditCateRole.e_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入分类描述"},model:{value:e.handelEditCateRole.e_desc,callback:function(t){e.$set(e.handelEditCateRole,"e_desc",t)},expression:"handelEditCateRole.e_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditCateRole")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},"92T6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部BD > 编辑")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[a("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号",disabled:""},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证正面："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证背面："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"上传头像："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("p",[e._v("2.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return a("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"96SG":function(e,t){},Aawm:function(e,t,a){"use strict";var s=a("oB18"),r=a("1PzW"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},"B5V+":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("D管理 > 创建D用户")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",id:"loading-area"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[a("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证正面：",prop:"strCardPicFront"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证背面：",prop:"strCardPicBack"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"上传头像：",prop:"strHeadPic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.submitnow("ruleForm",!0)}}},[e._v("确认并继续创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")]),e._v(" "),a("el-checkbox",{model:{value:e.setIdentity,callback:function(t){e.setIdentity=t},expression:"setIdentity"}},[e._v("【确认创建】后，去设置该用户的组织身份")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},B9rx:function(e,t,a){"use strict";var s=a("P9l9");a("s0MJ");t.a={data:function(){return{ifD4:!0,D4Name:"",D4Tel:"",Dlist:[],ruleForm:{did:"",dealerid:""},rules:{did:[{required:!0,message:"请选择D4",trigger:"change"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.dealerid=this.$route.query.id,this.ifD4=this.$route.query.ifD4},loadInfo:function(){var e=this;s.a.getWillRelateD4({dealerid:this.ruleForm.dealerid}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data;console.log(a.currentD4),a.currentD4.strUserId?(e.D4Name=a.currentD4.strUserName,e.D4Tel=a.currentD4.strPhoneNum):(e.Dlist=a.listD4.concat(a.listD),e.ifD4=!1)})},submitnow:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.relateD4(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),a.$router.push({path:"/Dealer/index"})})})}}}},BCJo:function(e,t,a){"use strict";var s=a("GZ+B"),r=a("yyCL"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},BOOs:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 新增")]),e._v(" "),a("div",{staticClass:"content-containered"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px",rules:e.rules}},[a("el-form-item",{attrs:{label:"渠道关系模型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strLevelId,callback:function(t){e.$set(e.form,"strLevelId",t)},expression:"form.strLevelId"}},e._l(e.channelTemplateList,function(e){return a("el-option",{key:e.strTemplateId,attrs:{label:e.strTemplateName,value:e.strTemplateId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"商户全称：",prop:"strFullName"}},[a("el-input",{attrs:{placeholder:"请输入合同乙方全称"},model:{value:e.form.strFullName,callback:function(t){e.$set(e.form,"strFullName",t)},expression:"form.strFullName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属品牌商/合作方："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strPartner_id,callback:function(t){e.$set(e.form,"strPartner_id",t)},expression:"form.strPartner_id"}},e._l(e.partnerList,function(e){return a("el-option",{key:e.strPartnerId,attrs:{label:e.strPartnerName,value:e.strPartnerId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"门店地址："}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_province_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.form.strAddr_province_id,callback:function(t){e.$set(e.form,"strAddr_province_id",t)},expression:"form.strAddr_province_id"}},e._l(e.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_city_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.form.strAddr_city_id,callback:function(t){e.$set(e.form,"strAddr_city_id",t)},expression:"form.strAddr_city_id"}},e._l(e.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strAddr_area_id"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.form.strAddr_area_id,callback:function(t){e.$set(e.form,"strAddr_area_id",t)},expression:"form.strAddr_area_id"}},e._l(e.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"strDetailAddress"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.strDetailAddress,callback:function(t){e.$set(e.form,"strDetailAddress",t)},expression:"form.strDetailAddress"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照号码：",prop:"strLicense_num"}},[a("el-input",{attrs:{placeholder:"请输入商户营业执照号码"},model:{value:e.form.strLicense_num,callback:function(t){e.$set(e.form,"strLicense_num",t)},expression:"form.strLicense_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号前缀：",prop:"strPrefix_str"}},[a("el-input",{attrs:{placeholder:"2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)"},model:{value:e.form.strPrefix_str,callback:function(t){e.$set(e.form,"strPrefix_str",t)},expression:"form.strPrefix_str"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"S4："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strConnection_info,callback:function(t){e.$set(e.form,"strConnection_info",t)},expression:"form.strConnection_info"}},e._l(e.channelUserList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"月手机销量："}},[a("el-input",{model:{value:e.form.strMonth_sales,callback:function(t){e.$set(e.form,"strMonth_sales",t)},expression:"form.strMonth_sales"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户等级："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strScore,callback:function(t){e.$set(e.form,"strScore",t)},expression:"form.strScore"}},[a("el-option",{attrs:{label:"A",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"B",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"C",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"D",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"估价模型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.strValuationId,callback:function(t){e.$set(e.form,"strValuationId",t)},expression:"form.strValuationId"}},[a("el-option",{attrs:{label:"2B估价模型",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道分成："}},[a("el-form-item",{attrs:{label:"分成比例（%）：",prop:"strPercent"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.strPercent,callback:function(t){e.$set(e.form,"strPercent",t)},expression:"form.strPercent"}})],1)],1),e._v(" "),a("div",{staticStyle:{height:"16px"}}),e._v(" "),a("el-form-item",{attrs:{label:"苹果机型封顶（元）：",prop:"strApplyMax"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.strApplyMax,callback:function(t){e.$set(e.form,"strApplyMax",t)},expression:"form.strApplyMax"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"店员激励："}},[a("el-button",{attrs:{type:"primary",size:"small"},model:{value:e.form.strShopAwardId,callback:function(t){e.$set(e.form,"strShopAwardId",t)},expression:"form.strShopAwardId"}},[e._v("+设置店员激励方案")])],1),e._v(" "),a("el-form-item",{attrs:{label:"付款模式："}},[a("el-select",{attrs:{placeholder:"请请选择付款模式"},model:{value:e.form.strPayMethodId,callback:function(t){e.$set(e.form,"strPayMethodId",t)},expression:"form.strPayMethodId"}},[a("el-option",{attrs:{label:"预付",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"垫付",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"店员/用户APP："}},[a("el-checkbox-group",{model:{value:e.form.selfFunction,callback:function(t){e.$set(e.form,"selfFunction",t)},expression:"form.selfFunction"}},[a("el-checkbox",{attrs:{label:"收集用户信息"}}),e._v(" "),a("el-checkbox",{attrs:{label:"环保回收"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("form")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},BSLu:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("工号 / 编辑")]),e._v(" "),a("div",{staticClass:"content-container"},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"strUserTel"}},[a("el-input",{attrs:{type:"number",maxlength:11,placeholder:"请输入手机号"},model:{value:e.ruleForm.strUserTel,callback:function(t){e.$set(e.ruleForm,"strUserTel",t)},expression:"ruleForm.strUserTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return a("el-option",{key:e.statusId,attrs:{label:e.statusName,value:e.statusId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属商户："}},[a("el-input",{attrs:{disabled:""},model:{value:e.S4_list,callback:function(t){e.S4_list=t},expression:"S4_list"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"二级子公司："}},[a("el-input",{attrs:{disabled:""},model:{value:e.S3_list,callback:function(t){e.S3_list=t},expression:"S3_list"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在门店："}},[a("el-input",{attrs:{disabled:""},model:{value:e.S2_list,callback:function(t){e.S2_list=t},expression:"S2_list"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店工号："}},[a("el-input",{attrs:{disabled:""},model:{value:e.strUserNum,callback:function(t){e.strUserNum=t},expression:"strUserNum"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},C27U:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,setIdentity:!1,fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:"",strStatus:"3",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){},methods:{test:function(e){console.log(e)},cancelnow:function(){this.$router.push({path:"/BD/index"})},submitnow:function(e,t){var a=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.ruleForm.strUserName=r.a.Trim(a.ruleForm.strUserName),a.ruleForm.validatestrCardNum=r.a.Trim(a.ruleForm.strCardNum);var l=a.$loading({text:"正在提交",target:"#loading-area"});s.a.addBDLogic({bduser:a.ruleForm}).then(function(e){if(l.close(),"0"!=e.ret)return void i.$message(e.retinfo);if(a.$message("成功！"),t||a.setIdentity)if(!t&&a.setIdentity){var s=document.querySelector(".el-menu-item.is-active");r.a.removeClass(s,"is-active"),i.$router.push({path:"/BD/tree"})}else i.$refs.ruleForm.resetFields(),a.imageUrl1="",a.imageUrl2="",a.imageUrl3="";else i.$router.push({path:"/BD/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},DICR:function(e,t,a){"use strict";t.a={name:"app"}},"Du/2":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var s="SET_MENU_LIST"},E1vm:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("页面管理")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_module_id,callback:function(t){e.$set(e.searchkeys,"s_module_id",t)},expression:"searchkeys.s_module_id"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.moduleList.Search,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})})],2)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("权限标识码：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_is_flags,callback:function(t){e.$set(e.searchkeys,"s_is_flags",t)},expression:"searchkeys.s_is_flags"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"为空",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"不为空",value:"2"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("页面名称：")]),e._v(" "),a("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_page_name,callback:function(t){e.$set(e.searchkeys,"s_page_name",t)},expression:"searchkeys.s_page_name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("div",{staticClass:"goSearch "},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.Add()}}},[e._v("新增页面")])],1),e._v(" "),a("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,s){return a("tr",[a("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),a("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Faccess_flags))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[t.upStatus?a("span",[e._v("禁用"),a("br"),a("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?a("span",[e._v("启用")]):a("span",[e._v("禁用")])])]),e._v(" "),a("td",[1==t.Fstatus?a("div",{staticClass:"cell"},[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(s)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"addPage",attrs:{model:e.addPage,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"所属系统：",prop:"c_system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPage.c_system_id,callback:function(t){e.$set(e.addPage,"c_system_id",t)},expression:"addPage.c_system_id"}},e._l(e.enableSystemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模块：",prop:"c_system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPage.c_pid,callback:function(t){e.$set(e.addPage,"c_pid",t)},expression:"addPage.c_pid"}},e._l(e.moduleList.Add,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"页面名称：",prop:"c_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},model:{value:e.addPage.c_name,callback:function(t){e.$set(e.addPage,"c_name",t)},expression:"addPage.c_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.addPage.c_desc,callback:function(t){e.$set(e.addPage,"c_desc",t)},expression:"addPage.c_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查看权限标识码：",prop:"c_access_flags"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入查看权限标识码"},model:{value:e.addPage.c_access_flags,callback:function(t){e.$set(e.addPage,"c_access_flags",t)},expression:"addPage.c_access_flags"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addPage")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"editPage",attrs:{model:e.editPage,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.editPage.e_system_id,callback:function(t){e.$set(e.editPage,"e_system_id",t)},expression:"editPage.e_system_id"}},e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模块：",prop:"e_system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPage.e_pid,callback:function(t){e.$set(e.editPage,"e_pid",t)},expression:"editPage.e_pid"}},e._l(e.moduleList.Edit,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"页面名称：",prop:"e_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},model:{value:e.editPage.e_name,callback:function(t){e.$set(e.editPage,"e_name",t)},expression:"editPage.e_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.editPage.e_desc,callback:function(t){e.$set(e.editPage,"e_desc",t)},expression:"editPage.e_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查看权限标识码：",prop:"e_access_flags"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入查看权限标识码"},model:{value:e.editPage.e_access_flags,callback:function(t){e.$set(e.editPage,"e_access_flags",t)},expression:"editPage.e_access_flags"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editPage")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("页面名称")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"20%"}},[a("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"20%"}},[a("div",{staticClass:"cell"},[e._v("查看权限标识码")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:s,staticRenderFns:r};t.a=i},EHbO:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部Dealer")]),e._v(" "),a("el-form",{ref:"filters",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.filters}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filters.strStatus,callback:function(t){e.$set(e.filters,"strStatus",t)},expression:"filters.strStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"资料不全",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"合作中",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"暂停合作",value:"4"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("公司全称：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strDealerName"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入公司全称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strDealerName,callback:function(t){e.$set(e.filters,"strDealerName",t)},expression:"filters.strDealerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("D4姓名：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strUserName"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入D4姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strUserName,callback:function(t){e.$set(e.filters,"strUserName",t)},expression:"filters.strUserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("p",{staticClass:"searchTitle"},[e._v("地址区域：")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strAddrProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.filters.strAddrProvinceId,callback:function(t){e.$set(e.filters,"strAddrProvinceId",t)},expression:"filters.strAddrProvinceId"}},e._l(e.searchAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strAddrCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.filters.strAddrCityId,callback:function(t){e.$set(e.filters,"strAddrCityId",t)},expression:"filters.strAddrCityId"}},e._l(e.searchAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strAddrAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.filters.strAddrAreaId,callback:function(t){e.$set(e.filters,"strAddrAreaId",t)},expression:"filters.strAddrAreaId"}},e._l(e.searchAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("filters")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建Dealer")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strDealerId",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strDealerName",label:"公司全称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strDealerName",label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName)+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strUserName",label:"D4"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strContractEndTime",label:"合同结束时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.detailDealer(t.row.strDealerId)}}},[e._v("详情")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.editDealer(t.row.strDealerId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.relateD4(t.row.strDealerId,t.row.strUserName)}}},[e._v("关联D4")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},ELXV:function(e,t){},Eulr:function(e,t,a){"use strict";function s(e){a("78pc")}var r=a("l6ec"),i=a("hmTe"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},G8fP:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("新增BD下级")])},r=[],i={render:s,staticRenderFns:r};t.a=i},"GZ+B":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],statusList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{strLevelCode:[],strStatus:"",strDUserName:"",strPhoneNum:"",strCardNum:""}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},addPrefix:function(e){var t=8-e.length,a="d";if(t>0){for(var s=0;s<t;s++)a+="0";return a+e}return e},loadInfo:function(){var e=this;s.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list})},showList:function(){var e=this;this.searchkeys.strDUserName=r.a.Trim(this.searchkeys.strDUserName),this.searchkeys.strPhoneNum=r.a.Trim(this.searchkeys.strPhoneNum),this.searchkeys.strCardNum=r.a.Trim(this.searchkeys.strCardNum);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.searchkeys};s.a.getDList(t).then(function(t){var a=e;if("0"!=t.ret)return void e.$message(t.retinfo);var s=t.data.list;s.forEach(function(e,t,s){e.strPrefixUserId=a.addPrefix(e.strUserId)}),e.dataList=s,e.total=Number(t.data.nums)})},detailD:function(e){this.$router.push({name:"detailD",query:{id:e}})},editD:function(e){this.$router.push({name:"editD",query:{id:e}})},addNext:function(e){this.$router.push({name:"DAddNext",query:{id:e}})},search:function(){this.showList()},clearForm:function(){this.$refs.searchkeys.resetFields(),this.showList()}}}},Gts9:function(e,t,a){"use strict";var s=a("tt00"),r=a("jKwt"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},HWTd:function(e,t,a){"use strict";var s=a("rTWF"),r=a("mSeg"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},HuWt:function(e,t,a){"use strict";var s=a("cpVm"),r=a("46Yf"),i=r(null,s.a,!1,null,null,null);t.a=i.exports},HxPG:function(e,t,a){"use strict";function s(e){a("1mfD")}var r=a("dPLb"),i=a("U/ha"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-6522fc88",null);t.a=o.exports},ILzK:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("新增权限")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"tool textRight"}),e._v(" "),a("el-form",{ref:"addData",attrs:{model:e.addData,rules:e.rules,"label-width":"0"}},[a("el-form-item",[a("el-col",{attrs:{span:5}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_system_id"}},[a("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_system_id,callback:function(t){e.$set(e.addData,"c_system_id",t)},expression:"addData.c_system_id"}},e._l(e.upList.system,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("router-link",{attrs:{to:"system"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理系统")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_module_id"}},[a("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_module_id,callback:function(t){e.$set(e.addData,"c_module_id",t)},expression:"addData.c_module_id"}},e._l(e.upList.module,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("router-link",{attrs:{to:"module"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理模块")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{staticClass:"searchItem",attrs:{prop:"c_page_id"}},[a("p",{staticClass:"searchTitle"},[e._v("所属页面：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addData.c_page_id,callback:function(t){e.$set(e.addData,"c_page_id",t)},expression:"addData.c_page_id"}},e._l(e.upList.page,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("router-link",{attrs:{to:"page"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("管理页面")])],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addData.c_datas,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"c_datas."+t.$index+".name",rules:{required:!0,validator:e.validateName,trigger:"blur"}}},[a("el-input",{attrs:{value:t.row.name,maxlength:40,placeholder:"请输入权限名称"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"c_datas."+t.$index+".desc",rules:{required:!0,validator:e.validateDesc,trigger:"blur"}}},[a("el-input",{attrs:{value:t.row.desc,maxlength:100,placeholder:"请输入权限描述"},model:{value:t.row.desc,callback:function(a){e.$set(t.row,"desc",a)},expression:"scope.row.desc"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"权限标识码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.access_flags,maxlength:20,placeholder:"请输入权限标识码"},model:{value:t.row.access_flags,callback:function(a){e.$set(t.row,"access_flags",a)},expression:"scope.row.access_flags"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"plus",type:"text"},on:{click:function(a){e.handleItem(t.$index,"add")}}}),e._v(" "),0!=t.$index?a("el-button",{staticClass:"delete",attrs:{icon:"close",type:"text"},on:{click:function(a){e.handleItem(t.$index,"del")}}}):e._e()]}}])})],1)],1)],1),e._v(" "),a("p",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addData")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},IcnI:function(e,t,a){"use strict";var s=a("7+uW"),r=a("NYxO"),i=a("mUbh"),l=(a.n(i),a("UjVw")),n=a("lwq5"),o=a("ukYY"),d=a("sax8");a.n(d);s.default.use(r.a);t.a=new r.a.Store({actions:i,getters:l,state:n.a,mutations:o.a,strict:!1,plugins:[]})},JAkB:function(e,t){},"JrA+":function(e,t,a){"use strict";var s=a("nNRt"),r=a("umBg"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},JvIh:function(e,t,a){"use strict";function s(e){a("h+Qc")}var r=a("WVr/"),i=a("BOOs"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},KB1j:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,search:this.filters.searchkey};s.a.getEmployeeList(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.dataList=t.data.jobNumList,e.total=Number(t.data.total)})},editEmployee:function(e){this.$router.push({name:"editEmployee",query:{id:e}})},setEmployee:function(e,t){var a=this;s.a.setEmployee({strUserId:e,strStatus:t}).then(function(e){if("0"!=e.ret)return void a.$layer.alert(e.retinfo);0==t&&a.$message({message:"禁用成功",type:"success"}),1==t&&a.$message({message:"启用成功",type:"success"}),a.showList()})},search:function(){this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.showList()},clearForm:function(){this.filters.searchkey="",this.showList()}},mounted:function(){this.showList()}}},KJHf:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{number:"number",statusId:"1",statusList:[{statusName:"正常",statusId:"1"},{statusName:"停用",statusId:"0"}],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strUserTel:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){},methods:{cancelnow:function(){this.$router.push({path:"/channel/employee"})},submitnow:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addEmployeeLogic(t.ruleForm).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("成功！"),a.$router.push({path:"/channel/employee"})})})}}}},KOTb:function(e,t,a){"use strict";var s=a("kEKs"),r=a("5ILp"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},M93x:function(e,t,a){"use strict";function s(e){a("JAkB")}var r=a("DICR"),i=a("b7yL"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},MxE3:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,fileName:"fileName",number:"number",statusList:"",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strStatus:"",strUserId:"",strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.strUserId=this.$route.query.id},loadInfo:function(){var e=this;s.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}).then(function(t){e.getDefaultDate()})},cancelnow:function(){this.$router.push({path:"/D/index"})},getDefaultDate:function(e){var t=this;s.a.getDInfo({strUserId:this.ruleForm.strUserId}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var a=e.baseinfo;t.ruleForm.strUserName=a.strUserName,t.ruleForm.strPhoneNum=a.strPhoneNum,t.ruleForm.strCardNum=a.strCardNum,t.ruleForm.strStatus=a.strStatusId,t.ruleForm.strCardPicFront=a.strCardPicFront,t.ruleForm.strCardPicBack=a.strCardPicBack,t.ruleForm.strHeadPic=a.strHeadPic,t.imageUrl1=t.apiRoot+"/static/upload/"+a.strCardPicFront,t.imageUrl2=t.apiRoot+"/static/upload/"+a.strCardPicBack,t.imageUrl3=t.apiRoot+"/static/upload/"+a.strHeadPic})},submitnow:function(e,t){var a=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editDLogic({duser:a.ruleForm}).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);a.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/D/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),r=a("M93x"),i=a("zL8q"),l=a.n(i),n=a("q8zI"),o=(a.n(n),a("lf9d")),d=(a.n(o),a("5y3/")),c=(a.n(d),a("YaEn")),u=a("IcnI"),m=a("Myac"),h=a.n(m);s.default.prototype.$layer=h()(s.default),s.default.config.productionTip=!1,s.default.use(l.a),new s.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:r.a}})},OE4L:function(e,t){},OOVq:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部Dealer > 关联D4")]),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回Dealer列表")])],1)],1),e._v(" "),e.ifD4?a("div",{staticClass:"haveD4"},[a("p",[e._v(e._s(e.D4Name+" / "+e.D4Tel))]),e._v(" "),a("p",{staticClass:"note"},[e._v("在tree中替换D4负责人，此处关联D4工号将随之替换")])]):a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"关联D4：",prop:"did"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择关联的D用户"},model:{value:e.ruleForm.did,callback:function(t){e.$set(e.ruleForm,"did",t)},expression:"ruleForm.did"}},e._l(e.Dlist,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即关联")]),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},OU3Z:function(e,t,a){"use strict";var s=a("ctBg"),r=a("EHbO"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},OWTc:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("D tree")]),e._v(" "),a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"请选择D4："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择D4"},model:{value:e.strRelationId,callback:function(t){e.strRelationId=t},expression:"strRelationId"}},e._l(e.D4List,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strRelationId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点搜索："}},[a("el-input",{attrs:{placeholder:"请输入姓名或手机号",icon:"search"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.handleIconClick(t)}},model:{value:e.searchNode,callback:function(t){e.searchNode=t},expression:"searchNode"}},[a("el-button",{attrs:{slot:"append",icon:"search"},on:{click:function(t){e.handleIconClick()}},slot:"append"})],1)],1),e._v(" "),e.showNext?a("el-form-item",[a("el-button",{on:{click:function(t){e.getNext()}}},[e._v("下一个")])],1):e._e()],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tree",{staticClass:"Dtree",attrs:{data:e.treeList,props:e.defaultProps,"node-key":"strRelationId","default-expanded-keys":e.defaultExpand,"highlight-current":!0,accordion:"",indent:20,"current-node-key":e.defaultChecked},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:18,id:"loading-area"}},[a("div",{staticClass:"grid-content bg-purple-light"},[e.showRightInfo?a("div",{staticClass:"rightInfo"},[a("div",{staticClass:"top-title"},[e._v("节点信息")]),e._v(" "),a("div",{staticClass:"right-title"},[e._v("修改节点信息")]),e._v(" "),a("el-form",{ref:"replaceNodeForm",attrs:{model:e.replaceNodeForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.replaceNodeForm.strUserId,callback:function(t){e.$set(e.replaceNodeForm,"strUserId",t)},expression:"replaceNodeForm.strUserId"}},e._l(e.replaceNodeForm.replaceNodeList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                            "+e._s(e.replaceNodeForm.level)+"\r\n                        ")]),e._v(" "),a("el-form-item",{attrs:{label:"节点销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.replaceNodeForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleProvinceId",t)},expression:"replaceNodeForm.saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.replaceNodeForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleCityId",t)},expression:"replaceNodeForm.saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.replaceNodeForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleAreaId",t)},expression:"replaceNodeForm.saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.replaceNodeForm)}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.replaceNodeForm.addSaleList.length,expression:"replaceNodeForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.replaceNodeForm.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s,e.replaceNodeForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.replaceNodeForm,"replaceNodeForm")}}},[e._v("确认更新")])],1)],1),e._v(" "),e.delNode.showDelNodeModel?a("div",[a("div",{staticClass:"right-title"},[e._v("删除节点")]),e._v(" "),a("el-col",{attrs:{span:18}},[e._v("\r\n                            "+e._s(e.delNode.info)+" \r\n                        ")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"",size:"small"},on:{click:function(t){e.delThisNode(e.relationIdFn)}}},[e._v("删除此节点")])],1),e._v(" "),a("br"),a("br")],1):e._e(),e._v(" "),e.showAddNext?a("div",[a("div",{staticClass:"right-title"},[e._v("新增下级")]),e._v(" "),a("el-form",{ref:"AddNextForm",attrs:{model:e.AddNextForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.AddNextForm.strUserId,callback:function(t){e.$set(e.AddNextForm,"strUserId",t)},expression:"AddNextForm.strUserId"}},e._l(e.AddNextList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                                "+e._s(e.AddNextForm.level)+"\r\n                            ")]),e._v(" "),a("el-form-item",{attrs:{label:"节点销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.AddNextForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleProvinceId",t)},expression:"AddNextForm.saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.AddNextForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleCityId",t)},expression:"AddNextForm.saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.AddNextForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleAreaId",t)},expression:"AddNextForm.saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.AddNextForm)}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.AddNextForm.addSaleList.length,expression:"AddNextForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.AddNextForm.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s,e.AddNextForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.AddNextForm,"AddNextForm")}}},[e._v("确认添加")])],1)],1)],1):e._e()],1):e._e()])])],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},OtqQ:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部Dealer > 编辑")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("返回dealer")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"公司全称：",prop:"dealer.strDealerName"}},[a("el-input",{attrs:{placeholder:"请输入公司全称"},model:{value:e.ruleForm.dealer.strDealerName,callback:function(t){e.$set(e.ruleForm.dealer,"strDealerName",t)},expression:"ruleForm.dealer.strDealerName"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"公司地址："}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrProvinceId",t)},expression:"ruleForm.dealer.strAddrProvinceId"}},e._l(e.dealer.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrCityId",t)},expression:"ruleForm.dealer.strAddrCityId"}},e._l(e.dealer.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.strAddrAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer,"strAddrAreaId",t)},expression:"ruleForm.dealer.strAddrAreaId"}},e._l(e.dealer.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"dealer.strAddress"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.dealer.strAddress,callback:function(t){e.$set(e.ruleForm.dealer,"strAddress",t)},expression:"ruleForm.dealer.strAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{type:"number",label:"营业执照号码：",prop:"dealer.strLicenseNum"}},[a("el-input",{attrs:{disabled:"",maxlength:18,placeholder:"请输入15或18位营业执照号"},model:{value:e.ruleForm.dealer.strLicenseNum,callback:function(t){e.$set(e.ruleForm.dealer,"strLicenseNum",t)},expression:"ruleForm.dealer.strLicenseNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"三证照片："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("p",[e._v("2.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号：",prop:"dealer.account_bank.strAccountNum"}},[a("el-input",{attrs:{type:e.number,maxlength:30,placeholder:"请输入10~30位银行卡号"},model:{value:e.ruleForm.dealer.account_bank.strAccountNum,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountNum",t)},expression:"ruleForm.dealer.account_bank.strAccountNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户名：",prop:"dealer.account_bank.strAccountName"}},[a("el-input",{attrs:{placeholder:"请输入开户名"},model:{value:e.ruleForm.dealer.account_bank.strAccountName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAccountName",t)},expression:"ruleForm.dealer.account_bank.strAccountName"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"开户地址："}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.dealer.account_bank.strAddrProvinceId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrProvinceId",t)},expression:"ruleForm.dealer.account_bank.strAddrProvinceId"}},e._l(e.bankAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.dealer.account_bank.strAddrCityId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrCityId",t)},expression:"ruleForm.dealer.account_bank.strAddrCityId"}},e._l(e.bankAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"dealer.account_bank.strAddrAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.dealer.account_bank.strAddrAreaId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strAddrAreaId",t)},expression:"ruleForm.dealer.account_bank.strAddrAreaId"}},e._l(e.bankAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开户银行：",prop:"dealer.account_bank.strBankId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.ruleForm.dealer.account_bank.strBankId,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBankId",t)},expression:"ruleForm.dealer.account_bank.strBankId"}},e._l(e.bankList,function(e){return a("el-option",{key:e.strId,attrs:{label:e.strName,value:e.strId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"支行名称：",prop:"dealer.account_bank.strBranchName"}},[a("el-input",{attrs:{placeholder:"请输入支行名称："},model:{value:e.ruleForm.dealer.account_bank.strBranchName,callback:function(t){e.$set(e.ruleForm.dealer.account_bank,"strBranchName",t)},expression:"ruleForm.dealer.account_bank.strBranchName"}})],1),e._v(" "),a("p",[e._v("3.合作信息")]),e._v(" "),a("el-form-item",{attrs:{label:"合同有效时间：",prop:"dateRange"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{"default-value":e.ruleForm.dateRange,format:"yyyy.MM.dd","range-separator":" ~ ",type:"daterange",clearable:!1,placeholder:"选择日期范围"},model:{value:e.ruleForm.dateRange,callback:function(t){e.$set(e.ruleForm,"dateRange",t)},expression:"ruleForm.dateRange"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"合作协议照片："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ",accept:".jpg,.png,.jpeg","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态：",prop:"dealer.account_bank.strBankId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.dealer.strStatus,callback:function(t){e.$set(e.ruleForm.dealer,"strStatus",t)},expression:"ruleForm.dealer.strStatus"}},e._l(e.statusList,function(e){return a("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},P9l9:function(e,t,a){"use strict";function s(e,t){var a={head:{version:"0.01",msgtype:"request",interface:e,remark:""},params:{system:"HJXMBA"}};for(var s in t)a.params[s]=t[s];return new c.a(function(e,t){m.a.post(h.a.api+"/channel_org_interface",a).then(function(t){e(t)},function(e){t(e)}).catch(function(e){t(e)})})}function r(e){var t=e+"=",a="";if(document.cookie.length>0){var s=document.cookie.indexOf(t);if(-1!=s){s+=t.length;var r=document.cookie.indexOf(";",s);-1==r&&(r=document.cookie.length),a=unescape(document.cookie.substring(s,r))}}return a}function i(e,t){v||(v=r("username")),_||(_=r("useruuid"));var a={head:{version:"0.01",msgtype:"request",interface:e,remark:""},params:{system:"HJXMBA",login_user_id:_,login_token:"12345678911",login_system_id:"1",login_username:v}};for(var s in t)a.params[s]=t[s];return new c.a(function(e,t){m.a.post(h.a.apiCross+"/index/index",a).then(function(t){e(t)},function(e){t(e)}).catch(function(e){t(e)})})}var l,n=a("bOdI"),o=a.n(n),d=a("//Fk"),c=a.n(d),u=a("mtWM"),m=a.n(u),h=(a("YaEn"),a("s0MJ")),p=a("zL8q");a.n(p);m.a.interceptors.request.use(function(e){return e},function(e){return c.a.reject(e)}),m.a.interceptors.response.use(function(e){return 200!=e.status?c.a.reject(e):e.data.body},function(e){if(e.response)switch(e.response.status){case 403:var t=encodeURIComponent(h.a.accessHost);window.location.href=h.a.powerCenterLoginPage+"/login?system_id="+h.a.systemId+"&jump_url="+t}return c.a.reject(e)});var v=void 0,_=void 0;t.a=(l={Login:function(e){return s("loginLogic",e)},upload:function(e){return s("upload",e)},get_user_authority:function(e){return s("get_user_authority",e)},logout:function(e){return s("logout",e)},getAddress:function(e){return s("get_addressInfo",e)},getBank:function(e){return s("get_bank",e)},getAllChannels:function(e){return s("get_allChannels",e)},getChannelsChild:function(e){return s("get_Orgs",e)},getChannelManager:function(e){return s("get_channelManager",e)},getChannelTemplate:function(e){return s("get_channel_template",e)},getPartner:function(e){return s("get_partner",e)},getDStatus:function(e){return s("get_channelstatus_list",e)},getChannelList:function(e){return s("search_channelorg",e)},getProvince:function(e){return s("get_province",e)},addChannelLogic:function(e){return s("save_ChannelOrg",e)},getChannelInfo:function(e){return s("channel_detail",e)},getTemplateList:function(e){return s("get_channelTemplateList",e)},addChannelTemplatePageData:function(e){return s("add_channelTemplatePageData",e)},editChannelTemplateJsInfo:function(e){return s("edit_channelTemplateJsInfo",e)},editTemplateLogic:function(e){return s("edit_channel_template",e)},addTemplateLogic:function(e){return s("add_channelTemplateLogic",e)},delChannelTemplate:function(e){return s("del_channelTemplate",e)},upChannelTemplate:function(e){return s("up_channelTemplate",e)},getDealerIdNamelist:function(e){return s("get_dealer_id_name_list",e)},getChannelStoreList:function(e){return s("get_channel_store_list",e)},getStoreList:function(e){return s("get_store_list",e)},disableStore:function(e){return s("del_store",e)},enableStore:function(e){return s("up_store",e)},addStoreLogic:function(e){return s("add_storeLogic",e)},addOrgLogic:function(e){return s("add_orgLogic",e)},getStoreInfo:function(e){return s("getStoreInfo",e)},getStoreS:function(e){return s("get_store_s",e)},getAllS1:function(e){return s("get_all_jobnumber",e)},addStoreS1:function(e){return s("add_store_s",e)},getStoreDS:function(e){return s("get_related_people_list",e)},getAllDS:function(e){return s("get_can_relate_people_list",e)},addStoreDS:function(e){return s("set_relate_people_list",e)},editStoreLogic:function(e){return s("edit_storeLogic",e)},getEmployeeList:function(e){return s("search_jobnumber",e)},setEmployee:function(e){return s("set_jobStatus",e)},addEmployeeLogic:function(e){return s("add_jobnumber",e)},getEmployeeInfo:function(e){return s("get_jobnumber_info",e)}},o()(l,"addEmployeeLogic",function(e){return s("add_jobnumber",e)}),o()(l,"editEmployeeLogic",function(e){return s("edit_jobnumber",e)}),o()(l,"getDList",function(e){return s("get_d_list",e)}),o()(l,"addDLogic",function(e){return s("add_d_user",e)}),o()(l,"getDInfo",function(e){return s("get_d_detail",e)}),o()(l,"getDStoreList",function(e){return s("get_d_store_list",e)}),o()(l,"editDLogic",function(e){return s("edit_d_user",e)}),o()(l,"getD4List",function(e){return s("get_dx_list",e)}),o()(l,"getD4Tree",function(e){return s("get_d_tree",e)}),o()(l,"getReplaceDxList",function(e){return s("get_replace_dx_list",e)}),o()(l,"replaceDxNode",function(e){return s("replace_d_code",e)}),o()(l,"delLeafNode",function(e){return s("del_leaf_code",e)}),o()(l,"getAddNextList",function(e){return s("get_superior_dx_list",e)}),o()(l,"setAddNext",function(e){return s("add_superior_code",e)}),o()(l,"getDealerList",function(e){return s("get_dealer_list",e)}),o()(l,"addDealerLogic",function(e){return s("add_dealer",e)}),o()(l,"getDealerInfo",function(e){return s("get_dealer",e)}),o()(l,"editDealerLogic",function(e){return s("set_dealer",e)}),o()(l,"getWillRelateD4",function(e){return s("get_will_d4",e)}),o()(l,"relateD4",function(e){return s("set_will_d4",e)}),o()(l,"getBDList",function(e){return s("get_bd_list",e)}),o()(l,"addBDLogic",function(e){return s("add_bd_user",e)}),o()(l,"getBDInfo",function(e){return s("get_bd_detail",e)}),o()(l,"getBDStoreList",function(e){return s("get_bd_store_list",e)}),o()(l,"editBDLogic",function(e){return s("edit_bd_user",e)}),o()(l,"getBD4List",function(e){return s("get_bdx_list",e)}),o()(l,"getBD4Tree",function(e){return s("get_bd_tree",e)}),o()(l,"getReplaceBDxList",function(e){return s("get_replace_bdx_list",e)}),o()(l,"replaceBDxNode",function(e){return s("replace_bd_code",e)}),o()(l,"delBDLeafNode",function(e){return s("del_leaf_BDcode",e)}),o()(l,"getAddNextBDList",function(e){return s("get_junior_bdx_list",e)}),o()(l,"setAddBDNext",function(e){return s("add_junior_code",e)}),o()(l,"getSystemList",function(e){return i("getSystemList",e)}),o()(l,"addSystem",function(e){return i("addSystem",e)}),o()(l,"editSystem",function(e){return i("editSystem",e)}),o()(l,"changeSystemStatus",function(e){return i("changeSystemStatus",e)}),o()(l,"getRoleList",function(e){return i("getRoleList",e)}),o()(l,"addRole",function(e){return i("addRole",e)}),o()(l,"editRole",function(e){return i("editRole",e)}),o()(l,"getRoleAuth",function(e){return i("setRoleAuth",e)}),o()(l,"editRoleAuths",function(e){return i("editRoleAuths",e)}),o()(l,"changeRoleStatus",function(e){return i("changeRoleStatus",e)}),o()(l,"getCateRoleList",function(e){return i("getCateRoleList",e)}),o()(l,"changeCateRoleStatus",function(e){return i("changeCateRoleStatus",e)}),o()(l,"addCateRole",function(e){return i("addCateRole",e)}),o()(l,"editCateRole",function(e){return i("editCateRole",e)}),o()(l,"getModuleList",function(e){return i("getModuleList",e)}),o()(l,"addAuth",function(e){return i("addAuth",e)}),o()(l,"editAuth",function(e){return i("editAuth",e)}),o()(l,"changeAuthStatus",function(e){return i("changeAuthStatus",e)}),o()(l,"getPageList",function(e){return i("getPageList",e)}),o()(l,"getActionAuthList",function(e){return i("getActionAuthList",e)}),o()(l,"addActionAuths",function(e){return i("addActionAuths",e)}),o()(l,"getPowerRecordList",function(e){return i("getRecordList",e)}),l)},PMJh:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"warp"},[s("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[s("b",[e._v("首页")])])],1)],1),e._v(" "),s("el-col",{staticClass:"warp-main",attrs:{span:24}},[s("section",{staticClass:"chart-container"},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("img",{staticClass:"image",attrs:{src:a("p1FZ")}}),e._v(" "),s("div",{staticStyle:{padding:"14px"}},[s("span",[e._v("阳光从树叶细缝露出了笑容  ")]),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("img",{staticClass:"image",attrs:{src:a("yueM")}}),e._v(" "),s("div",{staticStyle:{padding:"14px"}},[s("span",[e._v("温暖了我的美梦")]),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("img",{staticClass:"image",attrs:{src:a("c+Ys")}}),e._v(" "),s("div",{staticStyle:{padding:"14px"}},[s("span",[e._v("只有笼里的画眉羡慕着天空，却从来没有人懂")]),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1)],1)],1)])],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},Pe5L:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("工号 / 新增")]),e._v(" "),a("div",{staticClass:"content-container"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"strUserTel"}},[a("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入手机号"},model:{value:e.ruleForm.strUserTel,callback:function(t){e.$set(e.ruleForm,"strUserTel",t)},expression:"ruleForm.strUserTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号"},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"strEmail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.strEmail,callback:function(t){e.$set(e.ruleForm,"strEmail",t)},expression:"ruleForm.strEmail"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},PizZ:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("门店 / 新增")]),e._v(" "),a("div",{attrs:{id:"Add-store"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"渠道商：",prop:"structAid"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道商"},model:{value:e.ruleForm.structAid,callback:function(t){e.$set(e.ruleForm,"structAid",t)},expression:"ruleForm.structAid"}},e._l(e.structA,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+",0"}})}))],1),e._v(" "),e._l(e.tempList,function(t,s){return a("el-form-item",{key:s,attrs:{label:t.RelationName}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelList["model_"+(s+1)],callback:function(t){e.$set(e.modelList,"model_"+(s+1),t)},expression:"modelList['model_'+(index+1)]"}},e._l(t.Relations,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+","+(s+1)}})})),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.addGroup(t.upStrRelationId,t.upStrLevelId,s)}}},[e._v("新增")])],1)}),e._v(" "),a("el-form-item",{attrs:{label:"门店名称：",prop:"strStoreName"}},[a("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.ruleForm.strStoreName,callback:function(t){e.$set(e.ruleForm,"strStoreName",t)},expression:"ruleForm.strStoreName"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"门店地址："}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strProvinceId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.ruleForm.strProvinceId,callback:function(t){e.$set(e.ruleForm,"strProvinceId",t)},expression:"ruleForm.strProvinceId"}},e._l(e.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strCityId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.ruleForm.strCityId,callback:function(t){e.$set(e.ruleForm,"strCityId",t)},expression:"ruleForm.strCityId"}},e._l(e.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"strAreaId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.ruleForm.strAreaId,callback:function(t){e.$set(e.ruleForm,"strAreaId",t)},expression:"ruleForm.strAreaId"}},e._l(e.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"strAddress"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.strAddress,callback:function(t){e.$set(e.ruleForm,"strAddress",t)},expression:"ruleForm.strAddress"}})],1),e._v(" "),a("el-form-item",{staticClass:"mustStar",attrs:{label:"销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"渠道经理："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道经理"},model:{value:e.strChannelManagerId,callback:function(t){e.strChannelManagerId=t},expression:"strChannelManagerId"}},e._l(e.ChannelManager,function(e){return a("el-option",{key:e.strChannelManagerId,attrs:{label:e.strChannelManagerName,value:e.strChannelManagerId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],2)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增门店",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-input",{attrs:{placeholder:"请输入门店名"},model:{value:e.addGroupName,callback:function(t){e.addGroupName=t},expression:"addGroupName"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("div",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.submitAddGroup()}}},[e._v("提交")])],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},Pw3e:function(e,t,a){"use strict";var s=a("eH10"),r=a("WhPs"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},QZQF:function(e,t,a){"use strict";function s(e){a("c9ac")}var r=a("Vs4N"),i=a("emZO"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},R2aI:function(e,t,a){"use strict";function s(e){a("dkpb")}var r=a("53oo"),i=a("nSpp"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},RM5e:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{strUserId:"",strUserName:"",dataList:[],systemList:[],moduleList:{Search:[]},searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModules(e,"Search")}},mounted:function(){this.getId(),this.showList()},methods:{getId:function(){this.strUserId=this.$route.query.id},loadInfo:function(){var e=this,t={pageSize:"100"};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list})},getSystemModules:function(e,t,a){var r=this;this["get"+t+"Module"].s_system_id=e,"Edit"==t&&(this.getEditPages.s_system_id=e),s.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);r.moduleList[t]=r.handleModuleList(e.data.list),a||"Edit"!=t||(r.getEditPages.s_module_id=r.EditInfo.Fmodule_id)})},handleModuleList:function(e){var t=[];for(var a in e){var s=e[a].system_module_list;for(var r in s)t.push(s[r])}return t},showList:function(){var e=this;this.searchkeys.s_system_id,this.searchkeys.s_module_id,this.searchkeys.s_page_name;s.a.getRoleAuth({s_role_id:this.strUserId}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.strUserName=t.data.role_name,e.dataList=r.a.combineCell(e.gatherPageAuth(t.data.auth_list))})},gatherPageAuth:function(e){var t={},a=[];for(var s in e)if(t["F"+e[s].Fpid])t["F"+e[s].Fpid].FauthList.push({authName:e[s].Fname,authId:e[s].Fauthority_id,isChecked:"1"==e[s].is_check}),"1"==e[s].is_check&&(t["F"+e[s].Fpid].haveAuth=!0);else{var r={Fsystem_id:e[s].Fsystem_id,Fsystem_name:e[s].Fsystem_name,Fmodule_id:e[s].Fmodule_id,Fmodule_name:e[s].Fmodule_name,Fpid:e[s].Fpid,Fpage_name:e[s].Fpage_name,haveAuth:"1"==e[s].is_check,FauthList:[{authName:e[s].Fname,authId:e[s].Fauthority_id,isChecked:"1"==e[s].is_check}]};t["F"+e[s].Fpid]=r}for(var i in t)a.push(t[i]);return a},search:function(){this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.showList()},submitnow:function(){var e=this;s.a.editRoleAuths(this.handleSubmitData(this.dataList)).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.$message("成功！"),e.$router.push({path:"user"})})},changeAuth:function(e){var t=this.dataList[e].FauthList;if(this.dataList[e].haveAuth)for(var a in t)t[a].isChecked=!0;else for(var a in t)t[a].isChecked=!1},setPageChoosed:function(e){if(!this.dataList[e].haveAuth){var t=this.dataList[e].FauthList;for(var a in t)if(t[a].isChecked){this.dataList[e].haveAuth=!0;for(var s in t)"查看"==t[s].authName&&(t[s].isChecked=!0);return}}},handleSubmitData:function(e){var t={e_role_id:this.strUserId,e_add_datas:[],e_del_datas:[]};for(var a in e){var s=e[a].FauthList;for(var r in s)s[r].isChecked?t.e_add_datas.push({e_system_id:e[a].Fsystem_id,e_auth_id:s[r].authId}):t.e_del_datas.push({e_system_id:e[a].Fsystem_id,e_auth_id:s[r].authId})}return t}}}},Rp4l:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,strUserId:"",dataList:[],ruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strEmail:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatus:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate(),this.getBDStoreList(this.strUserId)},methods:{getId:function(){this.strUserId=this.$route.query.id},addPrefix:function(e){var t=8-e.length,a="bd";if(t>0){for(var s=0;s<t;s++)a+="0";return a+e}return e},editBD:function(e){this.$router.push({name:"editBD",query:{id:e}})},getDefaultDate:function(e){var t=this;s.a.getBDInfo({strUserId:this.strUserId}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);e.baseinfo.strUserId=t.addPrefix(e.baseinfo.strUserId),t.ruleForm=e,t.ruleForm.saleareaList=r.a.unique(t.ruleForm.saleareaList.map(function(e){return e.strProvinceName+e.strCityName+e.strAreaName}))})},getBDStoreList:function(e){var t=this;s.a.getBDStoreList({strUserId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.dataList=e.list})},storeBDetail:function(e){this.$router.push({name:"editStore",query:{id:e}})}}}},SC3I:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ"),i=a("uJvA");t.a={data:function(){var e=function(e,t,a){t=r.a.Trim(t);var s=t.gblen();s<12||s>100?a(new Error("请输入12~100个字符")):r.a.checkSpecialWord(t)&&a(new Error("公司名称不能包含特殊字符")),a()},t=function(e,t,a){var s=t.gblen();(s<4||s>100)&&a(new Error("请输入4~100个字符")),a()},a=function(e,t,a){var s=t.gblen();(s<4||s>20)&&a(new Error("请输入4~20个字符")),a()},s=function(e,t,a){t[0]||a(new Error("请选择合同有效时间")),a()};return{apiRoot:r.a.api,bankList:[],pickerOptions:{disabledDate:function(e){return!1}},fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",dealer:{provinces:i.a.addrList,citys:"",areas:""},bankAddr:{provinces:i.a.addrList,citys:"",areas:""},ruleForm:{dateRange:[],dealer:{strDealerName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strBankId:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:"",strStatus:"3"}},rules:{"dealer.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.strDealerName":[{required:!0,validator:e,trigger:"blur"}],"dealer.strAddress":[{required:!0,validator:r.a.validateAddr,trigger:"blur"}],"dealer.strLicenseNum":[{required:!0,validator:r.a.validateLicenseNum,trigger:"blur"}],"dealer.account_bank.strAccountNum":[{required:!0,validator:r.a.validateAccountNum,trigger:"blur"}],"dealer.account_bank.strAccountName":[{required:!0,validator:t,trigger:"blur"}],"dealer.account_bank.strBranchName":[{required:!0,validator:a,trigger:"blur"}],"dealer.account_bank.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.account_bank.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.account_bank.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.account_bank.strBankId":[{required:!0,message:"请选择开户银行",trigger:"change"}],dateRange:[{required:!0,validator:s,trigger:"blur"}]}}},watch:{"ruleForm.dealer.strAddrProvinceId":function(e,t){this.ruleForm.dealer.strAddrCityId="",this.getCitys(e)},"ruleForm.dealer.strAddrCityId":function(e){this.ruleForm.dealer.strAddrAreaId="",this.getAreas(e)},"ruleForm.dealer.account_bank.strAddrProvinceId":function(e,t){this.ruleForm.dealer.account_bank.strAddrCityId="",this.getCitys(e,"bank")},"ruleForm.dealer.account_bank.strAddrCityId":function(e){this.ruleForm.dealer.account_bank.strAddrAreaId="",this.getAreas(e,"bank")}},mounted:function(){this.loadInfo()},methods:{handleAvatarSuccess1:function(e,t){this.ruleForm.dealer.strLicensePic=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.dealer.strContractPic=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i},loadInfo:function(){var e=this;s.a.getBank({}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.bankList=t.data.bankList}),0==i.a.addrList.length&&s.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);i.a.addrList=t.data.address,e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},submitnow:function(e,t){var a=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.ruleForm.dealer.strDealerName=r.a.Trim(a.ruleForm.dealer.strDealerName),a.ruleForm.dealer.strContractBeginTime=a.ruleForm.dateRange[0],a.ruleForm.dealer.strContractEndTime=a.ruleForm.dateRange[1],s.a.addDealerLogic(a.ruleForm).then(function(e){if("0"!=e.ret)return void i.$message(e.retinfo);a.$message("成功！"),t?(i.$refs.ruleForm.resetFields(),a.imageUrl1="",a.imageUrl2="",a.ruleForm.dealer.strLicensePic="",a.ruleForm.dealer.strContractPic="",a.dealer.citys=[],a.dealer.areas=[],a.bankAddr.citys=[],a.bankAddr.areas=[]):i.$router.push({path:"/Dealer/index"})})})},getCitys:function(e,t){if("bank"==t){var a=this.bankAddr.provinces;for(var s in a)a[s].strProvinceId==e&&(this.bankAddr.citys=a[s].citys)}else{var r=this.dealer.provinces;for(var s in r)r[s].strProvinceId==e&&(this.dealer.citys=r[s].citys)}},getAreas:function(e,t){if("bank"==t){var a=this.bankAddr.citys;for(var s in a)a[s].strCityId==e&&(this.bankAddr.areas=a[s].areas)}else{var r=this.dealer.citys;for(var s in r)r[s].strCityId==e&&(this.dealer.areas=r[s].areas)}}}}},TM9g:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部D > 编辑")]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回D列表")])],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"strUserName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.strUserName,callback:function(t){e.$set(e.ruleForm,"strUserName",t)},expression:"ruleForm.strUserName"}})],1),e._v(" "),a("el-form-item",{attrs:{type:"number",label:"手机号码：",prop:"strPhoneNum"}},[a("el-input",{attrs:{type:e.number,maxlength:11,placeholder:"请输入11位手机号"},model:{value:e.ruleForm.strPhoneNum,callback:function(t){e.$set(e.ruleForm,"strPhoneNum",t)},expression:"ruleForm.strPhoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证：",prop:"strCardNum"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入18位身份证号",disabled:""},model:{value:e.ruleForm.strCardNum,callback:function(t){e.$set(e.ruleForm,"strCardNum",t)},expression:"ruleForm.strCardNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证正面："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证背面："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"上传头像："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:e.fileName,action:e.apiRoot+"/upload ","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("p",[e._v("2.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.strStatus,callback:function(t){e.$set(e.ruleForm,"strStatus",t)},expression:"ruleForm.strStatus"}},e._l(e.statusList,function(e){return a("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("ruleForm")}}},[e._v("确认更新")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},"U+EN":function(e,t,a){"use strict";var s=a("G8fP"),r=a("46Yf"),i=r(null,s.a,!1,null,null,null);t.a=i.exports},"U/ha":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("BD tree")]),e._v(" "),a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"请选择BD4："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择BD4"},model:{value:e.strRelationId,callback:function(t){e.strRelationId=t},expression:"strRelationId"}},e._l(e.BD4List,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strRelationId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点搜索："}},[a("el-input",{attrs:{placeholder:"请输入姓名或手机号",icon:"search"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.handleIconClick(t)}},model:{value:e.searchNode,callback:function(t){e.searchNode=t},expression:"searchNode"}},[a("el-button",{attrs:{slot:"append",icon:"search"},on:{click:function(t){e.handleIconClick()}},slot:"append"})],1)],1),e._v(" "),e.showNext?a("el-form-item",[a("el-button",{on:{click:function(t){e.getNext()}}},[e._v("下一个")])],1):e._e()],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tree",{staticClass:"Dtree",attrs:{data:e.treeList,props:e.defaultProps,"node-key":"strRelationId","default-expanded-keys":e.defaultExpand,"highlight-current":!0,accordion:"",indent:20,"current-node-key":e.defaultChecked},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:18,id:"loading-area"}},[a("div",{staticClass:"grid-content bg-purple-light"},[e.showRightInfo?a("div",{staticClass:"rightInfo"},[a("div",{staticClass:"top-title"},[e._v("节点信息")]),e._v(" "),a("div",{staticClass:"right-title"},[e._v("修改节点信息")]),e._v(" "),a("el-form",{ref:"replaceNodeForm",attrs:{model:e.replaceNodeForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.replaceNodeForm.strUserId,callback:function(t){e.$set(e.replaceNodeForm,"strUserId",t)},expression:"replaceNodeForm.strUserId"}},e._l(e.replaceNodeForm.replaceNodeList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                            "+e._s(e.replaceNodeForm.level)+"\r\n                        ")]),e._v(" "),a("el-form-item",{attrs:{label:"节点销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.replaceNodeForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleProvinceId",t)},expression:"replaceNodeForm.saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.replaceNodeForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleCityId",t)},expression:"replaceNodeForm.saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.replaceNodeForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.replaceNodeForm.saleAddsId,"strSaleAreaId",t)},expression:"replaceNodeForm.saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.replaceNodeAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.replaceNodeForm)}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.replaceNodeForm.addSaleList.length,expression:"replaceNodeForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.replaceNodeForm.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s,e.replaceNodeForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.replaceNodeForm,"replaceNodeForm")}}},[e._v("确认更新")])],1)],1),e._v(" "),e.delNode.showDelNodeModel?a("div",[a("div",{staticClass:"right-title"},[e._v("删除节点")]),e._v(" "),a("el-col",{attrs:{span:18}},[e._v("\r\n                            "+e._s(e.delNode.info)+" \r\n                        ")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"",size:"small"},on:{click:function(t){e.delThisNode(e.relationIdFn)}}},[e._v("删除此节点")])],1),e._v(" "),a("br"),a("br")],1):e._e(),e._v(" "),e.showAddNext?a("div",[a("div",{staticClass:"right-title"},[e._v("新增下级")]),e._v(" "),a("el-form",{ref:"AddNextForm",attrs:{model:e.AddNextForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"节点负责人：",prop:"strUserName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.AddNextForm.strUserId,callback:function(t){e.$set(e.AddNextForm,"strUserId",t)},expression:"AddNextForm.strUserId"}},e._l(e.AddNextList,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+" / "+e.strPhoneNum,value:e.strUserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"节点组织身份："}},[e._v("\r\n                                "+e._s(e.AddNextForm.level)+"\r\n                            ")]),e._v(" "),a("el-form-item",{attrs:{label:"节点销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.AddNextForm.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleProvinceId",t)},expression:"AddNextForm.saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.AddNextForm.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleCityId",t)},expression:"AddNextForm.saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.AddNextForm.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.AddNextForm.saleAddsId,"strSaleAreaId",t)},expression:"AddNextForm.saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.AddNextSaleAddr.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr(e.AddNextForm)}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.AddNextForm.addSaleList.length,expression:"AddNextForm.addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.AddNextForm.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s,e.AddNextForm)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.AddNextForm,"AddNextForm")}}},[e._v("确认添加")])],1)],1)],1):e._e()],1):e._e()])])],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},UjVw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"menu",function(){return s});var s=function(e){return e.menu}},V3xY:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("门店 / 列表")]),e._v(" "),a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店ID"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strStoreId,callback:function(t){e.$set(e.filters,"strStoreId",t)},expression:"filters.strStoreId"}})],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入门店名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.strStoreName,callback:function(t){e.$set(e.filters,"strStoreName",t)},expression:"filters.strStoreName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add_store"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"门店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strProvinceName",label:"门店地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"渠道商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelManagerName",label:"渠道经理"}}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t            "+e._s(1==t.row.strStatus?"正常":"停止")+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.editStore(t.row.strStoreId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.disableStore(t.row.strStoreId)}}},[e._v("禁用")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.enableStore(t.row.strStoreId)}}},[e._v("启用")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},VGMo:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,setIdentity:!1,fileName:"fileName",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:"",strStatus:"3"},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}]}}},mounted:function(){},methods:{cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e,t){var a=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.ruleForm.strUserName=r.a.Trim(a.ruleForm.strUserName),a.ruleForm.validatestrCardNum=r.a.Trim(a.ruleForm.strCardNum);var l=a.$loading({text:"正在提交",target:"#loading-area"});s.a.addDLogic({duser:a.ruleForm}).then(function(e){if(l.close(),"0"!=e.ret)return void i.$message(e.retinfo);if(a.$message("成功！"),t||a.setIdentity)if(!t&&a.setIdentity){var s=document.querySelector(".el-menu-item.is-active");r.a.removeClass(s,"is-active"),i.$router.push({path:"/D/tree"})}else i.$refs.ruleForm.resetFields(),a.imageUrl1="",a.imageUrl2="",a.imageUrl3="";else i.$router.push({path:"/D/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},Vs4N:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],statusList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{strLevelCode:[],strStatus:"",strBDUserName:"",strPhoneNum:"",strCardNum:""}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},addPrefix:function(e){var t=8-e.length,a="bd";if(t>0){for(var s=0;s<t;s++)a+="0";return a+e}return e},loadInfo:function(){var e=this;s.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list})},showList:function(){var e=this;this.searchkeys.strBDUserName=r.a.Trim(this.searchkeys.strBDUserName),this.searchkeys.strPhoneNum=r.a.Trim(this.searchkeys.strPhoneNum),this.searchkeys.strCardNum=r.a.Trim(this.searchkeys.strCardNum);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.searchkeys};s.a.getBDList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data.list;for(var s in a)a[s].strPrefixUserId=e.addPrefix(a[s].strUserId);e.dataList=a,e.total=Number(t.data.nums)})},detailBD:function(e){this.$router.push({name:"detailBD",query:{id:e}})},eidtBD:function(e){this.$router.push({name:"editBD",query:{id:e}})},addNext:function(e){this.$router.push({name:"DAddNext",query:{id:e}})},search:function(){this.showList()},clearForm:function(){this.$refs.searchkeys.resetFields(),this.showList()}}}},Vsjs:function(e,t,a){"use strict";function s(e){a("uVzb")}var r=a("Rp4l"),i=a("dkMe"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-fa41f98a",null);t.a=o.exports},WHOQ:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage4:1,total:0,filters:{strStoreId:"",strStoreName:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters};s.a.getStoreList(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.dataList=t.data.list,e.total=t.data.nums})},editStore:function(e){this.$router.push({name:"editStore",query:{id:e}})},disableStore:function(e){var t=this;s.a.disableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message({message:"禁用成功",type:"success"}),t.showList()})},enableStore:function(e){var t=this;s.a.enableStore({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message({message:"启用成功",type:"success"}),t.showList()})},search:function(){console.log(364),this.filters.strStoreId=r.a.Trim(this.filters.strStoreId),this.filters.strStoreName=r.a.Trim(this.filters.strStoreName),this.showList()},clearForm:function(){this.filters.strStoreId="",this.filters.strStoreName="",this.showList()}},mounted:function(){this.showList()}}},WR3b:function(e,t){},"WVr/":function(e,t,a){"use strict";var s=a("bOdI"),r=a.n(s),i=a("P9l9"),l=a("s0MJ"),n=a("uJvA");t.a={data:function(){var e,t=function(e,t,a){/^(([a-zA-Z]{2})|([a-zA-Z]{4}))\d{2,4}$/g.test(t)||a(new Error("请输入正确工号（2位或4位字母(渠道拼音首字母)+4位数字(渠道省份区号)）")),a()};return e={form:{strLevelId:"",strFullName:"",strPartner_id:"",strSecond_channel:"0",strAddr_province_id:"",strAddr_city_id:"",strAddr_area_id:"",strDetailAddress:"",strSale_addr:"",strStatus:"1",strLicense_num:"",strPrefix_str:"",strConnection_info:"",strMonth_sales:"",strChannelPic:"",strScore:"",strValuationId:"2",strPercent:"",strApplyMax:"",strShopAwardId:"0",strPayMethodId:"1",selfFunction:[],strGreen_recycle:"0",strGather_userInfo:"0"},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},channelTemplateList:[],partnerList:[],provinces:n.a.addrList,citys:[],areas:[]},r()(e,"partnerList",[]),r()(e,"saleAdds",{provinces:n.a.addrList,citys:[],areas:[]}),r()(e,"addSaleList",[]),r()(e,"channelUserList",[]),r()(e,"rules",{strAddr_province_id:[{required:!0,message:"请选择省份",trigger:"change"}],strAddr_city_id:[{required:!0,message:"请选择城市",trigger:"change"}],strAddr_area_id:[{required:!0,message:"请选择区域",trigger:"change"}],strDetailAddress:[{required:!0,validator:l.a.validateAddr,trigger:"blur"}],strFullName:[{required:!0,validator:l.a.validateName,trigger:"blur"}],strLicense_num:[{required:!0,validator:l.a.validateLicenseNum,trigger:"blur"}],strPrefix_str:[{required:!0,validator:t,trigger:"blur"}],strPercent:[{required:!0,message:"请填写分成比例",trigger:"blur"}],strApplyMax:[{required:!0,message:"请填写封顶金额",trigger:"blur"}]}),e},watch:{"form.strAddr_province_id":function(e,t){this.form.strAddr_city_id="",this.getCitys(e)},"form.strAddr_city_id":function(e){this.form.strAddr_area_id="",this.getAreas(e)},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],"sale")}},mounted:function(){this.loadInfo()},methods:{submitnow:function(e){var t=this,a=this;for(var s in this.form.selfFunction)"收集用户信息"==this.form.selfFunction[s]&&(this.form.strGather_userInfo="1"),"环保回收"==this.form.selfFunction[s]&&(this.form.strGreen_recycle="1");var r=[];for(var s in this.addSaleList)r.push(this.addSaleList[s].saleId);this.form.strSale_addr=r,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;i.a.addChannelLogic(t.form).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("成功！"),a.$router.push({path:"/channel/index"})})})},loadInfo:function(){var e=this;0==n.a.addrList.length&&i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);n.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address}),i.a.getChannelTemplate({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.channelTemplateList=t.data.channelTemplateList}),i.a.getPartner({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.partnerList=t.data.partnerList}),i.a.getAllS1({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.channelUserList=t.data.listUsers})},getCitys:function(e,t){if("sale"==t){var a=this.saleAdds.provinces;for(var s in a)a[s].strProvinceId==e&&(this.saleAdds.citys=a[s].citys)}else{console.log(this.provinces);for(var s in this.provinces)this.provinces[s].strProvinceId==e&&(this.citys=this.provinces[s].citys)}},getAreas:function(e,t){if("sale"==t){var a=this.saleAdds.citys;for(var s in a)a[s].strCityId==e&&(this.saleAdds.areas=a[s].areas)}else for(var s in this.citys)this.citys[s].strCityId==e&&(this.areas=this.citys[s].areas)},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",s={saleName:e+" / "+t+" / "+a,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==s.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==s.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==s.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");this.addSaleList.push(s)},delSaleAddr:function(e){console.log(e),this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/index"})}}}},WhPs:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("系统管理")]),e._v(" "),a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addSystem()}}},[e._v("新增系统")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"system_id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"系统名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"system_desc",label:"系统描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.status?a("span",[e._v("启用")]):"2"==t.row.status?a("span",[e._v("禁用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("div",[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.system_id,t.row.status)}}},[e._v("禁用")])],1):a("div",[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.system_id,t.row.status)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"handelAddSystem",attrs:{model:e.handelAddSystem,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"系统名称：",prop:"c_system_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入系统名称"},model:{value:e.handelAddSystem.c_system_name,callback:function(t){e.$set(e.handelAddSystem,"c_system_name",t)},expression:"handelAddSystem.c_system_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"c_system_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入系统描述"},model:{value:e.handelAddSystem.c_system_desc,callback:function(t){e.$set(e.handelAddSystem,"c_system_desc",t)},expression:"handelAddSystem.c_system_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddSystem")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"handelEditSystem",attrs:{model:e.handelEditSystem,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"系统名称：",prop:"e_system_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入系统名称"},model:{value:e.handelEditSystem.e_system_name,callback:function(t){e.$set(e.handelEditSystem,"e_system_name",t)},expression:"handelEditSystem.e_system_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_system_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入系统描述"},model:{value:e.handelEditSystem.e_system_desc,callback:function(t){e.$set(e.handelEditSystem,"e_system_desc",t)},expression:"handelEditSystem.e_system_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditSystem")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},WiM7:function(e,t,a){"use strict";var s=a("WHOQ"),r=a("V3xY"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},X5iD:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,fileName:"fileName",number:"number",statusList:"",imageUrl1:"",imageUrl2:"",imageUrl3:"",ruleForm:{strStatus:"",strUserId:"",strEmail:"",strCardPicFront:"",strCardPicBack:"",strHeadPic:"",strUserName:"",strPhoneNum:"",strCardNum:""},rules:{strUserName:[{required:!0,validator:r.a.validateName,trigger:"blur"}],strPhoneNum:[{required:!0,validator:r.a.validateTel,trigger:"blur"}],strCardNum:[{required:!0,validator:r.a.validatestrCardNum,trigger:"blur"}],strEmail:[{required:!0,validator:r.a.validatestrEmail,trigger:"blur"}]}}},mounted:function(){this.getId(),this.loadInfo()},methods:{getId:function(){this.ruleForm.strUserId=this.$route.query.id},loadInfo:function(){var e=this;s.a.getDStatus({who:"d"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}).then(function(t){e.getDefaultDate()})},cancelnow:function(){this.$router.push({path:"/D/index"})},getDefaultDate:function(e){var t=this;s.a.getBDInfo({strUserId:this.ruleForm.strUserId}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var a=e.baseinfo;t.ruleForm.strUserName=a.strUserName,t.ruleForm.strPhoneNum=a.strPhoneNum,t.ruleForm.strCardNum=a.strCardNum,t.ruleForm.strEmail=a.strEmail,t.ruleForm.strStatus=a.strStatusId,t.ruleForm.strCardPicFront=a.strCardPicFront,t.ruleForm.strCardPicBack=a.strCardPicBack,t.ruleForm.strHeadPic=a.strHeadPic,t.imageUrl1=t.apiRoot+"/static/upload/"+a.strCardPicFront,t.imageUrl2=t.apiRoot+"/static/upload/"+a.strCardPicBack,t.imageUrl3=t.apiRoot+"/static/upload/"+a.strHeadPic})},submitnow:function(e,t){var a=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editBDLogic({bduser:a.ruleForm}).then(function(e){if("0"!=e.ret)return void r.$message(e.retinfo);a.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/BD/index"})})})},handleAvatarSuccess1:function(e,t){this.ruleForm.strCardPicFront=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.strCardPicBack=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},handleAvatarSuccess3:function(e,t){this.ruleForm.strHeadPic=t.response.fileName,this.imageUrl3=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}},XPaD:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("权限管理")]),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("所属模块：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_module_id,callback:function(t){e.$set(e.searchkeys,"s_module_id",t)},expression:"searchkeys.s_module_id"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.moduleList.Search,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})})],2)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("页面名称：")]),e._v(" "),a("el-input",{attrs:{maxlength:40,placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_page_name,callback:function(t){e.$set(e.searchkeys,"s_page_name",t)},expression:"searchkeys.s_page_name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("权限标识码：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_is_flags,callback:function(t){e.$set(e.searchkeys,"s_is_flags",t)},expression:"searchkeys.s_is_flags"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"为空",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"不为空",value:"2"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_status,callback:function(t){e.$set(e.searchkeys,"s_status",t)},expression:"searchkeys.s_status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"禁用",value:"2"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"searchItem"},[a("p",{staticClass:"searchTitle"},[e._v("权限名称：")]),e._v(" "),a("el-input",{attrs:{maxlength:40,placeholder:"请输入权限名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_auth_name,callback:function(t){e.$set(e.searchkeys,"s_auth_name",t)},expression:"searchkeys.s_auth_name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("div",{staticClass:"goSearch "},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)])],1)],1),a("br"),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"module"}},[a("el-button",{attrs:{size:"small"}},[e._v("模块管理")])],1),e._v(" "),a("router-link",{attrs:{to:"page"}},[a("el-button",{attrs:{size:"small"}},[e._v("页面管理")])],1),e._v(" "),a("router-link",{attrs:{to:"add"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("新增权限")])],1)],1),e._v(" "),a("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,s){return a("tr",[a("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),a("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),a("td",{class:{hidden:t.FpidDis},attrs:{rowspan:t.FpidSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fpage_name))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Faccess_flags))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[t.upStatus?a("span",[e._v("禁用"),a("br"),a("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?a("span",[e._v("启用")]):a("span",[e._v("禁用")])])]),e._v(" "),a("td",["查看"==t.Fname?a("div"):1==t.Fstatus?a("div",{staticClass:"cell"},[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(s)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"editPower",attrs:{model:e.editPower,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.editPower.e_system_id,callback:function(t){e.$set(e.editPower,"e_system_id",t)},expression:"editPower.e_system_id"}},e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模块：",prop:"e_module_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPower.e_module_id,callback:function(t){e.$set(e.editPower,"e_module_id",t)},expression:"editPower.e_module_id"}},e._l(e.moduleList.Edit,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属页面：",prop:"e_pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editPower.e_pid,callback:function(t){e.$set(e.editPower,"e_pid",t)},expression:"editPower.e_pid"}},e._l(e.editPageList,function(e){return a("el-option",{key:e.Fauthority_id,attrs:{label:e.Fname,value:e.Fauthority_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"权限名称：",prop:"e_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入权限名称"},model:{value:e.editPower.e_name,callback:function(t){e.$set(e.editPower,"e_name",t)},expression:"editPower.e_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入页面描述"},model:{value:e.editPower.e_desc,callback:function(t){e.$set(e.editPower,"e_desc",t)},expression:"editPower.e_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限标识码：",prop:"e_access_flags"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入权限标识码"},model:{value:e.editPower.e_access_flags,callback:function(t){e.$set(e.editPower,"e_access_flags",t)},expression:"editPower.e_access_flags"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editPower")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("页面")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("权限")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("权限标识码")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"10%"}},[a("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:s,staticRenderFns:r};t.a=i},"Y+jq":function(e,t,a){"use strict";var s=a("1R4y"),r=a("E1vm"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},YaEn:function(e,t,a){"use strict";var s=a("7+uW"),r=a("/ocq"),i=a("lO7g"),l=a("dAjm"),n=a("eVXz"),o=a("JvIh"),d=a("2qbl"),c=a("WiM7"),u=a("k6oP"),m=a("Eulr"),h=a("8OQP"),p=a("tduD"),v=a("kkAG"),_=a("R2aI"),f=a("eC/S"),g=a("xfJu"),b=a("Pw3e"),y=a("Y+jq"),I=a("JrA+"),C=a("kLPy"),S=a("lsOu"),A=a("HWTd"),k=a("3AN7"),N=a("+bRA"),x=a("Gts9"),L=a("BCJo"),F=a("+rKZ"),w=a("ndXk"),D=a("HuWt"),P=a("Aawm"),$=a("ewUM"),R=a("OU3Z"),U=a("eGbL"),T=a("sOY0"),E=a("YiIk"),z=a("KOTb"),B=a("QZQF"),M=a("1L7g"),q=a("ccU6"),j=a("U+EN"),O=a("Vsjs"),V=a("HxPG"),J=function(e){return a.e(0).then(function(){var t=[a("xJsL")];e.apply(null,t)}.bind(this)).catch(a.oe)};s.default.use(r.a);var Y=new r.a({routes:[{path:"/login",name:"登录",component:J},{path:"/",name:"home",component:i.a,redirect:"/index",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home",children:[{path:"/index",component:l.a,name:"首页",menuShow:!0}]},{path:"/",component:i.a,name:"渠道关系管理",menuShow:!0,iconCls:"iconfont icon-users",children:[{path:"/channel/index",component:n.a,name:"渠道商管理",menuShow:!0},{path:"/channel/add_channel",component:o.a},{path:"/channel/edit_channel",component:d.a,name:"editChannel"},{path:"/channel/store",component:c.a,name:"门店管理",menuShow:!0},{path:"/channel/add_store",component:u.a},{path:"/channel/edit_store",component:m.a,name:"editStore"},{path:"/channel/employee",component:h.a,name:"工号管理",menuShow:!0},{path:"/channel/add_employee",component:p.a},{path:"/channel/edit_employee",component:v.a,name:"editEmployee"},{path:"/channel/template",component:_.a,name:"渠道模板管理",menuShow:!0},{path:"/channel/add_template",component:f.a,name:"新增渠道模板"},{path:"/channel/edit_template",component:g.a,name:"editTemplate"}]},{path:"/",component:i.a,name:"全部D",menuShow:!0,iconCls:"iconfont icon-user",children:[{path:"/Dealer/index",component:R.a,name:"全部Dealer",menuShow:!0},{path:"/Dealer/add",component:U.a,name:"新增Dealer"},{path:"/Dealer/DealerDetail",component:z.a,name:"detailDealer"},{path:"/Dealer/editDealer",component:T.a,name:"editDealer"},{path:"/Dealer/relateD4",component:E.a,name:"relateD4"},{path:"/D/index",component:L.a,name:"D列表",menuShow:!0},{path:"/D/tree",component:$.a,name:"D tree",menuShow:!0},{path:"/D/add",component:F.a,name:"新增D"},{path:"/D/d_addNext",component:D.a,name:"DAddNext"},{path:"/D/detailD",component:P.a,name:"detailD"},{path:"/D/editD",component:w.a,name:"editD"}]},{path:"/",component:i.a,name:"全部BD",menuShow:!0,iconCls:"iconfont icon-user",children:[{path:"/BD/index",component:B.a,name:"BD列表",menuShow:!0},{path:"/BD/tree",component:V.a,name:"BD tree",menuShow:!0},{path:"/BD/add",component:M.a,name:"新增BD"},{path:"/BD/addNext",component:j.a,name:"BDAddNext"},{path:"/BD/detail",component:O.a,name:"detailBD"},{path:"/BD/edit",component:q.a,name:"editBD"}]},{path:"/",component:i.a,name:"权限中心",menuShow:!0,iconCls:"iconfont icon-setting",children:[{path:"/power/system",component:b.a,name:"系统管理",menuShow:!0},{path:"/power/index",component:C.a,name:"权限管理",menuShow:!0},{path:"/power/module",component:I.a,name:"模块管理"},{path:"/power/page",component:y.a,name:"页面管理"},{path:"/power/add",component:S.a,name:"新增权限"},{path:"/power/user",component:A.a,name:"角色管理",menuShow:!0},{path:"/power/category",component:k.a,name:"分类管理"},{path:"/power/setPower",component:N.a,name:"setPower"},{path:"/power/record",component:x.a,name:"操作日志",menuShow:!0}]}]});t.a=Y},YiIk:function(e,t,a){"use strict";function s(e){a("WR3b")}var r=a("B9rx"),i=a("OOVq"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-2c32d4dc",null);t.a=o.exports},b7yL:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},bXKR:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{dataList:[],provinces:[],provinceId:"",pageIndex:"0",pageSize:"10",currentPage4:1,total:0,filters:{searchkey:""}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize,provinceId:this.provinceId,search:this.filters.searchkey};s.a.getChannelList(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.dataList=t.data.channelList,e.total=t.data.nums}),s.a.getProvince(t).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.provinces=t.data.provinceList})},editChannel:function(e){this.$router.push({name:"editChannel",query:{id:e}})},search:function(){this.provinceId=r.a.Trim(this.provinceId),this.filters.searchkey=r.a.Trim(this.filters.searchkey),this.showList()},clearForm:function(){this.provinceId="",this.filters.searchkey="",this.showList()}},mounted:function(){this.showList()}}},bdV1:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ"),i=a("uJvA");t.a={data:function(){return{icon:"",searchNode:"",searchResult:[],searchResultLength:0,searchResultIndex:0,showNext:!1,maxLevel:4,currentKey:"",defaultExpand:[],defaultChecked:"",showAddNext:!0,showRightInfo:!1,relationIdFn:"",userIdFn:"",saleAddrFn:"",D4List:[],level:{1:"D4",2:"D3",3:"D2",4:"D1"},number:"number",statusId:"1",strRelationId:"",treeList:[],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},defaultProps:{children:"subList",label:function(e,t){return e.strLevelName+" "+e.strUserName+" / "+e.strPhoneNum}},replaceNodeForm:{replaceNodeList:[],addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:"D3"},replaceNodeList:[],replaceNodeAddr:{provinces:i.a.addrList,citys:[],areas:[]},delNode:{showDelNodeModel:!1,info:""},AddNextForm:{addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:""},AddNextList:[],AddNextSaleAddr:{provinces:i.a.addrList,citys:[],areas:[]},rules:{}}},watch:{strRelationId:function(e,t){this.delNode.showDelNodeModel=!1,this.showRightInfo=!1,e&&this.getTree(e)},"replaceNodeForm.saleAddsId.strSaleProvinceId":function(e,t){this.replaceNodeForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.replaceNodeAddr)},"replaceNodeForm.saleAddsId.strSaleCityId":function(e){this.replaceNodeForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.replaceNodeAddr)},"AddNextForm.saleAddsId.strSaleProvinceId":function(e,t){this.AddNextForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.AddNextSaleAddr)},"AddNextForm.saleAddsId.strSaleCityId":function(e){this.AddNextForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.AddNextSaleAddr)},relationIdFn:function(e){e&&(this.getAddNextList(e),this.getReplaceDxList(e))}},mounted:function(){this.index(),this.getD4List()},methods:{index:function(){var e=this;0==i.a.addrList.length&&s.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);i.a.addrList=t.data.address,e.AddNextSaleAddr.provinces=t.data.address,e.replaceNodeAddr.provinces=t.data.address})},getD4List:function(){var e=this;s.a.getD4List({strDType:"D4"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.D4List=t.dxlist})},reloadList:function(e){this.getTree(this.strRelationId),this.relationIdFn="",this.replaceNodeForm.strUserId="",this.AddNextForm.strUserId="",this.showRightInfo=!1,e&&this.getD4List()},getTree:function(e){var t=this;this.delNode.showDelNodeModel=!1,s.a.getD4Tree({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.treeList=[],t.treeList.push(e.dtree)})},handleIconClick:function(){function e(a){for(var s in a)-1==a[s].strUserName.search(t.searchNode)&&-1==a[s].strPhoneNum.search(t.searchNode)||t.searchResult.push(a[s].strRelationId),a[s].subList&&e(a[s].subList)}if(this.showNext=!1,this.searchNode=r.a.Trim(this.searchNode),!this.searchNode)return void this.$message("请输入姓名或手机号搜索");var t=this;if(this.searchResult=[],this.defaultExpand=[],this.defaultChecked="",this.searchResultIndex=0,this.searchResultLength=0,e(this.treeList),this.searchResultLength=this.searchResult.length,0==this.searchResultLength)return void this.$message("无结果");this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0],setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0),this.showNext=!0},getNext:function(){++this.searchResultIndex==this.searchResultLength?(this.searchResultIndex=0,this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0]):(this.defaultExpand=[this.searchResult[this.searchResultIndex]],this.defaultChecked=this.searchResult[this.searchResultIndex]),setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0)},handleNodeClick:function(e,t){this.replaceNodeForm.level=this.level[t.level],t.level<this.maxLevel?(this.showAddNext=!0,this.AddNextForm.level=this.level[Number(t.level)+1]):this.showAddNext=!1,this.showRightInfo=!0,this.relationIdFn=e.strRelationId,this.userIdFn=e.strUserId,this.saleAddrFn=e.saleAddrList,e.subList?(this.defaultExpand=[e.strRelationId],this.delNode.showDelNodeModel=!1):(this.defaultExpand=[t.parent.data.strRelationId],this.delNode.showDelNodeModel=!0,this.delNode.info=e.strUserName+" / "+e.strPhoneNum)},getReplaceDxList:function(e){var t=this;s.a.getReplaceDxList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);if(t.replaceNodeForm.replaceNodeList=e.dlist,t.replaceNodeForm.strUserId=t.userIdFn,0!=t.saleAddrFn.length){t.replaceNodeForm.addSaleList=[];for(var a in t.saleAddrFn){var s=t.saleAddrFn[a];s.strProvinceName||(s.strProvinceName="全部"),s.strCityName||(s.strCityName="全部"),s.strAreaName||(s.strAreaName="全部"),t.replaceNodeForm.addSaleList.push({saleName:s.strProvinceName+" "+s.strCityName+" "+s.strAreaName,saleId:{addr_province_id:s.strProvinceId,addr_city_id:s.strCityId,addr_area_id:s.strAreaId}})}}})},delThisNode:function(e){var t=this,a=this.$loading({text:"正在删除",target:"#loading-area"});s.a.delLeafNode({strRelationId:e}).then(function(e){if(a.close(),"0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("成功"),"D4"==t.replaceNodeForm.level?(t.treeList=[],t.strRelationId="",t.relationIdFn="",t.replaceNodeForm.strUserId="",t.AddNextForm.strUserId="",t.showRightInfo=!1,t.getD4List()):t.reloadList()})},getAddNextList:function(e){var t=this;s.a.getAddNextList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.AddNextList=e.dlist})},getCitys:function(e,t){var a=t.provinces;for(var s in a)a[s].strProvinceId==e&&(t.citys=a[s].citys)},getAreas:function(e,t){var a=t.citys;for(var s in a)a[s].strCityId==e&&(t.areas=a[s].areas)},addSaleAddr:function(e){var t=e.saleAddsId.strSaleProvinceId.split(",")[1]?e.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",a=e.saleAddsId.strSaleCityId.split(",")[1]?e.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=e.saleAddsId.strSaleAreaId.split(",")[1]?e.saleAddsId.strSaleAreaId.split(",")[1]:"全部",r={saleName:t+" "+a+" "+s,saleId:{addr_province_id:e.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:e.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:e.saleAddsId.strSaleAreaId.split(",")[0]}};for(var i in e.addSaleList)if(e.addSaleList[i].saleId.addr_province_id==r.saleId.addr_province_id&&e.addSaleList[i].saleId.addr_city_id==r.saleId.addr_city_id&&e.addSaleList[i].saleId.addr_area_id==r.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");e.addSaleList.push(r)},delSaleAddr:function(e,t){t.addSaleList.splice(e,1)},submitForm:function(e,t){var a=this,r=[],i=e.addSaleList;for(var l in i)r.push({strProvinceId:i[l].saleId.addr_province_id,strCityId:i[l].saleId.addr_city_id,strAreaId:i[l].saleId.addr_area_id});var n={strRelationId:this.relationIdFn,saleAddrList:r,strUserId:e.strUserId};if("AddNextForm"==t){if(!n.strUserId)return void this.$layer.alert("请选择节点负责人");if(0==n.saleAddrList.length)return void this.$layer.alert("请添加销售地址");var o=this.$loading({text:"正在提交",target:"#loading-area"});s.a.setAddNext(n).then(function(e){if(o.close(),"0"!=e.ret)return void a.$layer.alert(e.retinfo);a.$message("成功！"),a.reloadList()})}else if("replaceNodeForm"==t){if(!n.strUserId)return void this.$layer.alert("请选择节点负责人");if(0==n.saleAddrList.length)return void this.$layer.alert("请添加销售地址");var o=this.$loading({text:"正在更新",target:"#loading-area"});s.a.replaceDxNode(n).then(function(e){if(o.close(),"0"!=e.ret)return void a.$layer.alert(e.retinfo);a.$message("成功！"),a.reloadList("D4"==a.replaceNodeForm.level)})}},cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addEmployeeLogic(t.ruleForm).then(function(e){"0"==e.ret&&(t.$message("成功！"),a.$router.push({path:"/D/index"}))})})}}}},bvHh:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 新增模板")]),e._v(" "),a("el-form",{staticClass:"content-width",attrs:{"label-width":"180px"}},[a("el-form-item",{attrs:{label:"渠道关系模板名称：",prop:"strTemplateName"}},[a("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.dict.strTemplateName,callback:function(t){e.$set(e.dict,"strTemplateName",t)},expression:"dict.strTemplateName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道关系模板描述：",prop:"strTemplateDesc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入模板描述"},model:{value:e.dict.strTemplateDesc,callback:function(t){e.$set(e.dict,"strTemplateDesc",t)},expression:"dict.strTemplateDesc"}})],1),e._v(" "),a("el-form-item",[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addone}},[e._v("添加一行")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[a("el-table-column",{attrs:{label:"层级",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入层级"},model:{value:t.row.strLevel,callback:function(a){e.$set(t.row,"strLevel",a)},expression:"scope.row.strLevel"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"层级名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入层级名称"},model:{value:t.row.strLevelName,callback:function(a){e.$set(t.row,"strLevelName",a)},expression:"scope.row.strLevelName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"层级描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.row.strLevelDesc,callback:function(a){e.$set(t.row,"strLevelDesc",a)},expression:"scope.row.strLevelDesc"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"showRoles",label:"角色",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.setindex(t.$index)}}},[e._v("选择角色")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.removeTodo(t.$index)}}},[e._v("删除此行")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择角色",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{staticClass:"tool"}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentFroles,stripe:""}},[a("el-table-column",{attrs:{label:"选择",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.strSelect,callback:function(a){e.$set(t.row,"strSelect",a)},expression:"scope.row.strSelect"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleId",label:"角色Id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleName",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleDesc",label:"角色描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strAuthoritysName",label:"权限名称"}})],1),e._v(" "),a("div",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:e.setselect}},[e._v("确认")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},"c+Ys":function(e,t,a){e.exports=a.p+"other/img/sunshine.8127ccc.png"},c9ac:function(e,t){},"cG/1":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{editDialog:!1,EditInfo:"",dataList:[],systemList:[],moduleList:{Search:[],Add:[],Edit:[]},editPageList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},editPower:{e_authority_id:"",e_system_id:"",e_module_id:"",e_access_flags:"",e_pid:"",e_type:"1",e_desc:"",e_name:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getEditPages:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:"",pageIndex:"0",pageSize:"9999"},rules:{e_system_id:[{required:!0,message:"请选择所属系统"}],e_module_id:[{required:!0,message:"请选择所属模块"}],e_pid:[{required:!0,message:"请选择所属页面"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},watch:{"searchkeys.s_system_id":function(e,t){this.searchkeys.s_module_id="",this.moduleList.Search=[],this.getSystemModules(e,"Search")},"editPower.e_system_id":function(e,t){this.getEditPages.s_module_id="",this.moduleList.Edit=[],""!=e&&this.getSystemModules(e,"Edit")},"editPower.e_module_id":function(e,t){this.editPower.e_pid="",this.editPageList=[],""!=e&&this.getModulePages(e)}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){var e=this,t={pageSize:"100"};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list})},getSystemModules:function(e,t){var a=this;this["get"+t+"Module"].s_system_id=e,"Edit"==t&&(this.getEditPages.s_system_id=e),s.a.getModuleList(this["get"+t+"Module"]).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.moduleList[t]=a.handleModuleList(e.data.list),"Edit"==t&&(a.getEditPages.s_module_id=a.EditInfo.Fmodule_id,a.editPower.e_module_id=a.EditInfo.Fmodule_id)})},getModulePages:function(e){var t=this;this.getEditPages.s_module_id=e,this.editPower.e_module_id=e,s.a.getPageList(this.getEditPages).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.editPageList=t.relateFstatus(e.data.list),t.editPower.e_pid=t.EditInfo.Fpid})},handleModuleList:function(e){var t=[];for(var a in e){var s=e[a].system_module_list;for(var r in s)t.push(s[r])}return t},relateFstatus:function(e){for(var t in e)"1"==e[t].system_status&&"1"==e[t].Fmodule_status&&"1"==e[t].Fpage_status||(e[t].Fstatus="2",e[t].upStatus=!0);return e},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_id:this.searchkeys.s_module_id,s_page_name:this.searchkeys.s_page_name,s_auth_name:this.searchkeys.s_auth_name,s_is_flags:this.searchkeys.s_is_flags,s_status:this.searchkeys.s_status,pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getActionAuthList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);console.log(t),e.dataList=r.a.combineCell(e.relateFstatus(t.data.list)),e.total=Number(t.data.nums)})},getEditData:function(e){this.EditInfo=this.dataList[e],this.editPower.e_authority_id=String(this.EditInfo.Fauthority_id),this.editPower.e_name=this.EditInfo.Fname,this.editPower.e_desc=this.EditInfo.Fdesc,this.editPower.e_access_flags=this.EditInfo.Faccess_flags,this.editPower.e_system_id=this.EditInfo.Fsystem_id,this.editDialog=!0},setStatus:function(e,t){var a=this,r={e_type:"1",e_authority_id:e,e_status:"1"==t?"2":"1"};s.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},search:function(){this.searchkeys.s_page_name=r.a.Trim(this.searchkeys.s_page_name),this.searchkeys.s_auth_name=r.a.Trim(this.searchkeys.s_auth_name),this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_id="",this.searchkeys.s_page_name="",this.searchkeys.s_auth_name="",this.searchkeys.s_is_flags="",this.searchkeys.s_status="",this.showList()},submitnow:function(e){var t=this;this.editPower.e_name=r.a.Trim(this.editPower.e_name),this.editPower.e_desc=r.a.Trim(this.editPower.e_desc),this.editPower.e_access_flags=r.a.Trim(this.editPower.e_access_flags),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editAuth(t.editPower).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})})},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 将导致该权限不可用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该权限将可恢复使用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1}}}},ccU6:function(e,t,a){"use strict";function s(e){a("0H7l")}var r=a("X5iD"),i=a("92T6"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,null,null);t.a=o.exports},cpVm:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("新增D下级")])},r=[],i={render:s,staticRenderFns:r};t.a=i},ctBg:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ"),i=a("uJvA");t.a={data:function(){return{searchAddr:{provinces:i.a.addrList},dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,filters:{strStatus:"",strDealerName:"",strUserName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:""}}},watch:{"filters.strAddrProvinceId":function(e,t){this.filters.strAddrCityId="",r.a.getCitys(e,this.searchAddr)},"filters.strAddrCityId":function(e){this.filters.strAddrAreaId="",r.a.getAreas(e,this.searchAddr)}},mounted:function(){this.showList(),this.searchInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=10*(e-1),this.showList()},changeEndTime:function(e){var t=e.split(" "),a=t[0]+"T"+t[1]+".000Z";return r.a.formatDate.format(new Date(a),"yy-MM-dd")},showList:function(){var e=this;this.filters.strDealerName=r.a.Trim(this.filters.strDealerName),this.filters.strUserName=r.a.Trim(this.filters.strUserName);var t={pageinfo:{pageIndex:String(this.pageIndex),pageSize:this.pageSize},searchkeys:this.filters};s.a.getDealerList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data.list;for(var s in a)a[s].strContractEndTime=e.changeEndTime(a[s].strContractEndTime);e.dataList=a,e.total=Number(t.data.nums)})},searchInfo:function(){var e=this;0==i.a.addrList.length&&s.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);i.a.addrList=t.data.address,e.searchAddr.provinces=t.data.address})},detailDealer:function(e){this.$router.push({name:"detailDealer",query:{id:e}})},editDealer:function(e){this.$router.push({name:"editDealer",query:{id:e}})},relateD4:function(e,t){var a=!!t;this.$router.push({name:"relateD4",query:{id:e,ifD4:a}})},search:function(){this.showList()},clearForm:function(){this.$refs.filters.resetFields(),this.showList()}}}},dAjm:function(e,t,a){"use strict";function s(e){a("i19H")}var r=a("5JzA"),i=a("PMJh"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-b3bc8c62",null);t.a=o.exports},dPLb:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ"),i=a("uJvA");t.a={data:function(){return{icon:"",searchNode:"",searchResult:[],searchResultLength:0,searchResultIndex:0,showNext:!1,maxLevel:4,currentKey:"",defaultExpand:[],defaultChecked:"",showAddNext:!0,showRightInfo:!1,relationIdFn:"",userIdFn:"",saleAddrFn:"",BD4List:[],level:{1:"BD4",2:"BD3",3:"BD2",4:"BD1"},number:"number",statusId:"1",strRelationId:"",treeList:[],ruleForm:{strStatus:"1",strUserName:"",strUserTel:"",strCardNum:"",strEmail:""},defaultProps:{children:"subList",label:function(e,t){return e.strLevelName+" "+e.strUserName+" / "+e.strPhoneNum}},replaceNodeForm:{replaceNodeList:[],addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:"BD3"},replaceNodeList:[],replaceNodeAddr:{provinces:i.a.addrList,citys:[],areas:[]},delNode:{showDelNodeModel:!1,info:""},AddNextForm:{addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},strUserId:"",level:""},AddNextList:[],AddNextSaleAddr:{provinces:i.a.addrList,citys:[],areas:[]},rules:{}}},watch:{strRelationId:function(e,t){this.delNode.showDelNodeModel=!1,this.showRightInfo=!1,e&&this.getTree(e)},"replaceNodeForm.saleAddsId.strSaleProvinceId":function(e,t){this.replaceNodeForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.replaceNodeAddr)},"replaceNodeForm.saleAddsId.strSaleCityId":function(e){this.replaceNodeForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.replaceNodeAddr)},"AddNextForm.saleAddsId.strSaleProvinceId":function(e,t){this.AddNextForm.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],this.AddNextSaleAddr)},"AddNextForm.saleAddsId.strSaleCityId":function(e){this.AddNextForm.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],this.AddNextSaleAddr)},relationIdFn:function(e){e&&(this.getAddNextBDList(e),this.getReplaceBDxList(e))}},mounted:function(){this.index(),this.getBD4List()},methods:{index:function(){var e=this;0==i.a.addrList.length&&s.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);i.a.addrList=t.data.address,e.AddNextSaleAddr.provinces=t.data.address,e.replaceNodeAddr.provinces=t.data.address})},getBD4List:function(){var e=this;s.a.getBD4List({strBDType:"BD4"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.BD4List=t.bdxlist})},reloadList:function(e){this.getTree(this.strRelationId),this.relationIdFn="",this.replaceNodeForm.strUserId="",this.AddNextForm.strUserId="",this.showRightInfo=!1,e&&this.getBD4List()},getTree:function(e){var t=this;this.delNode.showDelNodeModel=!1,s.a.getBD4Tree({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.treeList=[],t.treeList.push(e.bdtree)})},handleIconClick:function(){function e(a){for(var s in a)-1==a[s].strUserName.search(t.searchNode)&&-1==a[s].strPhoneNum.search(t.searchNode)||t.searchResult.push(a[s].strRelationId),a[s].subList&&e(a[s].subList)}if(this.showNext=!1,this.searchNode=r.a.Trim(this.searchNode),!this.searchNode)return void this.$message("请输入姓名或手机号搜索");var t=this;if(this.searchResult=[],this.defaultExpand=[],this.defaultChecked="",this.searchResultIndex=0,this.searchResultLength=0,e(this.treeList),this.searchResultLength=this.searchResult.length,0==this.searchResultLength)return void this.$message("无结果");this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0],setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0),this.showNext=!0},getNext:function(){++this.searchResultIndex==this.searchResultLength?(this.searchResultIndex=0,this.defaultExpand=[this.searchResult[0]],this.defaultChecked=this.searchResult[0]):(this.defaultExpand=[this.searchResult[this.searchResultIndex]],this.defaultChecked=this.searchResult[this.searchResultIndex]),setTimeout(function(){document.querySelectorAll(".is-current>.el-tree-node__content")[0].click()},0)},handleNodeClick:function(e,t){this.replaceNodeForm.level=this.level[t.level],t.level<this.maxLevel?(this.showAddNext=!0,this.AddNextForm.level=this.level[Number(t.level)+1]):this.showAddNext=!1,this.showRightInfo=!0,this.relationIdFn=e.strRelationId,this.userIdFn=e.strUserId,this.saleAddrFn=e.saleAddrList,e.subList?(this.defaultExpand=[e.strRelationId],this.delNode.showDelNodeModel=!1):(this.defaultExpand=[t.parent.data.strRelationId],this.delNode.showDelNodeModel=!0,this.delNode.info=e.strUserName+" / "+e.strPhoneNum)},getReplaceBDxList:function(e){var t=this;s.a.getReplaceBDxList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);if(t.replaceNodeForm.replaceNodeList=e.dlist,t.replaceNodeForm.strUserId=t.userIdFn,0!=t.saleAddrFn.length){t.replaceNodeForm.addSaleList=[];for(var a in t.saleAddrFn){var s=t.saleAddrFn[a];s.strProvinceName||(s.strProvinceName="全部"),s.strCityName||(s.strCityName="全部"),s.strAreaName||(s.strAreaName="全部"),t.replaceNodeForm.addSaleList.push({saleName:s.strProvinceName+" "+s.strCityName+" "+s.strAreaName,saleId:{addr_province_id:s.strProvinceId,addr_city_id:s.strCityId,addr_area_id:s.strAreaId}})}}})},delThisNode:function(e){var t=this,a=this.$loading({text:"正在删除",target:"#loading-area"});s.a.delBDLeafNode({strRelationId:e}).then(function(e){if(a.close(),"0"!=e.ret)return void t.$layer.alert(e.retinfo);t.$message("成功"),"BD4"==t.replaceNodeForm.level?(t.treeList=[],t.strRelationId="",t.relationIdFn="",t.replaceNodeForm.strUserId="",t.AddNextForm.strUserId="",t.showRightInfo=!1,t.getBD4List()):t.reloadList()})},getAddNextBDList:function(e){var t=this;s.a.getAddNextBDList({strRelationId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.AddNextList=e.dlist})},getCitys:function(e,t){var a=t.provinces;for(var s in a)a[s].strProvinceId==e&&(t.citys=a[s].citys)},getAreas:function(e,t){var a=t.citys;for(var s in a)a[s].strCityId==e&&(t.areas=a[s].areas)},addSaleAddr:function(e){var t=e.saleAddsId.strSaleProvinceId.split(",")[1]?e.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",a=e.saleAddsId.strSaleCityId.split(",")[1]?e.saleAddsId.strSaleCityId.split(",")[1]:"全部",s=e.saleAddsId.strSaleAreaId.split(",")[1]?e.saleAddsId.strSaleAreaId.split(",")[1]:"全部",r={saleName:t+" "+a+" "+s,saleId:{addr_province_id:e.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:e.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:e.saleAddsId.strSaleAreaId.split(",")[0]}};for(var i in e.addSaleList)if(e.addSaleList[i].saleId.addr_province_id==r.saleId.addr_province_id&&e.addSaleList[i].saleId.addr_city_id==r.saleId.addr_city_id&&e.addSaleList[i].saleId.addr_area_id==r.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");e.addSaleList.push(r)},delSaleAddr:function(e,t){t.addSaleList.splice(e,1)},submitForm:function(e,t){var a=this,r=[],i=e.addSaleList;for(var l in i)r.push({strProvinceId:i[l].saleId.addr_province_id,strCityId:i[l].saleId.addr_city_id,strAreaId:i[l].saleId.addr_area_id});var n={strRelationId:this.relationIdFn,saleAddrList:r,strUserId:e.strUserId};if("AddNextForm"==t){if(!n.strUserId)return void this.$layer.alert("请选择节点负责人");if(0==n.saleAddrList.length)return void this.$layer.alert("请添加销售地址");var o=this.$loading({text:"正在提交",target:"#loading-area"});s.a.setAddBDNext(n).then(function(e){if(o.close(),"0"!=e.ret)return void a.$layer.alert(e.retinfo);a.$message("成功！"),a.reloadList()})}else if("replaceNodeForm"==t){if(!n.strUserId)return void this.$layer.alert("请选择节点负责人");if(0==n.saleAddrList.length)return void this.$layer.alert("请添加销售地址");var o=this.$loading({text:"正在更新",target:"#loading-area"});s.a.replaceBDxNode(n).then(function(e){if(o.close(),"0"!=e.ret)return void a.$layer.alert(e.retinfo);a.$message("成功！"),a.reloadList("BD4"==a.replaceNodeForm.level)})}},cancelnow:function(){this.$router.push({path:"/D/index"})},submitnow:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addEmployeeLogic(t.ruleForm).then(function(e){"0"==e.ret&&(t.$message("成功！"),a.$router.push({path:"/D/index"}))})})}}}},dZY2:function(e,t){},dkMe:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部BD > 详情")]),e._v(" "),a("div",{staticStyle:{width:"900px",margin:"auto"}},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editBD(e.strUserId)}}},[e._v("编辑BD")]),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回BD列表")])],1)],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号详情"}},[a("el-form",{attrs:{"label-width":"150px"}},[a("p",[e._v("1.基本信息")]),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserId))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strPhoneNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strCardNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"邮箱："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strEmail))])]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片正面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicFront}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"身份证照片背面："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strCardPicBack}})]),e._v(" "),a("el-form-item",{staticClass:"pic",attrs:{label:"头像照片："}},[a("img",{attrs:{src:e.apiRoot+"/static/upload/"+e.ruleForm.baseinfo.strHeadPic}})]),e._v(" "),a("p",[e._v("2.数据范围")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-table",{staticStyle:{width:"402px"},attrs:{data:e.ruleForm.identityList}},[a("el-table-column",{attrs:{prop:"strMyLevelName",label:"组织身份",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应上级",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t            "+e._s(t.row.strLeadUserName+" / "+t.row.strLeadPhoneNum)+"\n\t\t\t\t\t\t        ")]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},e._l(e.ruleForm.saleareaList,function(t){return a("div",[e._v("\n\t\t\t\t    \t\t"+e._s(t)+"\n\t\t\t\t    \t")])})),e._v(" "),a("p",[e._v("3.收款信息")]),e._v(" "),a("el-form-item",{attrs:{label:"微信昵称："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatName))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信openid："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strWechatOpenId))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信头像："}},[a("span",[e._v(e._s(e.ruleForm.accountInfo.strAccountInfoId))])]),e._v(" "),a("p",[e._v("4.合作状态")]),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[e._v(e._s(e.ruleForm.baseinfo.strStatusName))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"负责门店"}},[a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strStoreId",label:"门店ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStoreName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"所属商户"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t            "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName+t.row.strAddress)+"\n\t\t\t\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):"5"==t.row.strStatus?a("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"生效时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strUpdateTime",label:"截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.storeBDetail(t.row.strStoreId)}}},[e._v("详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("关闭")])],1)],1)],1)])},r=[],i={render:s,staticRenderFns:r};t.a=i},dkpb:function(e,t){},"eC/S":function(e,t,a){"use strict";function s(e){a("6oxs")}var r=a("qZ2D"),i=a("bvHh"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-8f8be312",null);t.a=o.exports},eGbL:function(e,t,a){"use strict";var s=a("SC3I"),r=a("4jpc"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},eH10:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],cateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddSystem:{c_system_name:"",c_system_desc:"",c_status:"1",c_system_url:""},handelEditSystem:{e_system_name:"",e_system_desc:"",e_status:"1",e_system_url:""},rules:{c_system_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_system_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_system_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_system_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data.list;e.dataList=a,e.total=Number(t.data.nums)})},setStatus:function(e,t){var a=this,r={e_system_id:e,e_status:"1"==t?"2":"1"};s.a.changeSystemStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},addSystem:function(){this.handelAddSystem.c_system_id="",this.handelAddSystem.c_system_name="",this.handelAddSystem.c_system_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditSystem.e_system_id=t.system_id,this.handelEditSystem.e_system_name=t.name,this.handelEditSystem.e_system_desc=t.system_desc,this.editDialog=!0},search:function(){this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddSystem.c_name=r.a.Trim(this.handelAddSystem.c_name),this.handelAddSystem.c_desc=r.a.Trim(this.handelAddSystem.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addSystem(t.handelAddSystem).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditSystem.e_name=r.a.Trim(this.handelEditSystem.e_name),this.handelEditSystem.e_desc=r.a.Trim(this.handelEditSystem.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editSystem(t.handelEditSystem).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该系统中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该系统中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该系统中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1,this.addDialog=!1}}}},eVXz:function(e,t,a){"use strict";var s=a("bXKR"),r=a("zG71"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},emZO:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部BD")]),e._v(" "),a("el-form",{ref:"searchkeys",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.searchkeys}},[a("el-row",{attrs:{gutter:14}},[a("el-col",{attrs:{span:5}},[a("p",{staticClass:"searchTitle"},[e._v("组织身份：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strLevelCode"}},[a("el-checkbox-group",{model:{value:e.searchkeys.strLevelCode,callback:function(t){e.$set(e.searchkeys,"strLevelCode",t)},expression:"searchkeys.strLevelCode"}},[a("el-checkbox",{attrs:{label:"BD1"}}),e._v(" "),a("el-checkbox",{attrs:{label:"BD2"}}),e._v(" "),a("el-checkbox",{attrs:{label:"BD3"}}),e._v(" "),a("el-checkbox",{attrs:{label:"BD4"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.strStatus,callback:function(t){e.$set(e.searchkeys,"strStatus",t)},expression:"searchkeys.strStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusList,function(e){return a("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("姓名：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strBDUserName"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strBDUserName,callback:function(t){e.$set(e.searchkeys,"strBDUserName",t)},expression:"searchkeys.strBDUserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("手机号：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strPhoneNum"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入手机号"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strPhoneNum,callback:function(t){e.$set(e.searchkeys,"strPhoneNum",t)},expression:"searchkeys.strPhoneNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("身份证号码：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strCardNum"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入身份证号码"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strCardNum,callback:function(t){e.$set(e.searchkeys,"strCardNum",t)},expression:"searchkeys.strCardNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建BD用户")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{label:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t    \t\t"+e._s(t.row.strPrefixUserId)+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strPhoneNum",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strCardNum",label:"身份证号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelNames",label:"组织身份"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStatusName",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.detailBD(t.row.strUserId)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.eidtBD(t.row.strUserId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},ewUM:function(e,t,a){"use strict";function s(e){a("oNjH")}var r=a("bdV1"),i=a("OWTc"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-62dee9dc",null);t.a=o.exports},exlQ:function(e,t){},gapc:function(e,t){},geQ2:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("设置权限")]),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"user"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回角色管理")])],1)],1),e._v(" "),a("p",{staticStyle:{"font-size":"15px",color:"#1f2d3d","font-weight":"500"}},[e._v("角色："+e._s(e.strUserName))]),e._v(" "),a("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,s){return a("tr",[a("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),a("td",{class:{hidden:t.Fmodule_idDis},attrs:{rowspan:t.Fmodule_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fmodule_name))])]),e._v(" "),a("td",{class:{hidden:t.FpidDis},attrs:{rowspan:t.FpidSpan}},[a("div",{staticClass:"cell textRight"},[e._v(e._s(t.Fpage_name)+"   "),a("el-checkbox",{on:{change:function(t){e.changeAuth(s)}},model:{value:t.haveAuth,callback:function(a){e.$set(t,"haveAuth",a)},expression:"item.haveAuth"}})],1)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},e._l(t.FauthList,function(t){return a("span",[a("el-checkbox",{attrs:{disabled:"查看"==t.authName},on:{change:function(t){e.setPageChoosed(s)}},model:{value:t.isChecked,callback:function(a){e.$set(t,"isChecked",a)},expression:"option.isChecked"}},[e._v(e._s(t.authName))])],1)}))])])})],2),e._v(" "),a("div",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow()}}},[e._v("确认")]),e._v(" "),a("router-link",{attrs:{to:"index"}},[a("el-button",[e._v("取消")])],1)],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[a("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[a("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"14%"}},[a("div",{staticClass:"cell"},[e._v("页面")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"58%"}},[a("div",{staticClass:"cell"},[e._v("权限")])])])}],i={render:s,staticRenderFns:r};t.a=i},"h+Qc":function(e,t){},hmTe:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("门店 / 编辑")]),e._v(" "),a("div",{attrs:{id:"Edit-store"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"POS信息"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"渠道商："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道商"},model:{value:e.structAid,callback:function(t){e.structAid=t},expression:"structAid"}},e._l(e.structA,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+",0"}})}))],1),e._v(" "),e._l(e.tempList,function(t,s){return a("el-form-item",{key:s,attrs:{label:t.RelationName}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelList["model_"+(s+1)],callback:function(t){e.$set(e.modelList,"model_"+(s+1),t)},expression:"modelList['model_'+(index+1)]"}},e._l(t.Relations,function(e){return a("el-option",{key:e.strRelationId,attrs:{label:e.strRelationName,value:e.strRelationId+","+e.strLevelId+","+(s+1)}})})),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.addGroup(t.upStrRelationId,t.upStrLevelId,s)}}},[e._v("新增")])],1)}),e._v(" "),a("el-form-item",{attrs:{label:"门店名称："}},[a("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.strStoreName,callback:function(t){e.strStoreName=t},expression:"strStoreName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店地址："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.strProvinceId,callback:function(t){e.strProvinceId=t},expression:"strProvinceId"}},e._l(e.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})})),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.strCityId,callback:function(t){e.strCityId=t},expression:"strCityId"}},e._l(e.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId}})})),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.strAreaId,callback:function(t){e.strAreaId=t},expression:"strAreaId"}},e._l(e.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId}})})),e._v(" "),a("br"),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.strAddress,callback:function(t){e.strAddress=t},expression:"strAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择省份"},model:{value:e.saleAddsId.strSaleProvinceId,callback:function(t){e.$set(e.saleAddsId,"strSaleProvinceId",t)},expression:"saleAddsId.strSaleProvinceId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId+","+e.strProvinceName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:e.saleAddsId.strSaleCityId,callback:function(t){e.$set(e.saleAddsId,"strSaleCityId",t)},expression:"saleAddsId.strSaleCityId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.citys,function(e){return a("el-option",{key:e.strCityId,attrs:{label:e.strCityName,value:e.strCityId+","+e.strCityName}})})],2),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择区县"},model:{value:e.saleAddsId.strSaleAreaId,callback:function(t){e.$set(e.saleAddsId,"strSaleAreaId",t)},expression:"saleAddsId.strSaleAreaId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.saleAdds.areas,function(e){return a("el-option",{key:e.strAreaId,attrs:{label:e.strAreaName,value:e.strAreaId+","+e.strAreaName}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.addSaleAddr()}}},[e._v("添加")]),e._v(" "),a("div",[a("p",{staticClass:"add-addr-title"},[e._v("已添加地址：")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.addSaleList.length,expression:"addSaleList.length == 0"}],staticClass:"addr-remind"},[e._v("当前未添加地址，请点击上方按钮添加！")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addSaleList,function(t,s){return a("p",{staticClass:"add-addr-item",attrs:{"v:key":"index"}},[a("el-col",{attrs:{span:18}},[a("span",[e._v(e._s(t.saleName))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.delSaleAddr(s)}}},[e._v(" 删除此行")])],1)],1)}))])],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"渠道经理："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道经理"},model:{value:e.strChannelManagerId,callback:function(t){e.strChannelManagerId=t},expression:"strChannelManagerId"}},e._l(e.ChannelManager,function(e){return a("el-option",{key:e.strChannelManagerId,attrs:{label:e.strChannelManagerName,value:e.strChannelManagerId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("确认更新")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],2)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"S1列表"}},[a("br"),e._v(" "),a("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联S1：")]),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s1_btn()}}},[e._v("添加")]),e._v(" "),a("br"),a("br"),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_s1_list.length,expression:"get_store_s1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联S1，请点击上方按钮添加S1")]),e._v(" "),e._l(e.get_store_s1_list,function(t,s){return a("p",{staticClass:"add-addr-item"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strUserTel))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_s1(s)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),a("el-tab-pane",{attrs:{label:"S2列表"}},[a("br"),e._v(" "),a("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联S2：")]),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s2_btn()}}},[e._v("添加")]),e._v(" "),a("br"),a("br"),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_s2_list.length,expression:"get_store_s2_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联S2，请点击上方按钮添加S2")]),e._v(" "),e._l(e.get_store_s2_list,function(t,s){return a("p",{staticClass:"add-addr-item"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strUserTel))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_s2(s)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),a("el-tab-pane",{attrs:{label:"D1列表"}},[a("br"),e._v(" "),a("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联D1：")]),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_d1_btn()}}},[e._v("添加")]),e._v(" "),a("br"),a("br"),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_d1_list.length,expression:"get_store_d1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联D1，请点击上方按钮添加D1")]),e._v(" "),e._l(e.get_store_d1_list,function(t,s){return a("p",{staticClass:"add-addr-item"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strPhoneNum))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_d1(s)}}},[e._v(" 删除此项")])],1)],1)})],2),e._v(" "),a("el-tab-pane",{attrs:{label:"BD1列表"}},[a("br"),e._v(" "),a("span",{staticClass:"vue-title  vue-M-R30"},[e._v("已关联BD1：")]),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_bd1_btn()}}},[e._v("添加")]),e._v(" "),a("br"),a("br"),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.get_store_bd1_list.length,expression:"get_store_bd1_list.length == 0"}],staticClass:"vue-remind"},[e._v("未关联BD1，请点击上方按钮添加BD1")]),e._v(" "),e._l(e.get_store_bd1_list,function(t,s){return a("p",{staticClass:"add-addr-item"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t.strUserName+" / "+t.strPhoneNum))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.del_has_bd1(s)}}},[e._v(" 删除此项")])],1)],1)})],2)],1),e._v(" "),a("el-dialog",{attrs:{title:"关联S1",visible:e.SList.showS1},on:{"update:visible":function(t){e.$set(e.SList,"showS1",t)}}},[a("div",{staticClass:"content"},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择S1"},model:{value:e.choose_s1_id,callback:function(t){e.choose_s1_id=t},expression:"choose_s1_id"}},e._l(e.choose_s1_list,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserName+"/"+e.strUserTel+","+e.strUserId}})}))],e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s1_list()}}},[e._v("添加")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addS1List.length,expression:"addS1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联S1")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addS1List,function(t,s){return a("p",[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_s1(s)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_S1("add")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showS1=!1}}},[e._v("取消")])],2)]),e._v(" "),a("el-dialog",{attrs:{title:"关联S2",visible:e.SList.showS2},on:{"update:visible":function(t){e.$set(e.SList,"showS2",t)}}},[a("div",{staticClass:"content"},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择S2"},model:{value:e.choose_s2_id,callback:function(t){e.choose_s2_id=t},expression:"choose_s2_id"}},e._l(e.choose_s2_list,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strUserTel,value:e.strUserName+"/"+e.strUserTel+","+e.strUserId}})}))],e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_s2_list()}}},[e._v("添加")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addS2List.length,expression:"addS2List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联S2")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addS2List,function(t,s){return a("p",[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_s2(s)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_S2("add")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showS2=!1}}},[e._v("取消")])],2)]),e._v(" "),a("el-dialog",{attrs:{title:"关联D1",visible:e.SList.showD1},on:{"update:visible":function(t){e.$set(e.SList,"showD1",t)}}},[a("div",{staticClass:"content"},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择D1"},model:{value:e.choose_d1_id,callback:function(t){e.choose_d1_id=t},expression:"choose_d1_id"}},e._l(e.choose_d1_list,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strPhoneNum,value:e.strUserName+"/"+e.strPhoneNum+","+e.strUserId}})}))],e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_d1_list()}}},[e._v("添加")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addD1List.length,expression:"addD1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联D1")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addD1List,function(t,s){return a("p",{staticClass:"haveRelated"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_d1(s)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_D1("add")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showD1=!1}}},[e._v("取消")])],2)]),e._v(" "),a("el-dialog",{attrs:{title:"关联BD1",visible:e.SList.showBD1},on:{"update:visible":function(t){e.$set(e.SList,"showBD1",t)}}},[a("div",{staticClass:"content"},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择BD1"},model:{value:e.choose_bd1_id,callback:function(t){e.choose_bd1_id=t},expression:"choose_bd1_id"}},e._l(e.choose_bd1_list,function(e){return a("el-option",{key:e.strUserId,attrs:{label:e.strUserName+"/"+e.strPhoneNum,value:e.strUserName+"/"+e.strPhoneNum+","+e.strUserId}})}))],e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.add_bd1_list()}}},[e._v("添加")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.addBD1List.length,expression:"addBD1List.length == 0"}],staticClass:"vue-remind"},[e._v("请点击上方按钮添加预关联BD1")]),e._v(" "),a("div",{staticClass:"addr-container"},e._l(e.addBD1List,function(t,s){return a("p",{staticClass:"haveRelated"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"sale_addr_name"},[e._v(e._s(t))])]),e._v(" "),a("el-col",{staticClass:"submitRightNoM",attrs:{span:6}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.del_preChoose_bd1(s)}}},[e._v(" 删除此项")])],1)],1)})),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.final_add_BD1("add")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.SList.showBD1=!1}}},[e._v("取消")])],2)])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增门店",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-input",{attrs:{placeholder:"请输入门店名"},model:{value:e.addGroupName,callback:function(t){e.addGroupName=t},expression:"addGroupName"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("div",{staticClass:"textRight"},[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(t){e.submitAddGroup()}}},[e._v("提交")])],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},i19H:function(e,t){},iQH9:function(e,t,a){e.exports=a.p+"other/img/logo.951febf.png"},jKwt:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("操作日志")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{width:"200",prop:"Fcreate_time",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{width:"200",prop:"Ftype",label:"操作对象"}}),e._v(" "),a("el-table-column",{attrs:{width:"200",prop:"Foperator_name",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Faction_data",label:"操作详情"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},k6oP:function(e,t,a){"use strict";function s(e){a("r2bj")}var r=a("u9m0"),i=a("PizZ"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-563bd8b4",null);t.a=o.exports},kEKs:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},fileName:"fileName",haveD4:!1,strDUserId:"",defaultDate:"",number:"number",imageUrl1:"",imageUrl2:"",imageUrl3:"",dealer:{strStatusName:"",provinceChange:!1,cityChange:!1,provinces:"",citys:"",areas:""},bankAddr:{provinceChange:!1,cityChange:!1,provinces:"",citys:"",areas:""},dealerid:"",ruleForm:{dealer:{strStatus:"",strDealerName:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddress:"",strBankName:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:""}},DruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatusName:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate()},methods:{getId:function(){this.dealerid=this.$route.query.id},changeEndTime:function(e){var t=e.split(" "),a=t[0]+"T"+t[1]+".000Z";return r.a.formatDate.format(new Date(a),"yy-MM-dd")},editDealer:function(e){this.$router.push({name:"editDealer",query:{id:e}})},loadInfo:function(){var e=this;s.a.getAddress({}).then(function(t){e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address}).then(function(t){e.ruleForm.dealer.strAddrProvinceId=e.defaultDate.strAddrProvinceId,e.ruleForm.dealer.account_bank.strAddrProvinceId=e.defaultDate.account_bank.strAddrProvinceId})},getDefaultDate:function(e){var t=this;s.a.getDealerInfo({dealerid:this.dealerid}).then(function(e){if("0"!=e.ret)return t.$message(e.retinfo),!1;var a=e.data;return t.defaultDate=e.data,t.strDUserId=e.data.strDUserId,t.ruleForm.dealer.strDealerName=a.strDealerName,t.ruleForm.dealer.strLicenseNum=a.strLicenseNum,t.ruleForm.dealer.strAddress=a.strProvinceName+a.strCityName+a.strAreaName+a.strAddress,t.ruleForm.dealer.account_bank.strAddress=a.account_bank.strProvinceName+a.account_bank.strCityName+a.account_bank.strAreaName,t.ruleForm.dealer.account_bank.strAccountName=a.account_bank.strAccountName,t.ruleForm.dealer.account_bank.strBankName=a.account_bank.strBankName,t.ruleForm.dealer.account_bank.strBranchName=a.account_bank.strBranchName,t.ruleForm.dealer.account_bank.strAccountNum=a.account_bank.strAccountNum,t.ruleForm.dealer.strContractBeginTime=t.changeEndTime(a.strContractBeginTime),t.ruleForm.dealer.strContractEndTime=t.changeEndTime(a.strContractEndTime),t.ruleForm.dealer.strStatusName=a.strStatusName,t.ruleForm.dealer.strLicensePic=a.strLicensePic,t.ruleForm.dealer.strContractPic=a.strContractPic,t.imageUrl1=t.apiRoot+"/static/upload/"+a.strLicensePic,t.imageUrl2=t.apiRoot+"/static/upload/"+a.strContractPic,!0}).then(function(e){e&&(t.loadInfo(),t.getDDefaultDate())})},getDDefaultDate:function(){var e=this,t=this;if(0==this.strDUserId)return void(this.haveD4=!0);s.a.getDInfo({strUserId:this.strDUserId}).then(function(a){if("0"!=a.ret)return t.$message(a.retinfo),!1;e.DruleForm=a})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},submitnow:function(e,t){var a=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addDealerLogic(a.ruleForm).then(function(e){if("0"!=e.ret)return void a.$message("失败！");a.$message("成功！"),t?r.$refs.ruleForm.resetFields():r.$router.push({path:"/Dealer/index"})})})}}}},kLPy:function(e,t,a){"use strict";var s=a("cG/1"),r=a("XPaD"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},kkAG:function(e,t,a){"use strict";function s(e){a("/Ngk")}var r=a("4Bu1"),i=a("BSLu"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-032041b4",null);t.a=o.exports},l6ec:function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),i=a("P9l9"),l=(a("s0MJ"),a("uJvA"));t.a={data:function(){return{dialogFormVisible:!1,form:{},id:"",S1Type:"1",S2Type:"2",channelorgs:[],provinces:l.a.addrList,citys:[],areas:[],ChannelManager:[],defaultDate:"",provinceChange:!1,cityChange:!1,structAChange:!1,tempList:[],modelList:{model_1:"",model_2:"",model_3:"",model_4:"",model_5:""},saleAdds:{provinces:l.a.addrList,citys:"",areas:""},saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},addSaleList:[],changeList:{change_1:!1,change_2:!1,change_3:!1,change_4:!1,change_5:!1},SList:{showS1:!1,showS2:!1,showD1:!1,showBD1:!1},getGroupRelationId:"",getGroupLevelId:"",addGroupName:"",strIndex:"",D1:{defaultList:[],defaultIdList:[],chooseList:[],chooseId:""},BD1:{defaultList:[],defaultIdList:[],chooseList:[],chooseId:""},get_store_s1_list:[],get_store_s1Id_list:[],get_store_s2_list:[],get_store_s2Id_list:[],get_store_d1_list:[],get_store_d1Id_list:[],get_store_bd1_list:[],get_store_bd1Id_list:[],choose_s1_list:[],choose_s1_id:"",choose_s2_list:[],choose_s2_id:"",choose_d1_list:[],choose_d1_id:"",choose_bd1_list:[],choose_bd1_id:"",showAddS1:[],addS1Id:[],addS1List:[],showAddS2:[],addS2Id:[],addS2List:[],showAddD1:[],addD1Id:[],addD1List:[],showAddBD1:[],addBD1Id:[],addBD1List:[],setTrue:10,structAid:"",structA:l.a.channelList,ifValidateNext:!1,strAddress:"",strProvinceId:"",strCityId:"",strAreaId:"",strStoreName:"",strChannelManagerId:"",strRelationId:"",strLevelId:""}},watch:{strProvinceId:function(e,t){this.strCityId="",this.getCitys(e,this.provinceChange),this.provinceChange=!0},strCityId:function(e){this.strAreaId="",this.getAreas(e,this.cityChange),this.cityChange=!0},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],!1,"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],!1,"sale")},structAid:function(e,t){this.getNextList(e,0),this.structAChange=!0,this.ifValidateNext=!1},"modelList.model_1":function(e,t){e&&(this.getNextList(e,1),this.changeList.change_1=!0),this.ifValidateNext=!1},"modelList.model_2":function(e,t){e&&(this.getNextList(e,2),this.changeList.change_2=!0),this.ifValidateNext=!1},"modelList.model_3":function(e,t){e&&(this.getNextList(e,3),this.changeList.change_3=!0),this.ifValidateNext=!1},"modelList.model_4":function(e,t){e&&(this.getNextList(e,4),this.changeList.change_4=!0),this.ifValidateNext=!1},"modelList.model_5":function(e,t){e&&(this.getNextList(e,5),this.changeList.change_5=!0),this.ifValidateNext=!1}},mounted:function(){this.getStoreId(),this.getDefaultDate(this.id),this.getS1(),this.getS2(),this.getD1(),this.getBD1()},methods:{getStoreId:function(){this.id=this.$route.query.id},loadInfo:function(){var e=this;if(0!=l.a.channelList.length)this.structAChange||(this.structAid=this.defaultDate.relationUp[0].strRelationId+","+this.defaultDate.relationUp[0].strLevelId+",0");else{var t=this.$loading({text:"正在获取信息",target:"#Edit-store"});i.a.getAllChannels({}).then(function(a){if(t.close(),"0"!=a.ret)return void e.$message(a.retinfo);l.a.channelList=a.data.Relations,e.structA=a.data.Relations,e.structAChange||(e.structAid=e.defaultDate.relationUp[0].strRelationId+","+e.defaultDate.relationUp[0].strLevelId+",0")})}0==l.a.addrList.length?i.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);l.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address,e.strProvinceId=e.defaultDate.storeInfo.strProvinceId}):this.strProvinceId=this.defaultDate.storeInfo.strProvinceId},getDefaultDate:function(e){var t=this;i.a.getStoreInfo({strStoreId:e}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);t.defaultDate=e.data,t.strAddress=t.defaultDate.storeInfo.strAddress,t.strStoreName=t.defaultDate.storeInfo.strStoreName,t.setTrue=e.data.relationUp.length-1;var a=t.defaultDate.storeInfo.saleAddrList;for(var s in a){a[s].strProvinceName||(a[s].strProvinceName="全部"),a[s].strCityName||(a[s].strCityName="全部"),a[s].strAreaName||(a[s].strAreaName="全部");var r=a[s].strProvinceName+" "+a[s].strCityName+" "+a[s].strAreaName,i={addr_province_id:a[s].strProvinceId,addr_city_id:a[s].strCityId,addr_area_id:a[s].strAreaId};t.addSaleList.push({saleName:r,saleId:i})}return!0}).then(function(e){e&&t.loadInfo()})},getNextList:function(e,t,a){var s=this,t=t+1,r=e.split(",");this.strRelationId=r[0],this.strLevelId=r[1],this.tempList=this.tempList.splice(0,r[2]);for(var l in this.modelList)l.split("_")[1]>r[2]&&(this.modelList[l]=""),l.split("_")[1]>this.setTrue&&(this.changeList["change_"+l.split("_")[1]]=!0);i.a.getChannelsChild({strRelationId:r[0]}).then(function(e){if("0"!=e.ret)return void s.$layer.alert(e.retinfo);if(e.data){s.ifValidateNext=!0;var r=e.data;r.upStrRelationId=s.strRelationId,r.upStrLevelId=s.strLevelId,s.tempList.push(r),s.changeList["change_"+t]||(s.modelList["model_"+t]=s.defaultDate.relationUp[t].strRelationId+","+s.defaultDate.relationUp[t].strLevelId+","+t),a&&(s.modelList["model_"+t]=a.val)}})},addGroup:function(e,t,a){this.dialogFormVisible=!0,this.getGroupRelationId=e,this.getGroupLevelId=t,this.strIndex=a},submitAddGroup:function(){var e=this,t=this,a={strRelationId:this.getGroupRelationId,strLevelId:this.getGroupLevelId,strOrgName:this.addGroupName};i.a.addOrgLogic(a).then(function(t){return"0"!=t.ret?void e.$layer.res(t.retinfo):(e.dialogFormVisible=!1,t.data)}).then(function(e){"0"==t.strIndex?t.getNextList(t.structAid,t.strIndex,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)}):t.getNextList(t.modelList["model_"+t.strIndex],t.strIndex,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)})})},getCitys:function(e,t,a){if("sale"!=a)for(var s in this.provinces)this.provinces[s].strProvinceId==e&&(this.citys=this.provinces[s].citys,t||(this.strCityId=this.defaultDate.storeInfo.strCityId));else{var r=this.saleAdds.provinces;for(var s in r)r[s].strProvinceId==e&&(this.saleAdds.citys=r[s].citys)}},getAreas:function(e,t,a){if("sale"!=a)for(var s in this.citys)this.citys[s].strCityId==e&&(this.areas=this.citys[s].areas,t||(this.strAreaId=this.defaultDate.storeInfo.strAreaId));else{var r=this.saleAdds.citys;for(var s in r)r[s].strCityId==e&&(this.saleAdds.areas=r[s].areas)}},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",s={saleName:e+"  "+t+"  "+a,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==s.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==s.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==s.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");this.addSaleList.push(s)},delSaleAddr:function(e){this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/store"})},Validate:function(e){for(var t in e)if(!e[t].val)return this.$message(e[t].msg),!1;return!0},submitnow:function(){var e=this,t=this,a=[];for(var s in this.addSaleList)a.push(this.addSaleList[s].saleId);var l={strStoreId:this.id,strAddress:this.strAddress,strProvinceId:this.strProvinceId,strCityId:this.strCityId,strAreaId:this.strAreaId,strStoreName:this.strStoreName,strChannelManagerId:this.strChannelManagerId,strRelationId:this.strRelationId,strLevelId:this.strLevelId,saleAddrList:r()(a)},n=[{val:l.strRelationId,msg:"请选择关联渠道"},{val:/^.{2,25}$/g.test(l.strStoreName),msg:"请输入2~25位门店名"},{val:this.strProvinceId,msg:"请选择省份"},{val:this.strAddress,msg:"请输入详细地址"},{val:"[]"!=l.saleAddrList,msg:"请添加销售范围"}];this.ifValidateNext&&n.splice(1,0,{val:this.structBid,msg:"请选择次级渠道"}),this.Validate(n)&&i.a.editStoreLogic(l).then(function(a){if("0"!=a.ret)return void e.$message(a.retinfo);e.$message("成功！"),t.$router.push({path:"/channel/store"})})},getS1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"S1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var a=t.data;e.get_store_s1_list=t.data,e.get_store_s1Id_list=[];for(var s in a)e.get_store_s1Id_list.push(String(a[s].strUserId))}})},del_has_s1:function(e){this.get_store_s1_list.splice(e,1),this.get_store_s1Id_list.splice(e,1),this.final_add_S1()},add_s1_btn:function(){var e=this;this.addS1List=[],this.SList.showS1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"S1",strLevelCode:"S1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_s1_list=t.s1list})},add_s1_list:function(){if(!this.choose_s1_id)return void this.$message("请选择要关联S1");for(var e in this.get_store_s1Id_list)if(this.choose_s1_id.split(",")[1]==this.get_store_s1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addS1List.length)this.addS1List.push(this.choose_s1_id.split(",")[0]),this.addS1Id.push(this.choose_s1_id.split(",")[1]);else{for(var e in this.addS1Id)if(this.choose_s1_id.split(",")[1]==this.addS1Id[e])return void this.$message("该项已绑定或已添加！");this.addS1List.push(this.choose_s1_id.split(",")[0]),this.addS1Id.push(this.choose_s1_id.split(",")[1])}},del_preChoose_s1:function(e){this.addS1Id.splice(e,1),this.addS1List.splice(e,1)},final_add_S1:function(e){var t=this;if("add"==e&&0==this.addS1Id.length)return void this.$message("请选择要关联S1");var a=this.get_store_s1Id_list,s=0!=a.lenght?a.concat(this.addS1Id):this.addS1Id,r={strPeopleType:"S1",strStoreId:this.id,strPeopleIdList:s};i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addS1Id=[],!0)}).then(function(e){e&&t.getS1(),t.SList.showS1=!1})},getS2:function(){var e=this,t={strStoreId:this.id,strPeopleType:"S2"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var a=t.data;e.get_store_s2_list=t.data,e.get_store_s2Id_list=[];for(var s in a)e.get_store_s2Id_list.push(String(a[s].strUserId))}})},del_has_s2:function(e){this.get_store_s2_list.splice(e,1),this.get_store_s2Id_list.splice(e,1),this.final_add_S2()},add_s2_btn:function(){var e=this;this.addS2List=[],this.SList.showS2=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"S2",strLevelCode:"S2"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_s2_list=t.s2list})},add_s2_list:function(){if(!this.choose_s2_id)return void this.$message("请选择要关联S2");for(var e in this.get_store_s2Id_list)if(this.choose_s2_id.split(",")[1]==this.get_store_s2Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addS2List.length)this.addS2List.push(this.choose_s2_id.split(",")[0]),this.addS2Id.push(this.choose_s2_id.split(",")[1]);else{for(var e in this.addS2Id)if(this.choose_s2_id.split(",")[1]==this.addS2Id[e])return void this.$message("该项已绑定或已添加！");this.addS2List.push(this.choose_s2_id.split(",")[0]),this.addS2Id.push(this.choose_s2_id.split(",")[1])}},del_preChoose_s2:function(e){this.addS2Id.splice(e,1),this.addS2List.splice(e,1)},final_add_S2:function(e){var t=this;if("add"==e&&0==this.addS2Id.length)return void this.$message("请选择要关联S2");var a=[];for(var s in this.get_store_s2_list)a.push(String(this.get_store_s2_list[s].strUserId));var r=0!=a.lenght?a.concat(this.addS2Id):this.addS2Id,l={strPeopleType:"S2",strStoreId:this.id,strPeopleIdList:r};i.a.addStoreDS(l).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addS2Id=[],!0)}).then(function(e){e&&t.getS2(),t.SList.showS2=!1})},getD1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"D1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var a=t.data;e.get_store_d1_list=t.data,e.get_store_d1Id_list=[];for(var s in a)e.get_store_d1Id_list.push(String(a[s].strUserId))}})},del_has_d1:function(e){this.get_store_d1_list.splice(e,1),this.get_store_d1Id_list.splice(e,1),this.final_add_D1()},add_d1_btn:function(){var e=this;this.addD1List=[],this.SList.showD1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"D1",strLevelCode:"D1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_d1_list=t.dxlist})},add_d1_list:function(){if(!this.choose_d1_id)return void this.$message("请选择要关联D1");for(var e in this.get_store_d1Id_list)if(this.choose_d1_id.split(",")[1]==this.get_store_d1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addD1List.length)this.addD1List.push(this.choose_d1_id.split(",")[0]),this.addD1Id.push(this.choose_d1_id.split(",")[1]);else{for(var e in this.addD1Id)if(this.choose_d1_id.split(",")[1]==this.addD1Id[e])return void this.$message("该项已绑定或已添加！");this.addD1List.push(this.choose_d1_id.split(",")[0]),this.addD1Id.push(this.choose_d1_id.split(",")[1])}},del_preChoose_d1:function(e){this.addD1Id.splice(e,1),this.addD1List.splice(e,1)},final_add_D1:function(e){var t=this;if("add"==e&&0==this.addD1Id.length)return void this.$message("请选择要关联D1");var a=this.get_store_d1Id_list,s=0!=a.lenght?a.concat(this.addD1Id):this.addD1Id,r={strPeopleType:"D1",strStoreId:this.id,strPeopleIdList:s};console.log(r),i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addD1Id=[],!0)}).then(function(e){e&&t.getD1(),t.SList.showD1=!1})},getBD1:function(){var e=this,t={strStoreId:this.id,strPeopleType:"BD1"};i.a.getStoreDS(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);if(t.data){var a=t.data;e.get_store_bd1_list=t.data,e.get_store_bd1Id_list=[];for(var s in a)e.get_store_bd1Id_list.push(String(a[s].strUserId))}})},del_has_bd1:function(e){this.get_store_bd1_list.splice(e,1),this.get_store_bd1Id_list.splice(e,1),this.final_add_BD1()},add_bd1_btn:function(){var e=this;this.addBD1List=[],this.SList.showBD1=!0,i.a.getAllDS({strStoreId:this.id,strPeopleType:"BD1",strLevelCode:"BD1"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.choose_bd1_list=t.bdxlist})},add_bd1_list:function(){if(!this.choose_bd1_id)return void this.$message("请选择要关联BD1");for(var e in this.get_store_bd1Id_list)if(this.choose_bd1_id.split(",")[1]==this.get_store_bd1Id_list[e])return void this.$message("该项已绑定或已添加！");if(0==this.addBD1List.length)this.addBD1List.push(this.choose_bd1_id.split(",")[0]),this.addBD1Id.push(this.choose_bd1_id.split(",")[1]);else{for(var e in this.addBD1Id)if(this.choose_bd1_id.split(",")[1]==this.addBD1Id[e])return void this.$message("该项已绑定或已添加！");this.addBD1List.push(this.choose_bd1_id.split(",")[0]),this.addBD1Id.push(this.choose_bd1_id.split(",")[1])}},del_preChoose_bd1:function(e){this.addBD1Id.splice(e,1),this.addBD1List.splice(e,1)},final_add_BD1:function(e){var t=this;if("add"==e&&0==this.addBD1Id.length)return void this.$message("请选择要关联BD1");var a=this.get_store_bd1Id_list,s=0!=a.lenght?a.concat(this.addBD1Id):this.addBD1Id,r={strPeopleType:"BD1",strStoreId:this.id,strPeopleIdList:s};console.log(r),i.a.addStoreDS(r).then(function(e){return"0"!=e.ret?(t.$message(e.retinfo),!1):(t.addBD1Id=[],!0)}).then(function(e){e&&t.getBD1(),t.SList.showBD1=!1})}}}},lJlG:function(e,t){},lO7g:function(e,t,a){"use strict";function s(e){a("lJlG"),a("dZY2")}var r=a("xM0o"),i=a("o0hB"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-2786ec12",null);t.a=o.exports},lf9d:function(e,t){},lsOu:function(e,t,a){"use strict";function s(e){a("exlQ")}var r=a("qxeu"),i=a("ILzK"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-06a77ed8",null);t.a=o.exports},lwq5:function(e,t,a){"use strict";var s={menu:[]};t.a=s},lzDz:function(e,t){},mSeg:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("角色管理")]),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"searchItem"},[a("span",{staticClass:"searchTitle"},[e._v("分类：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.cateId,callback:function(t){e.$set(e.searchkeys,"cateId",t)},expression:"searchkeys.cateId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.cateRoleList,function(e){return a("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:e.Fcate_id}})})],2)],1),e._v(" "),a("div",{staticClass:"searchItem"},[a("span",{staticClass:"searchTitle"},[e._v("角色：")]),e._v(" "),a("el-input",{attrs:{maxlength:20,placeholder:"请输入角色名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.roleName,callback:function(t){e.$set(e.searchkeys,"roleName",t)},expression:"searchkeys.roleName"}})],1),e._v(" "),a("div",{staticClass:"goSearch"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)]),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"category"}},[a("el-button",{attrs:{size:"small"}},[e._v("分类管理")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addRole()}}},[e._v("创建角色")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"Frole_id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Fname",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Fdesc",label:"角色描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Fcate_name",label:"所属分类"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.upStatus?a("span",[e._v("禁用"),a("br"),a("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.row.Fstatus?a("span",[e._v("启用")]):a("span",[e._v("禁用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.Fstatus?a("div",[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.getEditData(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.setPower(t.row.Frole_id)}}},[e._v("设置权限")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.Frole_id,t.row.Fstatus)}}},[e._v("禁用")])],1):a("div",[a("el-button",{attrs:{type:"primary",disabled:t.row.upStatus,size:"small"},on:{click:function(a){e.setStatusConfirm(t.row.Frole_id,t.row.Fstatus)}}},[e._v("启用")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"handelAddRole",attrs:{model:e.handelAddRole,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类：",filterable:"",prop:"c_cate_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.handelAddRole.c_cate_id,callback:function(t){e.$set(e.handelAddRole,"c_cate_id",t)},expression:"handelAddRole.c_cate_id"}},e._l(e.enableCateRoleList,function(e){return a("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:String(e.Fcate_id)}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称：",prop:"c_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入角色名称"},model:{value:e.handelAddRole.c_name,callback:function(t){e.$set(e.handelAddRole,"c_name",t)},expression:"handelAddRole.c_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入角色描述"},model:{value:e.handelAddRole.c_desc,callback:function(t){e.$set(e.handelAddRole,"c_desc",t)},expression:"handelAddRole.c_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelAddRole")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"handelEditRole",attrs:{model:e.handelEditRole,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类：",filterable:"",prop:"e_cate_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.handelEditRole.e_cate_id,callback:function(t){e.$set(e.handelEditRole,"e_cate_id",t)},expression:"handelEditRole.e_cate_id"}},e._l(e.enableCateRoleList,function(e){return a("el-option",{key:e.Fcate_id,attrs:{label:e.Fname,value:String(e.Fcate_id)}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称：",prop:"e_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入角色名称"},model:{value:e.handelEditRole.e_name,callback:function(t){e.$set(e.handelEditRole,"e_name",t)},expression:"handelEditRole.e_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入角色描述"},model:{value:e.handelEditRole.e_desc,callback:function(t){e.$set(e.handelEditRole,"e_desc",t)},expression:"handelEditRole.e_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("handelEditRole")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},mUbh:function(e,t){},mYVh:function(e,t){},nNRt:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){var e=function(e,t,a){t=r.a.Trim(t);var s=t.gblen();s<1||s>40?a(new Error("请输入40个以内字符")):r.a.checkSpecialWord(t)&&a(new Error("不能包含特殊字符")),a()},t=function(e,t,a){t=r.a.Trim(t);var s=t.gblen();(s<1||s>100)&&a(new Error("请输入100个以内字符")),a()};return{addDialog:!1,editDialog:!1,dataList:[],systemList:[],enableSystemList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{s_system_id:"",s_module_name:""},addModule:{c_system_id:"",c_type:"3",c_desc:"",c_name:""},editModule:{e_authority_id:"",e_system_id:"",e_type:"3",e_desc:"",e_name:""},rules:{c_system_id:[{required:!0,message:"请选择所属系统"}],c_name:[{required:!0,validator:e,trigger:"blur"}],c_desc:[{required:!0,validator:t,trigger:"blur"}],e_system_id:[{required:!0,message:"请选择所属系统"}],e_name:[{required:!0,validator:e,trigger:"blur"}],e_desc:[{required:!0,validator:t,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){var e=this,t={pageSize:"9999"};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.systemList=t.data.list,e.enableSystemList=e.getEnableList(t.data.list)})},relateFstatus:function(e){for(var t in e)"1"!=e[t].system_status&&(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var a in e)"1"==e[a].status&&t.push(e[a]);return t},setRowspan:function(e){var t=[];for(var a in e){var s=e[a].system_module_list;for(var r in s)t.push(s[r])}return t},showList:function(){var e=this,t={s_system_id:this.searchkeys.s_system_id,s_module_name:this.searchkeys.s_module_name,pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getModuleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=r.a.combineCell(e.relateFstatus(e.setRowspan(t.data.list))),e.total=Number(t.data.nums)})},setStatus:function(e,t){var a=this;console.log(e,t);var r={e_type:this.editModule.e_type,e_authority_id:e,e_status:"1"==t?"2":"1"};s.a.changeAuthStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},Add:function(){this.addModule.c_name="",this.addModule.c_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.editModule.e_authority_id=String(t.Fauthority_id),this.editModule.e_name=t.Fname,this.editModule.e_desc=t.Fdesc,this.editModule.e_system_id=t.Fsystem_id,this.editDialog=!0},search:function(){this.searchkeys.s_module_name=r.a.Trim(this.searchkeys.s_module_name),this.showList()},clearForm:function(){this.searchkeys.s_system_id="",this.searchkeys.s_module_name="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.addModule.c_name=r.a.Trim(this.addModule.c_name),this.addModule.c_desc=r.a.Trim(this.addModule.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addAuth(t.addModule).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.editModule.e_name=r.a.Trim(this.editModule.e_name),this.editModule.e_desc=r.a.Trim(this.editModule.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editAuth(t.editModule).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该模块中所有内容将被禁用"),r("p",{style:"color:#ff4949"},"• 将无法往该模块中新增内容"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该模块中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},nSpp:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 模板列表")]),e._v(" "),a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按ID/名称搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm()}}},[e._v("清空")])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add_template"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strTemplateId",label:"模板ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strTemplateName",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strTemplateDesc",label:"模板描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strStatus",label:"合作状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.edit(t.row.strTemplateId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.delchnn(t.row.strTemplateId)}}},[e._v("禁用")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(a){e.upchnn(t.row.strTemplateId)}}},[e._v("启用")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},ndXk:function(e,t,a){"use strict";function s(e){a("4SBr")}var r=a("MxE3"),i=a("TM9g"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-ee1b69a8",null);t.a=o.exports},o0hB:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showDiv,expression:"showDiv"}],staticClass:"container"},[s("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[s("div",{staticClass:"topbar-logo topbar-btn"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{margin:"10px 0 0 10px",height:"30px",border:"0"},attrs:{src:a("iQH9")}})])]),e._v(" "),s("div",{staticClass:"topbar-title topbar-btn"})]),e._v(" "),s("el-col",{staticClass:"main",attrs:{span:24}},[s("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[s("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-menufold"}),e._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-menuunfold"})]),e._v(" "),s("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],attrs:{"default-active":"0",router:""},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.menuRutes,function(t,a){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?s("el-menu-item",{staticClass:"el-submenu__title",attrs:{index:t.children[0].path}},[s("i",{class:t.iconCls}),e._v(e._s(t.children[0].name)+"\n                        ")]):e._e():s("el-submenu",{attrs:{index:a+""}},[s("template",{attrs:{slot:"title"},slot:"title"},[s("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.menuShow?s("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active-add":"",attrs:{index:t.path}},[e._v("\n                                "+e._s(t.name)+"\n                            ")]):e._e()})],2)]:e._e()})],2),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu collapsed"},[e._l(e.menuRutes,function(t,a){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?s("li",{staticClass:"el-menu-item el-submenu__title",on:{click:e.setCollapsed}},[s("i",{class:t.iconCls})]):e._e():s("li",{staticStyle:{position:"relative"},attrs:{index:a+""},on:{click:e.setCollapsed}},[s("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(a,!0)},mouseout:function(t){e.showMenu(a,!1)}}},[s("i",{class:t.iconCls})]),e._v(" "),s("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+a,on:{mouseover:function(t){e.showMenu(a,!0)},mouseout:function(t){e.showMenu(a,!1)}}},e._l(t.children,function(t){return t.menuShow?s("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")]):e._e()}))])]:e._e()})],2)],1),e._v(" "),s("section",{staticClass:"content-container right-container"},[s("div",{staticClass:"grid-content bg-purple-light"},[s("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("router-view")],1)],1)],1)])])],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},oB18:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{apiRoot:r.a.api,strUserId:"",dataList:[],ruleForm:{accountInfo:{strAccountInfoId:"",strWechatName:"",strWechatOpenId:""},baseinfo:{strAccountId:"",strCardNum:"",strCardPicBack:"",strCardPicFront:"",strHeadPic:"",strPhoneNum:"",strStatus:"",strUserId:"",strUserName:""},identityList:[],saleareaList:[]}}},mounted:function(){this.getId(),this.getDefaultDate(),this.getDStoreList(this.strUserId)},methods:{getId:function(){this.strUserId=this.$route.query.id},addPrefix:function(e){var t=8-e.length,a="d";if(t>0){for(var s=0;s<t;s++)a+="0";return a+e}return e},editD:function(e){this.$router.push({name:"editD",query:{id:e}})},getDefaultDate:function(e){var t=this;s.a.getDInfo({strUserId:this.strUserId}).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);e.baseinfo.strUserId=t.addPrefix(e.baseinfo.strUserId),t.ruleForm=e,t.ruleForm.saleareaList=r.a.unique(t.ruleForm.saleareaList.map(function(e){return e.strProvinceName+e.strCityName+e.strAreaName}))})},delReSaleAdds:function(e){},getDStoreList:function(e){var t=this;s.a.getDStoreList({strUserId:e}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.dataList=e.list})},storeDetail:function(e){this.$router.push({name:"editStore",query:{id:e}})}}}},oNjH:function(e,t){},p1FZ:function(e,t,a){e.exports=a.p+"other/img/forest.7ee4ced.png"},q8zI:function(e,t){},qZ2D:function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),i=a("P9l9");a("s0MJ");t.a={data:function(){return{dialogTableVisible:!1,list:[],dict:{},roles:[],index:0,searchkey:"",currentFroles:[]}},mounted:function(){this.loadInfo()},methods:{loadInfo:function(){var e=this;i.a.addChannelTemplatePageData({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.roles=t.data;for(var a=e.roles.length-1;a>=0;a--)e.roles[a].strDisplay="","False"==e.roles[a].strSelect?e.roles[a].strSelect=!1:e.roles[a].strSelect=!0;e.addone(),e.dict.strTemplateName="",e.dict.strTemplateDesc=""})},removeTodo:function(e){this.list.splice(e,1)},addone:function(){var e=[];e=this.roles;var t={strTemplateName:"",strLevel:"",showRoles:"",strListRoles:e,strTemplateId:"",strPid:"",strLevelId:"",strLevelName:"",strLevelDesc:"",strUpdateTime:"",strTemplateDesc:"",strStatus:"",strCreateTime:""};this.list.push(t)},setindex:function(e){this.dialogTableVisible=!0,this.index=e,this.currentFroles=this.list[e].strListRoles},setselect:function(){this.list[this.index].strListRoles=this.currentFroles;for(var e="",t=this.list[this.index].strListRoles.length-1;t>=0;t--)this.list[this.index].strListRoles[t].strSelect&&(e=e+this.list[this.index].strListRoles[t].strRoleName+" ");this.list[this.index].showRoles=e,this.dialogTableVisible=!1},cancelnow:function(){window.history.back()},searchrole:function(){for(var e=this.currentFroles.length-1;e>=0;e--){var t=this.searchkey;if(""!=t){var a=this.currentFroles[e].strRoleName;void 0!=a&&(a.indexOf(t)>=0?this.currentFroles[e].strDisplay="":void 0!=(a=this.currentFroles[e].strRoleDesc)&&(a.indexOf(t)>=0?this.currentFroles[e].strDisplay="":this.currentFroles[e].strDisplay="none"))}else this.currentFroles[e].strDisplay=""}},submitnow:function(){var e=this;if(!this.dict.strTemplateName)return void this.$layer.alert("请输入模板名称");if(!this.dict.strTemplateDesc)return void this.$layer.alert("请输入模板描述");if(this.list.length<2)return void this.$layer.alert("层级不正确");for(var t=this.list.length-1;t>=0;t--){if(""==this.list[t].strLevelName)return void this.$layer.alert("请输入层级名称");this.list[t].strLevelName=this.list[t].strLevelName,this.list[t].strLevel=this.list[t].strLevel,this.list[t].strLevelDesc=this.list[t].strLevelDesc,this.list[t].strTemplateDesc=this.dict.strTemplateDesc,this.list[t].strTemplateName=this.dict.strTemplateName,this.list[t].strTemplateId=this.dict.strTemplateId}for(var t=this.list.length-1;t>=0;t--)if(this.list[t].strLevel!=t+1)return void this.$layer.alert("层级不正确");var a={data:r()(this.list)};i.a.addTemplateLogic(a).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.$message("成功！"),e.$router.push({path:"/channel/template"})})}}}},qxeu:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{upList:{system:[],module:[],page:[]},getModuleData:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},getPageData:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_status:"",pageIndex:"0",pageSize:"9999"},addData:{c_type:"1",c_system_id:"",c_module_id:"",c_page_id:"",pageIndex:"0",pageSize:"9999",c_datas:[{name:"",desc:"",access_flags:""}]},dataList:[],systemList:[],moduleList:{Search:[],Add:[],Edit:[]},addPower:{s_system_id:"",s_module_id:"",s_page_name:"",s_is_flags:"",s_auth_name:"",s_status:""},getSearchModule:{s_system_id:"",s_module_name:"",pageIndex:"0",pageSize:"9999"},rules:{c_system_id:[{required:!0,message:"请选择系统",trigger:"change"}],c_module_id:[{required:!0,message:"请选择模块",trigger:"change"}],c_page_id:[{required:!0,message:"请选择页面",trigger:"change"}]}}},watch:{"addData.c_system_id":function(e,t){this.addData.c_module_id="",this.getSystemModules(e)},"addData.c_module_id":function(e,t){this.addData.c_page_id="",""!=e&&this.getModulePages(e)}},mounted:function(){this.showList(),this.loadInfo()},methods:{validateName:function(e,t,a){t=r.a.Trim(t);var s=t.gblen();s<1||s>40?a(new Error("请输入40个以内字符")):r.a.checkSpecialWord(t)&&a(new Error("不能包含特殊字符")),a()},validateDesc:function(e,t,a){t=r.a.Trim(t);var s=t.gblen();(s<1||s>100)&&a(new Error("请输入100个以内字符")),a()},loadInfo:function(){var e=this,t={pageSize:"100"};s.a.getSystemList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.upList.system=e.getEnableList(t.data.list)})},getSystemModules:function(e){var t=this;this.getModuleData.s_system_id=e,s.a.getModuleList(this.getModuleData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.upList.module=t.getEnableList(t.setRowspan(e.data.list)),console.log(t.upList.module)})},getModulePages:function(e){var t=this;this.getPageData.s_system_id=this.addData.s_system_id,this.getPageData.s_module_id=e,s.a.getPageList(this.getPageData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.upList.page=t.getEnableList(e.data.list)})},getEnableList:function(e){var t=[];for(var a in e)"1"!=e[a].status&&"1"!=e[a].Fstatus||t.push(e[a]);return t},setRowspan:function(e){var t=[];for(var a in e){var s=e[a].system_module_list;for(var r in s)t.push(s[r])}return t},showList:function(){var e=this,t={s_system_id:this.addPower.s_system_id,s_module_id:this.addPower.s_module_id,s_page_name:this.addPower.s_page_name,s_auth_name:this.addPower.s_auth_name,s_is_flags:this.addPower.s_is_flags,s_status:this.addPower.s_status};s.a.getActionAuthList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=t.data.list})},submitnow:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addActionAuths(t.addData).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.$router.push({path:"index"})})})},handleItem:function(e,t){if("del"==t){if(0==e)return;this.addData.c_datas.splice(e,1)}else this.addData.c_datas.splice(e+1,0,{name:"",desc:"",access_flags:""})},cancelnow:function(e){this.$router.push({path:"index"})}}}},r2bj:function(e,t){},rTWF:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,dataList:[],cateRoleList:[],enableCateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddRole:{c_cate_id:"",c_name:"",c_desc:"",c_status:"1"},handelEditRole:{e_name:"",e_desc:"",e_status:"1",e_role_id:"",e_cate_id:""},rules:{c_cate_id:[{required:!0,message:"请选择所属分类"}],c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_cate_id:[{required:!0,message:"请选择所属分类"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},relateFstatus:function(e){for(var t in e)"1"!=e[t].cr_status&&(e[t].Fstatus="2",e[t].upStatus=!0);return e},getEnableList:function(e){var t=[];for(var a in e)"1"==e[a].Fstatus&&t.push(e[a]);return t},loadInfo:function(){var e=this,t={pageSize:"9999"};s.a.getCateRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.cateRoleList=t.data.list,e.enableCateRoleList=e.getEnableList(t.data.list)})},showList:function(){var e=this;this.searchkeys.roleName=r.a.Trim(this.searchkeys.roleName);var t={s_cate_id:this.searchkeys.cateId,s_role_name:this.searchkeys.roleName,pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=e.relateFstatus(t.data.list),e.total=Number(t.data.nums)})},setStatus:function(e,t){var a=this,r={s_role_id:e,s_status:"1"==t?"2":"1"};s.a.changeRoleStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},addRole:function(){this.handelAddRole.c_name="",this.handelAddRole.c_desc="",this.handelAddRole.c_role_id="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditRole.e_cate_id=String(t.Fcate_id),this.handelEditRole.e_name=t.Fname,this.handelEditRole.e_desc=t.Fdesc,this.handelEditRole.e_role_id=t.Frole_id,this.editDialog=!0},setPower:function(e){this.$router.push({name:"setPower",query:{id:e}})},search:function(){this.pageIndex="0",this.searchkeys.roleName=r.a.Trim(this.searchkeys.roleName),this.showList()},clearForm:function(){this.searchkeys.cateId="",this.searchkeys.roleName="",this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddRole.c_name=r.a.Trim(this.handelAddRole.c_name),this.handelAddRole.c_desc=r.a.Trim(this.handelAddRole.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addRole(t.handelAddRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditRole.e_name=r.a.Trim(this.handelEditRole.e_name),this.handelEditRole.e_desc=r.a.Trim(this.handelEditRole.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editRole(t.handelEditRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该角色无法登录相关应用"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"启用后："),r("p",{style:"color:#ff4949"},"• 该角色将恢复使用请谨慎操作！"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.addDialog=!1,this.editDialog=!1}}}},s0MJ:function(e,t,a){"use strict";function s(e,t){for(var a=t-(e+"").length,s=0;s<a;s++)e="0"+e;return e}function r(e){return e?e.replace(/(^\s*)|(\s*$)/g,""):e}function i(e){return new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]").test(e)}function l(e){return new RegExp("[0-9]").test(e)}var n=a("mvHQ"),o=a.n(n),d=a("zL8q"),c=(a.n(d),/([yMdhsm])(\1*)/g);String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},t.a={api:"",apiCross:"https://dev-amc-server.huanjixia.com",accessHost:"mba.huanjixia.com/channel_center",powerCenterLoginPage:"http://api-amc.huishoubao.com.cn",systemId:"23",removeClass:function(e,t){if(t){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," "),console.log(e.className)}},setCookie:function(e,t){var a=new Date;a.setTime(a.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()},getCookie:function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var a=this.getCookie(e);null!=a&&(document.cookie=e+"="+a+";expires="+t.toGMTString())},Set_lsdata:function(e,t){if(""!=e&&t){var a=window.localStorage,s=o()(t);a.setItem(e,s)}},Get_lsdata:function(e){if(""!=e){var t=null,a=window.localStorage;try{var s=a.getItem(e);s=JSON.parse(s),t=s}catch(e){}finally{return t}}},unique:function(e){for(var t=[],a={},s=0;s<e.length;s++)a[e[s]]||(t.push(e[s]),a[e[s]]=1);return t},combineCell:function(e){for(var t in e[0])for(var a=0;a<e.length;){e[a][t+"Span"]=1,e[a][t+"Dis"]=!1;for(var s=a+1;s<=e.length-1&&(e[a][t]==e[s][t]&&""!=e[a][t]);s++)e[a][t+"Span"]++,e[a][t+"Dis"]=!1,e[s][t+"Span"]=1,e[s][t+"Dis"]=!0;a=s}return e},getCitys:function(e,t){if(!e)return void(t.citys=[]);var a=t.provinces;for(var s in a)a[s].strProvinceId==e&&(t.citys=a[s].citys)},getAreas:function(e,t){if(!e)return void(t.areas=[]);var a=t.citys;for(var s in a)a[s].strCityId==e&&(t.areas=a[s].areas)},checkSpecialWord:function(e){return new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]").test(e)},ValidateValue:function(e){var t=e.value,a=t.length-1,s=e.value.charAt(a);"`~@#;,.!#$%^&*()+{}|\\:\"<>?-=/。，。'".indexOf(s)>=0&&(s=t.substring(0,a),e.value=s)},Validate:function(e){for(var t in e)if(!e[t].val)return a.i(d.Message)({message:e[t].msg,type:"warning"}),!1;return!0},validatestrEmail:function(e,t,a){/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g.test(t)||a(new Error("请输入正确邮箱")),a()},validateTel:function(e,t,a){/^1[3|4|5|7|8]\d{9}$/g.test(t)||a(new Error("请输入正确手机号")),a()},validateName:function(e,t,a){t=r(t);var s=t.gblen();s<4||s>50?a(new Error("请输入4~50个字符")):i(t)?a(new Error("不能包含特殊字符")):l(t)&&a(new Error("不能包含数字")),a()},validateName1:function(e,t,a){t=r(t);var s=t.gblen();s<1||s>40?a(new Error("请输入40个以内字符")):i(t)&&a(new Error("不能包含特殊字符")),a()},validatestrCardNum:function(e,t,a){t=r(t),/(^\d{15}$)|(^\d{17}([0-9]|X)$)/g.test(t)||a(new Error("请输入正确身份证号")),a()},validateDesc:function(e,t,a){t=r(t);var s=t.gblen();(s<1||s>100)&&a(new Error("请输入100个以内字符")),a()},validateAccountNum:function(e,t,a){/(^\d{10,30}$)/g.test(t)||a(new Error("请输入10~30位银行卡号")),a()},validateLicenseNum:function(e,t,a){/^(([0-9a-zA-Z]{15})|([0-9a-zA-Z]{18}))$/g.test(t)||a(new Error("请输入15或18位营业执照号（字母或数字）")),a()},validateAddr:function(e,t,a){var s=t.gblen();(s<6||s>100)&&a(new Error("请输入6~100个字符")),a()},Trim:function(e){return e?e.replace(/(^\s*)|(\s*$)/g,""):e},getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t),s="";return null!=a&&(s=a[2]),t=null,a=null,null===s||""===s||"undefined"===s?"":s},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(c,function(t){switch(t.charAt(0)){case"y":return s(e.getFullYear(),t.length);case"M":return s(e.getMonth()+1,t.length);case"d":return s(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return s(e.getHours(),t.length);case"m":return s(e.getMinutes(),t.length);case"s":return s(e.getSeconds(),t.length)}})},parse:function(e,t){var a=t.match(c),s=e.match(/(\d)+/g);if(a.length===s.length){for(var r=new Date(1970,0,1),i=0;i<a.length;i++){var l=parseInt(s[i]);switch(a[i].charAt(0)){case"y":r.setFullYear(l);break;case"M":r.setMonth(l-1);break;case"d":r.setDate(l);break;case"h":r.setHours(l);break;case"m":r.setMinutes(l);break;case"s":r.setSeconds(l)}}return r}return null}}}},sOY0:function(e,t,a){"use strict";var s=a("zn+w"),r=a("OtqQ"),i=a("46Yf"),l=i(s.a,r.a,!1,null,null,null);t.a=l.exports},tduD:function(e,t,a){"use strict";function s(e){a("7m2b")}var r=a("KJHf"),i=a("Pe5L"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-e93c22aa",null);t.a=o.exports},tt00:function(e,t,a){"use strict";var s=a("P9l9");a("s0MJ");t.a={data:function(){return{dataList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0}},mounted:function(){this.showList()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getPowerRecordList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.dataList=t.data.list,e.total=Number(t.data.nums)})}}}},u9m0:function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),i=a("bOdI"),l=a.n(i),n=a("P9l9"),o=a("s0MJ"),d=a("uJvA");t.a={data:function(){var e;return e={dialogFormVisible:!1,ruleForm:{},channelorgs:[],provinces:d.a.addrList,citys:[],areas:[],ChannelManager:[],tempList:[],modelList:{model_1:"",model_2:"",model_3:"",model_4:"",model_5:""},saleAdds:{provinces:d.a.addrList,citys:"",areas:""},addSaleList:[],saleAddsId:{strSaleProvinceId:"",strSaleCityId:"",strSaleAreaId:""},structAid:"",structA:d.a.channelList,ifValidateNext:!1,getGroupRelationId:"",getGroupLevelId:"",addGroupName:"",strIndex:"",strAddress:"",strProvinceId:"",strCityId:"",strAreaId:"",strStoreName:"",strChannelManagerId:"",strRelationId:"",strLevelId:""},l()(e,"ruleForm",{structAid:"",strStoreName:"",strProvinceId:"",strCityId:"",strAreaId:"",strAddress:"",strContractBeginTime:"",strContractEndTime:""}),l()(e,"rules",{structAid:[{required:!0,message:"请选择渠道商",trigger:"change"}],strStoreName:[{required:!0,validator:o.a.validateName,trigger:"blur"}],strAddress:[{required:!0,validator:o.a.validateAddr,trigger:"blur"}],strProvinceId:[{required:!0,message:"请选择省份",trigger:"change"}],strCityId:[{required:!0,message:"请选择城市",trigger:"change"}],strAreaId:[{required:!0,message:"请选择区域",trigger:"change"}]}),e},watch:{"ruleForm.strProvinceId":function(e,t){this.ruleForm.strCityId="",this.getCitys(e)},"ruleForm.strCityId":function(e){this.ruleForm.strAreaId="",this.getAreas(e)},"saleAddsId.strSaleProvinceId":function(e,t){this.saleAddsId.strSaleCityId="",this.getCitys(e.split(",")[0],"sale")},"saleAddsId.strSaleCityId":function(e){this.saleAddsId.strSaleAreaId="",this.getAreas(e.split(",")[0],"sale")},"ruleForm.structAid":function(e,t){this.getNextList(e),this.ifValidateNext=!1},"modelList.model_1":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_2":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_3":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_4":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1},"modelList.model_5":function(e,t){e&&this.getNextList(e),this.ifValidateNext=!1}},methods:{loadInfo:function(){var e=this;if(0==d.a.channelList.length){var t=this.$loading({text:"获取渠道商列表",target:"#Add-store"});n.a.getAllChannels({}).then(function(a){if(t.close(),"0"!=a.ret)return void e.$message(a.retinfo);d.a.channelList=a.data.Relations,e.structA=a.data.Relations})}n.a.getChannelManager({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);e.ChannelManager=t.data.managers}),0==d.a.addrList.length&&n.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);d.a.addrList=t.data.address,e.provinces=t.data.address,e.saleAdds.provinces=t.data.address})},addGroup:function(e,t,a){this.dialogFormVisible=!0,this.getGroupRelationId=e,this.getGroupLevelId=t,this.strIndex=a},submitAddGroup:function(){var e=this,t=this,a={strRelationId:this.getGroupRelationId,strLevelId:this.getGroupLevelId,strOrgName:this.addGroupName};n.a.addOrgLogic(a).then(function(t){return"0"!=t.ret?void e.$layer.res(t.retinfo):(e.dialogFormVisible=!1,t.data)}).then(function(e){"0"==t.strIndex?t.getNextList(t.ruleForm.structAid,{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)}):t.getNextList(t.modelList["model_"+t.strIndex],{keyIndex:String(t.strIndex+1),val:e.strRelationId+","+e.strLevelId+","+(t.strIndex+1)})})},getNextList:function(e,t){var a=this,s=this,r=e.split(",");this.strRelationId=r[0],this.strLevelId=r[1],this.tempList=this.tempList.splice(0,r[2]);for(var i in this.modelList)i.split("_")[1]>r[2]&&(this.modelList[i]="");n.a.getChannelsChild({strRelationId:r[0]}).then(function(e){if("0"!=e.ret)return void a.$layer.alert(e.retinfo);if(e.data){a.ifValidateNext=!0;var r=e.data;r.upStrRelationId=a.strRelationId,r.upStrLevelId=a.strLevelId,a.tempList.push(r),t&&(s.modelList["model_"+t.keyIndex]=t.val)}})},getCitys:function(e,t){if("sale"==t){var a=this.saleAdds.provinces;for(var s in a)a[s].strProvinceId==e&&(this.saleAdds.citys=a[s].citys)}else for(var s in this.provinces)this.provinces[s].strProvinceId==e&&(this.citys=this.provinces[s].citys)},getAreas:function(e,t){if("sale"==t){var a=this.saleAdds.citys;for(var s in a)a[s].strCityId==e&&(this.saleAdds.areas=a[s].areas)}else for(var s in this.citys)this.citys[s].strCityId==e&&(this.areas=this.citys[s].areas)},addSaleAddr:function(){var e=this.saleAddsId.strSaleProvinceId.split(",")[1]?this.saleAddsId.strSaleProvinceId.split(",")[1]:"全部",t=this.saleAddsId.strSaleCityId.split(",")[1]?this.saleAddsId.strSaleCityId.split(",")[1]:"全部",a=this.saleAddsId.strSaleAreaId.split(",")[1]?this.saleAddsId.strSaleAreaId.split(",")[1]:"全部",s={saleName:e+"  "+t+"  "+a,saleId:{addr_province_id:this.saleAddsId.strSaleProvinceId.split(",")[0],addr_city_id:this.saleAddsId.strSaleCityId.split(",")[0],addr_area_id:this.saleAddsId.strSaleAreaId.split(",")[0]}};for(var r in this.addSaleList)if(this.addSaleList[r].saleId.addr_province_id==s.saleId.addr_province_id&&this.addSaleList[r].saleId.addr_city_id==s.saleId.addr_city_id&&this.addSaleList[r].saleId.addr_area_id==s.saleId.addr_area_id)return void this.$layer.alert("该地址已添加！");this.addSaleList.push(s)},delSaleAddr:function(e){console.log(e),this.addSaleList.splice(e,1)},cancelnow:function(){this.$router.push({path:"/channel/store"})},submitnow:function(e){var t=this,a=this,s=[];for(var i in this.addSaleList)s.push(this.addSaleList[i].saleId);var l={strAddress:o.a.Trim(this.ruleForm.strAddress),strProvinceId:this.ruleForm.strProvinceId,strCityId:this.ruleForm.strCityId,strAreaId:this.ruleForm.strAreaId,strStoreName:o.a.Trim(this.ruleForm.strStoreName),strChannelManagerId:this.strChannelManagerId,strRelationId:this.strRelationId,strLevelId:this.strLevelId,saleAddrList:r()(s)},d=[{val:"[]"!=l.saleAddrList,msg:"请添加销售范围"}];this.ifValidateNext&&d.splice(1,0,{val:this.structBid,msg:"请选择次级渠道"}),this.$refs[e].validate(function(e){if(!e||!o.a.Validate(d))return console.log("error submit!!"),!1;n.a.addStoreLogic(l).then(function(e){if("0"!=e.ret)return void t.$layer.alert(e.retinfo);a.$message("成功！"),a.$router.push({path:"/channel/store"})})})}},mounted:function(){this.loadInfo()}}},uJvA:function(e,t,a){"use strict";var s={channelList:[],addrList:[]};t.a=s},uVzb:function(e,t){},ukYY:function(e,t,a){"use strict";var s=a("bOdI"),r=a.n(s),i=a("Du/2"),l=(a("s0MJ"),r()({},i.a,function(e,t){e.menu=t}));t.a=l},umBg:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("el-col",{attrs:{span:12}},[e._v("模块管理")]),e._v(" "),a("el-col",{staticClass:"textRight",attrs:{span:12}},[a("router-link",{attrs:{to:"index"}},[a("el-button",{attrs:{size:"small"}},[e._v("返回权限管理")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"searchItem"},[a("span",{staticClass:"searchTitle"},[e._v("所属系统：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.s_system_id,callback:function(t){e.$set(e.searchkeys,"s_system_id",t)},expression:"searchkeys.s_system_id"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1),e._v(" "),a("div",{staticClass:"searchItem"},[a("span",{staticClass:"searchTitle"},[e._v("模块名称：")]),e._v(" "),a("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.s_module_name,callback:function(t){e.$set(e.searchkeys,"s_module_name",t)},expression:"searchkeys.s_module_name"}})],1),e._v(" "),a("div",{staticClass:"goSearch"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)]),e._v(" "),a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.Add()}}},[e._v("新增模块")])],1),e._v(" "),a("table",{staticClass:"el-table el-table--border border-RB-none",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(0),e._v(" "),e._l(e.dataList,function(t,s){return a("tr",[a("td",{class:{hidden:t.Fsystem_idDis},attrs:{rowspan:t.Fsystem_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fsystem_name))])]),e._v(" "),a("td",{class:{hidden:t.Fauthority_idDis},attrs:{rowspan:t.Fauthority_idSpan}},[a("div",{staticClass:"cell"},[e._v(e._s(t.Fname))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.Fdesc))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[t.upStatus?a("span",[e._v("禁用"),a("br"),a("span",{staticClass:"unUseStatus"},[e._v("上级被禁用，当前无法操作")])]):"1"==t.Fstatus?a("span",[e._v("启用")]):a("span",[e._v("禁用")])])]),e._v(" "),a("td",[1==t.Fstatus?a("div",{staticClass:"cell"},[a("el-button",{staticClass:"indexFunBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){e.getEditData(s)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"indexFunBtn",attrs:{type:"danger",size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("禁用")])],1):a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"primary",disabled:t.upStatus,size:"small"},on:{click:function(a){e.setStatusConfirm(t.Fauthority_id,t.Fstatus)}}},[e._v("启用")])],1)])])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"addModule",attrs:{model:e.addModule,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属系统：",prop:"c_system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addModule.c_system_id,callback:function(t){e.$set(e.addModule,"c_system_id",t)},expression:"addModule.c_system_id"}},e._l(e.enableSystemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块名称：",prop:"c_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},model:{value:e.addModule.c_name,callback:function(t){e.$set(e.addModule,"c_name",t)},expression:"addModule.c_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"c_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入模块描述"},model:{value:e.addModule.c_desc,callback:function(t){e.$set(e.addModule,"c_desc",t)},expression:"addModule.c_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("addModule")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"editModule",attrs:{model:e.editModule,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属系统：",prop:"e_system_id"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.editModule.e_system_id,callback:function(t){e.$set(e.editModule,"e_system_id",t)},expression:"editModule.e_system_id"}},e._l(e.systemList,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块名称：",prop:"e_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入模块名称"},model:{value:e.editModule.e_name,callback:function(t){e.$set(e.editModule,"e_name",t)},expression:"editModule.e_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"e_desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:100,placeholder:"请输入模块描述"},model:{value:e.editModule.e_desc,callback:function(t){e.$set(e.editModule,"e_desc",t)},expression:"editModule.e_desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitnow("editModule")}}},[e._v("确认")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("系统")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("模块")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"40%"}},[a("div",{staticClass:"cell"},[e._v("描述")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("状态")])]),e._v(" "),a("th",{staticClass:"is-leaf",attrs:{width:"15%"}},[a("div",{staticClass:"cell"},[e._v("操作")])])])}],i={render:s,staticRenderFns:r};t.a=i},vDwK:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 编辑模板")]),e._v(" "),a("el-form",{staticClass:"content-width",attrs:{"label-width":"180px"}},[a("el-form-item",{attrs:{label:"渠道关系模板ID：",prop:"strTemplateId"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dict.strTemplateId,callback:function(t){e.$set(e.dict,"strTemplateId",t)},expression:"dict.strTemplateId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道关系模板名称：",prop:"strTemplateName"}},[a("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.dict.strTemplateName,callback:function(t){e.$set(e.dict,"strTemplateName",t)},expression:"dict.strTemplateName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道关系模板描述：",prop:"strTemplateDesc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入模板描述"},model:{value:e.dict.strTemplateDesc,callback:function(t){e.$set(e.dict,"strTemplateDesc",t)},expression:"dict.strTemplateDesc"}})],1),e._v(" "),a("el-form-item",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[a("el-table-column",{attrs:{prop:"strLevelId",label:"层级ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"层级",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t\t\t    \t\t"+e._s(t.$index+1)+"\r\n\t\t\t    \t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"层级名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入层级名称"},model:{value:t.row.strLevelName,callback:function(a){e.$set(t.row,"strLevelName",a)},expression:"scope.row.strLevelName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"层级描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.row.strLevelDesc,callback:function(a){e.$set(t.row,"strLevelDesc",a)},expression:"scope.row.strLevelDesc"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"showRoles",label:"角色",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.setindex(t.$index)}}},[e._v("选择角色")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择角色",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{staticClass:"tool"}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentFroles,stripe:""}},[a("el-table-column",{attrs:{label:"选择",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.strSelect,callback:function(a){e.$set(t.row,"strSelect",a)},expression:"scope.row.strSelect"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleId",label:"角色Id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleName",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strRoleDesc",label:"角色描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strAuthoritysName",label:"权限名称"}})],1),e._v(" "),a("div",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:e.setselect}},[e._v("确认")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"submitRight"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitnow}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.cancelnow}},[e._v("取消")])],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},vyHH:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={data:function(){return{addDialog:!1,editDialog:!1,ifAdd:!0,dataList:[],cateRoleList:[],pageIndex:"0",pageSize:"10",currentPage:1,total:0,searchkeys:{cateId:"",roleName:""},handelAddCateRole:{c_cate_id:"",c_name:"",c_desc:"",c_status:"1"},handelEditCateRole:{e_cate_id:"",e_name:"",e_desc:"",e_status:"1"},rules:{c_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],c_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}],e_name:[{required:!0,validator:r.a.validateName1,trigger:"blur"}],e_desc:[{required:!0,validator:r.a.validateDesc,trigger:"blur"}]}}},mounted:function(){this.showList(),this.loadInfo()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pageIndex=e-1,this.showList()},loadInfo:function(){},showList:function(){var e=this,t={pageIndex:String(this.pageIndex),pageSize:this.pageSize};s.a.getCateRoleList(t).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);var a=t.data.list;e.dataList=a,e.total=Number(t.data.nums)})},setStatus:function(e,t){var a=this,r={s_cate_id:e,s_status:"1"==t?"2":"1"};s.a.changeCateRoleStatus(r).then(function(e){if("0"!=e.ret)return void a.$message(e.retinfo);a.$message("成功！"),a.showList()})},addCateRole:function(){this.handelAddCateRole.c_cate_id="",this.handelAddCateRole.c_name="",this.handelAddCateRole.c_desc="",this.addDialog=!0},getEditData:function(e){var t=this.dataList[e];this.handelEditCateRole.e_cate_id=t.Fcate_id,this.handelEditCateRole.e_name=t.Fname,this.handelEditCateRole.e_desc=t.Fdesc,this.editDialog=!0},search:function(){this.showList()},submitnow:function(e){var t=this;this.addDialog?(this.handelAddCateRole.c_name=r.a.Trim(this.handelAddCateRole.c_name),this.handelAddCateRole.c_desc=r.a.Trim(this.handelAddCateRole.c_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.addCateRole(t.handelAddCateRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.addDialog=!1})})):(this.handelEditCateRole.e_name=r.a.Trim(this.handelEditCateRole.e_name),this.handelEditCateRole.e_desc=r.a.Trim(this.handelEditCateRole.e_desc),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.editCateRole(t.handelEditCateRole).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);t.$message("成功！"),t.showList(),t.editDialog=!1})}))},setStatusConfirm:function(e,t){var a=this,s={title:"1"==t?"禁用":"启用"},r=this.$createElement;s.content="1"==t?r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该分类中所有内容将被禁用•"),r("p",{style:"color:#ff4949"},"• 将无法往该分类中新增内容请谨慎操作！"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]):r("div",null,[r("p",{style:"margin-bottom:6px"},"禁用后："),r("p",{style:"color:#ff4949"},"• 该分类中的内容将恢复至禁用前的状态"),r("p",{style:"margin-top:6px"},"请谨慎操作！")]),this.$confirm(s.content,s.title,{}).then(function(){a.setStatus(e,t)}).catch(function(){})},cancelnow:function(e){this.editDialog=!1,this.addDialog=!1}}}},xM0o:function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ");t.a={created:function(){},data:function(){return{collapsed:!1,menuRutes:[],menuList:[],showDiv:!1}},methods:{handleOpen:function(){},handleClose:function(){},goToHome:function(){window.location.href=r.a.powerCenterLoginPage+"/login?system_id=25&jump_url=mba.huanjixia.com"},setCollapsed:function(){this.collapsed=!this.collapsed},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},getModule:function(e){var t=this.$router.options.routes;for(var a in t)t[a].menuShow&&"home"!=t[a].name&&(this.$router.options.routes[a].menuShow=!1);for(var s in e)for(var r in t)e[s].name==t[r].name&&(this.$router.options.routes[r].menuShow=!0);this.menuRutes=this.$router.options.routes},getDeepModule:function(e){var t=this.$router.options.routes;for(var a in t){t[a].menuShow&&"home"!=t[a].name&&(this.$router.options.routes[a].menuShow=!1);var s=this.$router.options.routes[a].children;if(s)for(var r in s)s[r].menuShow&&1==s[r].menuShow&&(this.$router.options.routes[a].children[r].menuShow=!1)}for(var i in e)for(var l in t)if(e[i].name==t[l].name&&(this.$router.options.routes[l].menuShow=!0),t[l].children&&e[i].sub_menu)for(var n in e[i].sub_menu)for(var o in t[l].children)e[i].sub_menu[n].name==t[l].children[o].name&&0==t[l].children[o].menuShow&&(this.$router.options.routes[l].children[o].menuShow=!0);this.menuRutes=this.$router.options.routes},get_user_menu:function(){var e=this,t=encodeURIComponent(r.a.accessHost),a=r.a.getCookie("userid"),i=r.a.getCookie("useruuid"),l={userid:a,token:i,systemid:r.a.systemId};if(a){var n=this.$loading({lock:!0,text:"玩命加载中......",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});s.a.get_user_authority(l).then(function(t){if("0"!=t.ret)return e.$message({message:t.retinfo,type:"warning"}),void n.close();n.close(),e.showDiv=!0,e.menuList=t.data.menu,e.getModule(e.menuList)})}else window.location.href=r.a.powerCenterLoginPage+"/login?system_id="+r.a.systemId+"&jump_url="+t},setTestCookie:function(){r.a.setCookie("userid","694"),r.a.setCookie("username","tianyu"),r.a.setCookie("useruuid","c6ed5c8e9830cf9225d078bdde335de7")}},mounted:function(){this.get_user_menu()}}},xfJu:function(e,t,a){"use strict";function s(e){a("lzDz")}var r=a("5Sby"),i=a("vDwK"),l=a("46Yf"),n=s,o=l(r.a,i.a,!1,n,"data-v-2ff86180",null);t.a=o.exports},yueM:function(e,t,a){e.exports=a.p+"other/img/sunrise.51b045b.png"},yyCL:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("全部D")]),e._v(" "),a("el-form",{ref:"searchkeys",staticClass:"searchTool",staticStyle:{overflow:"hidden"},attrs:{model:e.searchkeys}},[a("el-row",{attrs:{gutter:14}},[a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("组织身份：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strLevelCode"}},[a("el-checkbox-group",{model:{value:e.searchkeys.strLevelCode,callback:function(t){e.$set(e.searchkeys,"strLevelCode",t)},expression:"searchkeys.strLevelCode"}},[a("el-checkbox",{attrs:{label:"D1"}}),e._v(" "),a("el-checkbox",{attrs:{label:"D2"}}),e._v(" "),a("el-checkbox",{attrs:{label:"D3"}}),e._v(" "),a("el-checkbox",{attrs:{label:"D4"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"searchTitle"},[e._v("状态：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchkeys.strStatus,callback:function(t){e.$set(e.searchkeys,"strStatus",t)},expression:"searchkeys.strStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusList,function(e){return a("el-option",{key:e.strStatusId,attrs:{label:e.strStatudName,value:e.strStatusId}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("姓名：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strDUserName"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strDUserName,callback:function(t){e.$set(e.searchkeys,"strDUserName",t)},expression:"searchkeys.strDUserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("手机号：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strPhoneNum"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入手机号"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strPhoneNum,callback:function(t){e.$set(e.searchkeys,"strPhoneNum",t)},expression:"searchkeys.strPhoneNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v("身份证号码：")]),e._v(" "),a("el-form-item",{attrs:{prop:"strCardNum"}},[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"请输入身份证号码"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.searchkeys.strCardNum,callback:function(t){e.$set(e.searchkeys,"strCardNum",t)},expression:"searchkeys.strCardNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("p",{staticClass:"searchTitle"},[e._v(" ")]),e._v(" "),a("el-form-item",{staticClass:"textRight"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("创建D用户")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{label:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n\t    \t\t"+e._s(t.row.strPrefixUserId)+"\r\n\t        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strUserName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strPhoneNum",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strCardNum",label:"身份证号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strLevelNames",label:"组织身份"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.strStatus?a("span",[e._v("待审核")]):"2"==t.row.strStatus?a("span",[e._v("资料不全")]):"3"==t.row.strStatus?a("span",[e._v("合作中")]):"4"==t.row.strStatus?a("span",[e._v("暂停合作")]):"5"==t.row.strStatus?a("span",[e._v("黑名单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.detailD(t.row.strUserId)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editD(t.row.strUserId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},zG71:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("渠道商 / 列表")]),e._v(" "),a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择省份"},model:{value:e.provinceId,callback:function(t){e.provinceId=t},expression:"provinceId"}},e._l(e.provinces,function(e){return a("el-option",{key:e.strProvinceId,attrs:{label:e.strProvinceName,value:e.strProvinceId}})}))],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"按商户ID、名称搜索"},nativeOn:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.search(t)}},model:{value:e.filters.searchkey,callback:function(t){e.$set(e.filters,"searchkey",t)},expression:"filters.searchkey"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.clearForm("searchkeys")}}},[e._v("清空")])],1)],1),e._v(" "),a("div",{staticClass:"tool"},[a("router-link",{attrs:{to:"add_channel"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","min-height":"300px"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{prop:"strChannelId",label:"商户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelName",label:"商户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strProvinceName",label:"商户地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(t.row.strProvinceName+t.row.strCityName+t.row.strAreaName)+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(1==t.row.strState?"正常":"停止")+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strChannelScore",label:"商户评分"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.strChannelScore?a("span",[e._v("A")]):"1"==t.row.strChannelScore?a("span",[e._v("B")]):"2"==t.row.strChannelScore?a("span",[e._v("C")]):"3"==t.row.strChannelScore?a("span",[e._v("D")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"strS4Name",label:"S4"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strS4Tel",label:"S4手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"strCreateTime",label:"合作时间"}}),e._v(" --\x3e\r\n        "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editChannel(t.row.strChannelId)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],i={render:s,staticRenderFns:r};t.a=i},"zn+w":function(e,t,a){"use strict";var s=a("P9l9"),r=a("s0MJ"),i=a("uJvA");t.a={data:function(){var e=function(e,t,a){t=r.a.Trim(t);var s=t.gblen();s<12||s>100?a(new Error("请输入12~100个字符")):r.a.checkSpecialWord(t)&&a(new Error("公司名称不能包含特殊字符")),a()},t=function(e,t,a){var s=t.gblen();(s<4||s>100)&&a(new Error("请输入4~100个字符")),a()},a=function(e,t,a){var s=t.gblen();(s<4||s>20)&&a(new Error("请输入4~20个字符")),a()},s=function(e,t,a){t[0]||a(new Error("请选择合同有效时间")),a()};return{apiRoot:r.a.api,fileName:"fileName",bankList:[],statusList:[],defaultData:"",number:"number",imageUrl1:"",imageUrl2:"",dealer:{provinceChange:!1,cityChange:!1,provinces:i.a.addrList,citys:"",areas:""},bankAddr:{provinceChange:!1,cityChange:!1,provinces:i.a.addrList,citys:[],areas:[]},ruleForm:{dateRange:[],dealer:{dealerid:"",strStatus:"",strDealerName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strAddress:"",strLicenseNum:"",strLicensePic:"",account_bank:{strAccountNum:"",strAccountName:"",strAddrProvinceId:"",strAddrCityId:"",strAddrAreaId:"",strBankId:"",strBranchName:""},strContractBeginTime:"",strContractEndTime:"",strContractPic:""}},rules:{"dealer.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.strDealerName":[{required:!0,validator:e,trigger:"blur"}],"dealer.strAddress":[{required:!0,validator:r.a.validateAddr,trigger:"blur"}],"dealer.strLicenseNum":[{required:!0,validator:r.a.validateLicenseNum,trigger:"blur"}],"dealer.account_bank.strAccountNum":[{required:!0,validator:r.a.validateAccountNum,trigger:"blur"}],"dealer.account_bank.strAccountName":[{required:!0,validator:t,trigger:"blur"}],"dealer.account_bank.strBranchName":[{required:!0,validator:a,trigger:"blur"}],"dealer.account_bank.strAddrProvinceId":[{required:!0,message:"请选择省份",trigger:"change"}],"dealer.account_bank.strAddrCityId":[{required:!0,message:"请选择城市",trigger:"change"}],"dealer.account_bank.strAddrAreaId":[{required:!0,message:"请选择区域",trigger:"change"}],"dealer.account_bank.strBankId":[{required:!0,message:"请选择开户银行",trigger:"change"}],dateRange:[{required:!0,validator:s,trigger:"blur"}]}}},watch:{"ruleForm.dealer.strAddrProvinceId":function(e,t){this.ruleForm.dealer.strAddrCityId="",this.getCitys(e,this.dealer.provinceChange),this.dealer.provinceChange=!0},"ruleForm.dealer.strAddrCityId":function(e){this.ruleForm.dealer.strAddrAreaId="",this.getAreas(e,this.dealer.cityChange),this.dealer.cityChange=!0},"ruleForm.dealer.account_bank.strAddrProvinceId":function(e,t){this.ruleForm.dealer.account_bank.strAddrCityId="",this.getCitys(e,this.bankAddr.provinceChange,"bank"),this.bankAddr.provinceChange=!0},"ruleForm.dealer.account_bank.strAddrCityId":function(e){this.ruleForm.dealer.account_bank.strAddrAreaId="",this.getAreas(e,this.bankAddr.cityChange,"bank"),this.bankAddr.cityChange=!0}},mounted:function(){this.getId(),this.getdefaultData()},methods:{getId:function(){this.ruleForm.dealer.dealerid=this.$route.query.id},loadInfo:function(){var e=this;s.a.getDStatus({who:"dealer"}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.statusList=t.data.list}),s.a.getBank({}).then(function(t){if("0"!=t.ret)return void e.$message(t.retinfo);e.bankList=t.data.bankList}),0==i.a.addrList.length?s.a.getAddress({}).then(function(t){if("0"!=t.ret)return void e.$layer.alert(t.retinfo);i.a.addrList=t.data.address,e.dealer.provinces=t.data.address,e.bankAddr.provinces=t.data.address,e.ruleForm.dealer.strAddrProvinceId=e.defaultData.strAddrProvinceId,e.ruleForm.dealer.account_bank.strAddrProvinceId=e.defaultData.account_bank.strAddrProvinceId}):(this.ruleForm.dealer.strAddrProvinceId=this.defaultData.strAddrProvinceId,this.ruleForm.dealer.account_bank.strAddrProvinceId=this.defaultData.account_bank.strAddrProvinceId)},getdefaultData:function(e){var t=this;s.a.getDealerInfo({dealerid:this.ruleForm.dealer.dealerid}).then(function(e){if("0"!=e.ret)return void t.$message(e.retinfo);var a=e.data;t.defaultData=e.data,t.ruleForm.dealer.strDealerName=a.strDealerName,t.ruleForm.dealer.strLicenseNum=a.strLicenseNum,t.ruleForm.dealer.strAddress=a.strAddress,t.ruleForm.dealer.account_bank.strAccountName=a.account_bank.strAccountName,t.ruleForm.dealer.account_bank.strBankId=a.account_bank.strBankId,t.ruleForm.dealer.account_bank.strBranchName=a.account_bank.strBranchName,t.ruleForm.dealer.account_bank.strAccountNum=a.account_bank.strAccountNum,t.ruleForm.dealer.strStatus=a.strStatusId,t.ruleForm.dealer.strLicensePic=a.strLicensePic,t.ruleForm.dealer.strContractPic=a.strContractPic,t.imageUrl1=t.apiRoot+"/static/upload/"+a.strLicensePic,t.imageUrl2=t.apiRoot+"/static/upload/"+a.strContractPic;var s=a.strContractBeginTime.split(" "),r=a.strContractEndTime.split(" ");return t.ruleForm.dateRange=[s[0]+"T"+s[1]+".000Z",r[0]+"T"+r[1]+".000Z"],!0}).then(function(e){e&&t.loadInfo()})},cancelnow:function(){this.$router.push({path:"/Dealer/index"})},test:function(){console.log(this.bankAddr.areas)},submitnow:function(e,t){var a=this,i=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.ruleForm.dealer.strDealerName=r.a.Trim(a.ruleForm.dealer.strDealerName),a.ruleForm.dealer.strContractBeginTime=a.ruleForm.dateRange[0],a.ruleForm.dealer.strContractEndTime=a.ruleForm.dateRange[1],s.a.editDealerLogic(a.ruleForm).then(function(e){if("0"!=e.ret)return void a.$message("失败！");a.$message("成功！"),t?i.$refs.ruleForm.resetFields():i.$router.push({path:"/Dealer/index"})})})},getCitys:function(e,t,a){if("bank"==a){var s=this.bankAddr.provinces;for(var r in s)s[r].strProvinceId==e&&(this.bankAddr.citys=s[r].citys,t||(this.ruleForm.dealer.account_bank.strAddrCityId=this.defaultData.account_bank.strAddrCityId))}else{var i=this.dealer.provinces;for(var r in i)i[r].strProvinceId==e&&(this.dealer.citys=i[r].citys,t||(this.ruleForm.dealer.strAddrCityId=this.defaultData.strAddrCityId))}},getAreas:function(e,t,a){if("bank"==a){var s=this.bankAddr.citys;for(var r in s)s[r].strCityId==e&&(console.log(this.bankAddr.areas),this.bankAddr.areas=s[r].areas,console.log(this.bankAddr.areas),t||(this.ruleForm.dealer.account_bank.strAddrAreaId=this.defaultData.account_bank.strAddrAreaId))}else{var i=this.dealer.citys;for(var r in i)i[r].strCityId==e&&(this.dealer.areas=i[r].areas,t||(this.ruleForm.dealer.strAddrAreaId=this.defaultData.strAddrAreaId))}},handleAvatarSuccess1:function(e,t){this.ruleForm.dealer.strLicensePic=t.response.fileName,this.imageUrl1=URL.createObjectURL(t.raw)},handleAvatarSuccess2:function(e,t){this.ruleForm.dealer.strContractPic=t.response.fileName,this.imageUrl2=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t,a="image/jpeg"===e.type,s="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<1;return a||s||r||(t=!1,this.$message.error("只能上传头像图片格式为.jpg .png .jpeg!")),i||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&i}}}}},[0]);
//# sourceMappingURL=app.6e92f8ce9585ab56c644.js.map